{"version":3,"sources":["htmlix-array.js","htmlix-container.js","htmlix-emiter-and-router.js","htmlix-props.js","htmlix-state.js"],"names":["HTMLixArray","node","containerHTML","rootLink","pathToComponent","selector","htmlLink","data","type","templateData","cloneNode","index","renderType","prototype","add","props","insertLocation","container","addContainer","removeIndex","indexArray","widthChild","removeByIndexes","removeAll","reuseAll","arrayWithObjects","newArrLength","length","oldArrLength","remove","i","setAllProps","key","prop","t","f","getAll","map_Object","array_r","undefined","push","getAllProps","order","newOrderArr","changeOrder","Container","containerName","methods","pathToContainer","isRuncreatedContainer","newProps","pathToCоmponent","name","i2","htmlLinkToProp","querySelector","Prop","string","console","log","createdContainer","bind","groupId","groupParent","removeFromGroup","properties","setProp","properties_r","getProp","component","state","HTMLixRouter","routes","namePathInRoutes","findComponent","urlPath","window","location","pathname","pathArray","split","isCountSerchСoincide","pathArrayFind","word","slice","paramWord","pop","word2","searchInword","searchInwordCount","isParam","y","count","search","templatePath","stateSettings","key2","toCare","first","stateWithRoutes","HTMLixState","routerObj","matchRout","findRouters","nameArrComp","routComponent","document","keyRouter","setHtml","innerHTML","appendChild","setRout","url","newComponent","history","pushState","router","EventEmiter","eventName","listeners","listenersEventMethods","event","Event","addListener","htmlLinkToListener","eventMethod","nameListener","addEventListener","removeListener","removeEventListener","emit","dispatchEvent","setEventProp","getEventProp","keyData1","keyData2","parentContainer","constructorProp","subtype","prop_r","events","emiterKey","emiter","groupChild","groupArray","renderChild","parent","propName","dataset","capitalizeFirstLetter","mess","isEvent","isEmiter","Math","floor","random","eventProps","componentName","initRenderVariant","removeAllChild","initGroup","value","setProp_sybtypes","textContent","checked","Array","isArray","u","classList","k","isAttr","setAttribute","render","renderByContainer","setOrCreateAndRender","reuseGroup","group","createNewGroup","createInGroup","eventType","getProp_sybtypes","getAttribute","return_obg","obj_r","removeProp","removeProp_sybtypes","isRemove","renderParent","clearGroup","nameComponent","containerLink","objWidthProps","groupID","splice","indexes","getGroupsArray","h","groupArray_r","addToGroup","groupArr","loc","insertBefore","children","p","objIs","firstElementChild","objToFind","key5","description","arrayInit","fetchComponents","containerInit","nameVirtualArray","nameContainer","key4","virtualArrayComponents","groupItems","countItems","key57","disableEvent","enableEvent","emiterName","rootLink_p","key123","isEv","StateMap","stateMethods","stateProperties","eventEmiters","context","StateMap1","fetchTemplates","divEl","key10","verifyFetchComponents","initStandartComponents","lengthChildren","querySelectorAll","array_selector","j","container23","onLoadAll","stateNameProp","stateArray","isNaN","Link","desc","newData","clearContainerProps","removeByIndex","r","filter","some","numb","key1","indexesArr","it","getDifrentFilds","array","fild","newArr","compareItem","JSON","stringify","isPersist","forEach","newItem","compareItem_2","callb","fetch","then","response","ok","text","Error","div","createElement","error","charAt","toUpperCase"],"mappings":"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","file":"htmlix.js","sourcesContent":["function HTMLixArray(node, containerHTML, rootLink, pathToComponent, selector){\r\n\r\n\r\n\t\t    this.htmlLink = node, \r\n\t\t\tthis.data = [],\r\n\t\t\tthis.rootLink = rootLink,\r\n\t\t\tthis.pathToComponent = pathToComponent,\r\n\t\t\tthis.type = \"array\",\r\n\t\t\tthis.templateData = containerHTML.cloneNode(true),\r\n\t\t\t/*this.id = null, */\r\n\t\t\tthis.index = null,\r\n\t\t\tthis.renderType = \"array\",\r\n\t\t\tthis.selector = selector\r\n\t\t\t\r\n\t\t\tif(node == \"virtual-array\")this.renderType = \"virtual-array\";\r\n\r\n\t\t}\r\nHTMLixArray.prototype.add = function(props, insertLocation){\r\n\t\t\r\n\t\tvar container = this.rootLink.addContainer(this.pathToComponent, props, insertLocation);\r\n\t\treturn  container;\r\n\r\n\t}\r\n\r\nHTMLixArray.prototype.removeIndex = function(indexArray, widthChild){\r\n\r\n\t\tif(typeof indexArray != \"object\")indexArray = [indexArray];\r\n\r\n\t\tthis.rootLink.removeByIndexes(this.pathToComponent, indexArray, widthChild)\r\n\r\n\t}\r\n\r\nHTMLixArray.prototype.removeAll = function( widthChild){\r\n\r\n\t\tthis.rootLink.removeAll(this.pathToComponent, widthChild)\r\n\r\n\t}\r\n\t\r\nHTMLixArray.prototype.reuseAll = function(arrayWithObjects){\r\n\t\r\n\tvar newArrLength = arrayWithObjects.length;\r\n\tvar oldArrLength = this.data.length;\r\n\t\r\n\tvar add = 0;\r\n\tvar remove =0;\r\n\t\r\n\tif(newArrLength > oldArrLength) add = newArrLength - oldArrLength;\r\n\tif(newArrLength < oldArrLength) remove =  oldArrLength - newArrLength;\r\n\t\r\n\tfor(var i=0; i<this.data.length; i++){\r\n\t\t\r\n\t\tthis.data[i].setAllProps(arrayWithObjects[i]);\r\n\t\t\r\n\t\t\tfor(var key in this.data[i].props){\r\n\t\t\t\r\n\t\t\tthis.data[i].props[key].prop = null;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tif(add > 0){\r\n\t\tfor (var t=0; t<add; t++){\r\n\t\t\t\r\n\t\t\tthis.add(arrayWithObjects[oldArrLength + t]);\r\n\t\t}\t\r\n\t}\r\n    if(remove > 0){\r\n\t\tfor (var f=0; f<remove; f++){\r\n\t\t\t\r\n\t\t\tthis.removeIndex([this.data.length - 1], true);\r\n\t\t}\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\nHTMLixArray.prototype.getAll = function(map_Object){\r\n\t\t\r\n\t\tvar array_r = [];\t\t\r\n\t\t\r\n     if(map_Object != undefined){\r\n\t\t \r\n\t\t for (var f=0; f<this.data.length; f++){\r\n\t\t\t\r\n\t\t\tarray_r.push(  this.data[f].getAllProps(map_Object) );\r\n\t\t}\r\n\t\t \r\n\t }else{\r\n\t\t \r\n\t\t for (var f=0; f<this.data.length; f++){\r\n\t\t\t\r\n\t\t\tarray_r.push(  this.data[f].getAllProps() );\r\n\t\t}\r\n\t\t \r\n\t }\t\r\n\r\n\t\treturn array_r;\r\n}\r\n\r\nHTMLixArray.prototype.order = function(newOrderArr){\r\n\t\r\n\t\r\n\tthis.rootLink.changeOrder(this.pathToComponent, newOrderArr);\r\n\t\r\n}\r\n","function Container(htmlLink, containerName,  props, methods, index, pathToContainer, rootLink, isRuncreatedContainer, newProps) {\r\n  this.htmlLink = htmlLink;\r\n  this.rootLink = rootLink;\r\n  this.props = {};\r\n  this.index = index; \r\n  this.pathToCоmponent = pathToContainer; \r\n  this.name = containerName;\r\n  this.type =  \"container\";\r\n  this.renderType =  \"container-outer\";\r\n\r\n  if(props == undefined)props = [];\r\n  for(var i2 = 0; i2 < props.length; i2++){\r\n\r\n         if(methods == undefined)methods = {};\r\n\r\n\t\t \t\t if(typeof props[i2] == \"string\"){\r\n\r\n\t\t\t \t\t\t \t    var htmlLinkToProp = this.htmlLink.querySelector('[data-'+containerName+'-'+props[i2]+']');\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(htmlLinkToProp == undefined)htmlLinkToProp = this.htmlLink;\t\t\t\r\n\r\n\t\t\t\t\t\t\tthis.props[ props[i2] ] = new Prop(htmlLinkToProp, containerName,\tprops[i2], methods[ props[i2] ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pathToCоmponent,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewProps\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\r\n\t\t }else{\r\n\r\n\t\t\t     \t\t\t\t var string =  props[i2][0];\r\n\r\n\t\t\t\t \t\t\t\t var selector = props[i2][2];\r\n\r\n\t\t\t\t \t\t\t\t var  htmlLinkToProp = this.htmlLink;\r\n\r\n\t\t\t\t \t\t\t\t if(selector != \"\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t  htmlLinkToProp = this.htmlLink.querySelector(selector);\r\n\r\n\t\t\t\t\t  \t\t\t\t\t\t  if(htmlLinkToProp == undefined){\r\n\t\t\t\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t\t\t\t  console.log(\"error - не возможно найти селектор для свойства \"+selector+\" контейнера \"+containerName+\" проверьте правильность селектора или наличие тега в html разметке\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t  continue;\r\n\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t                 }\r\n\r\n\t\t\t     \t\t \t\t\t\t      this.props[ string ] = new Prop(htmlLinkToProp, \r\n\t\t\t\t                                   containerName,\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t   props[i2], \r\n\t\t\t\t\t\t\t\t\t\t\t\t   methods[ string ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pathToCоmponent,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t\t\t\t\t   this.rootLink,\r\n\t\t\t\t\t\t\t\t\t\t\t\t   newProps\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\r\n\r\n\t\t }\r\n\r\n\r\n\t\t \t\t\t\t\t\t\t\t}\r\n       if(methods.createdContainer != undefined ){ \r\n\r\n\t\t\t\tthis.createdContainer = methods.createdContainer.bind(this)\r\n\r\n\t\tif(isRuncreatedContainer==undefined || isRuncreatedContainer!=false){\r\n\t\t\t\r\n\t\t\tthis.createdContainer();\r\n\t\t\t//console.log(this);\r\n\t\t}\r\n\t}\r\n\r\n\t}\r\nContainer.prototype.remove = function(widthChild){\r\n\t\r\n\tif(this.groupId != undefined && this.groupParent !=undefined){\r\n\t\t\r\n\t\tthis.groupParent.removeFromGroup(this.groupId);\r\n\t\treturn;\r\n\t}\r\n\tif(this.index == null){\r\n\r\n\t\t\t\tconsole.log(\"conteiner without array not removing, to remove its first add container to array\");\r\n\t\treturn null;\r\n\t}\r\n\tif(widthChild != undefined && widthChild == true){\r\n\r\n\t\t\t\tthis.rootLink.removeByIndexes(this.pathToCоmponent, [this.index], true);\r\n\r\n\t\t\t}else{\r\n\t\tthis.rootLink.removeByIndexes(this.pathToCоmponent, [this.index]);\r\n\t}\r\n      return true;\r\n}\r\n\r\nContainer.prototype.setAllProps = function(properties){\r\n\t\r\n\t\tfor(key in properties){\r\n\r\n\t\t\t\tif(this.props[key]!= undefined){\r\n\r\n\t\t\t\t\t\tthis.props[key].setProp(properties[key]);\r\n\t\t\t\t\t\t\r\n\t\t\t\t}else if(key != \"componentName\"){\r\n\t\t\t\t\t//console.log(this);\r\n\t\t\t\t\tconsole.log(\"warn не найден ключь \"+key+\" в контейнере \"+this.name+\" index \"+this.index+\" массива \"+this.pathToCоmponent+\" проверте правильность названия ключей в объекте properties\");\r\n\t\t\t\t}\r\n\t}\r\n\t\r\n}\r\nContainer.prototype.getAllProps = function(properties){\r\n\t\r\n\tvar properties_r = {};\r\n\t\r\n\tif(properties != undefined){\r\n\t\t\r\n\t\tfor(key in properties){\r\n\r\n\t\t\t\tif(this.props[key]!= undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tproperties_r[key] = this.props[key].getProp(properties[key]);\r\n\t\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\t\r\n\t\tfor(key in this.props){\r\n\r\n\t\t\tproperties_r[key] = this.props[key].getProp();\r\n\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t//console.log( properties_r);\r\n\treturn properties_r;\r\n}\t\r\n\t\r\n\r\nContainer.prototype.component = function(){\r\n\t\r\n\t\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}","function HTMLixRouter(state, routes){\r\n\r\n\t\tvar namePathInRoutes = findComponent(routes); \r\n\r\n\r\n\r\n//поиск соответствующего роута\r\n\t\t\t\t\tfunction findComponent(routes){\r\n\r\n\t\t\t\tvar urlPath = window.location.pathname;\r\n\r\n\t\t\t\t//console.log(urlPath);\r\n\r\n\t\t\t\tif(urlPath == \"/\" && routes[\"/\"] != undefined){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\treturn urlPath;\r\n\t\t}\r\n\r\n\r\n\t\t\t\t\tvar pathArray = urlPath.split(\"/\");\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\tfor(var key in routes){\r\n                    \r\n\t\t\t\t\tvar isCountSerchСoincide = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar pathArrayFind = key.split(\"/\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar word = pathArrayFind.slice(-1)[0];  //поиск последнего слова в маршруте чтобы проверить есть ли у него в конце знак *\r\n\t\t\t\t\t\tvar paramWord = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif( pathArrayFind.length>2 && word == \"\"){\r\n\t\t\t\t\t\t\t word = pathArrayFind.slice(-2)[0];\r\n\t\t\t\t\t\t\t pathArrayFind.pop();\r\n\t\t\t\t\t\t}else if(pathArrayFind.length>2 && word == \"*\"){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tword = pathArrayFind.slice(-2)[0];\r\n\t\t\t\t\t\t\t pathArrayFind.pop();\r\n\t\t\t\t\t\t\tisCountSerchСoincide = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar word2 = pathArray.slice(-1)[0];  //поиск последнего слова в маршруте чтобы убрать пустую строку\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif( pathArray.length>2 && word2 == \"\"){\r\n\t\t\t\t\t\t\t //word2 = pathArrayFind.slice(-2)[0];\r\n\t\t\t\t\t\t\t pathArray.pop();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//console.log(pathArrayFind);\r\n\t\t\t\t\t\tvar searchInword = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar searchInwordCount = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar isParam = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (var y=0; y < pathArrayFind.length; y++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(pathArrayFind[y][pathArrayFind[y].length -1] == \"*\" ){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tsearchInword = true;\r\n\t\t\t\t\t\t\t\tword = pathArrayFind[y];\r\n\t\t\t\t\t\t\t\tsearchInwordCount[y] = y;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(pathArrayFind[y][0] == \":\" ){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tisParam = true;\r\n\t\t\t\t\t\t\t\tparamWord[y] = y;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t//console.log(paramWord+\" param word \"+ pathArrayFind[y]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/*\r\n\r\n\t\t\t\t\t\tif(word[word.length-1] == \"*\"){\r\n\r\n\t\t\t\t\t\t\t\tsearchInword = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\tvar count = 0;\r\n\r\n\t\t\t\t\tfor(var i=0; i< pathArrayFind.length; i++ ){\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(pathArrayFind[i] == pathArray[i]){\r\n\r\n\t\t\t\t\t\t\t\t\t\tcount++;\r\n\r\n\t\t\t\t\t\t\t\t\t}else if(searchInword == true && searchInwordCount[i] != undefined){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar search = pathArray[i].search(word);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\tif( word  != \"\" && search == 0 ){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t//\tconsole.log(search + \" search  \" +  word);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}else if(isParam == true && paramWord[i] != undefined ){ \r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//console.log(count+\" - \"+pathArrayFind.length);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(pathArrayFind); console.log(pathArray);\r\n\t\t\t\t\t\t\r\n\t\t\tif(isCountSerchСoincide == false){\r\n\t\t\t\tif(pathArrayFind.length == count){\r\n\t\t\t\t\t\r\n\t\t\t\t\tnamePathInRoutes = key;\r\n\t\t\t\t\treturn key;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\t\t\t\t\t\t\t\t\r\n\t\t\tif(pathArrayFind.length == count && pathArrayFind.length == pathArray.length){\r\n\r\n\t\t\t\t\t\t\tnamePathInRoutes = key;\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\treturn key;\r\n\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n\r\n//поиск шаблона\r\n\tif(routes[namePathInRoutes] != undefined && routes[namePathInRoutes].templatePath != undefined){\r\n\r\n\t\t\t\tif(state.stateSettings == undefined)state.stateSettings = {};\r\n\r\n\r\n\t\t\t\t\t\tstate.stateSettings.templatePath = routes[namePathInRoutes].templatePath;\r\n\r\n\t\t\t}else{\r\n\r\n\r\n\t\t\t\t\t\tconsole.log(\"router error- маршрут не найден убедитесь в правильности запроса\");\r\n\t             }\r\n///изменение структуры state для загрузки шаблонов для других страниц в fetch запросе\r\n\tfor (var key2 in state){\r\n\r\n\t\t\t\tvar toCare = true;\r\n\r\n\t\t\t\tfor(var t = 0; t< routes[namePathInRoutes].first.length; t++){\r\n\r\n\t\t\t\t\tif(key2 == routes[namePathInRoutes].first[t] || key2 == \"stateSettings\" || key2 ==  \"stateMethods\" ||\r\n\r\n\t\t\t\t\tkey2 == 'stateProperties' || key2 ==  \"eventEmiters\" ||  key2 ==  'virtualArrayComponents' || key2 ==  \"fetchComponents\"\r\n\r\n\t\t\t\t\t\t\t/* ||  key2 ==  'firstInitComponents' */ ){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoCare = false;\r\n\r\n\t\t\t\t\t}\r\n\t\t}\r\n\t\t      if(toCare){\r\n\r\n\t\t\t\t  \t\t\t\t if( state['fetchComponents'] == undefined)state['fetchComponents']  = {};\r\n\r\n\t\t\t\t\t\t\t\tstate['fetchComponents'][key2] = state[key2];\r\n\r\n\t\t\t\tdelete state[key2]\t\t\t\t  \r\n\r\n\t\t\t\t  \t\t\t  }\r\n\r\n\t}\r\n\tvar stateWithRoutes = new HTMLixState(state);\r\n\t\r\n\t\r\n\r\n\t\tvar routerObj = {\r\n\t\t\t\troutes:  routes,\r\n\r\n\t\t\t\thtmlLink: {}, \r\n\r\n\t\t\t\tcomponent: {},\r\n\r\n\t\t\t\tmatchRout: findComponent,\r\n\t\t\t\t\r\n\t\t\t\tfindRouters: function(nameArrComp){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(nameArrComp == undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t   nameArrComp = this.matchRout(this.routes);\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(nameArrComp == null){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"router error - не удается найти совпадающий rout для маршрута \"+window.location.pathname)\r\n\t\t\t\t                        }\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(var key in this.routes[nameArrComp].routComponent){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar key2 = this.routes[nameArrComp].routComponent[key];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.component[key2] == undefined){\r\n\t\t\t\t\t\t\tvar component = this.rootLink.state[key2];\r\n\t\t\t\t\t\t\tthis.component[key2] = component;\r\n\t\t\t\t\t\t\tif(component == undefined)console.log(\"router error - не удается найти компонент \"+key2+\" в описании приложения, проверьте правильность написания ключей в параметре routes для HTMLixRouter\");\r\n\t\t\t\t\t\t\t//console.log(key);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.htmlLink[key] == undefined || this.htmlLink[key] == null)this.htmlLink[key]= document.querySelector(\"[data-\"+key+\"]\");\r\n\t\t\t\t\t\t//console.log(this.htmlLink[key]);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(var key in this.routes[nameArrComp].routComponent){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.htmlLink[key] == undefined || this.htmlLink[key] == null){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor(var keyRouter in this.routes[nameArrComp].routComponent){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.htmlLink[key]= this.component[ this.routes[nameArrComp].routComponent[keyRouter] ].htmlLink.querySelector(\"[data-\"+key+\"]\");\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(this.htmlLink[key] != undefined || this.htmlLink[key] != null) continue;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.htmlLink[key] == undefined || this.htmlLink[key] == null) console.log(\"error в html коде не найден роутер data-\"+key);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tsetHtml: function (nameArrComp){\r\n\t\t\t\t\r\n\r\n\t\t\t\tfor(var key in this.routes[nameArrComp].routComponent){ \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar key2 = this.routes[nameArrComp].routComponent[key];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t        this.htmlLink[key].innerHTML = \"\";\r\n\t\t\t\t\t\tthis.htmlLink[key].appendChild(\r\n\t\t\t\t\t\tthis.component[key2].htmlLink);\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tsetRout: function(url, newComponent){\r\n\t\t\t\t\r\n\t\t\t\t//console.log(url);\r\n\r\n\t\t\t\t\t\twindow.history.pushState( \r\n\t\t\t\t\tnull,\r\n\t\t\t\t\turl,\r\n\t\t\t\t\turl\r\n\t\t\t);\r\n\r\n\r\n\t\t\t\tvar nameArrComp = this.matchRout(this.routes);\r\n\r\n\r\n\t\t\t\t\tif(nameArrComp == null){\r\n\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"router error - не удается найти совпадающий rout для маршрута \"+window.location.pathname)\r\n\t\t\t\t}\t\r\n\t\t\t\tthis.findRouters(nameArrComp);\r\n\t\t\t\tthis.setHtml(nameArrComp);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t\t\r\n\t    stateWithRoutes.router = routerObj;\r\n\r\n\t\tstateWithRoutes.router.rootLink = stateWithRoutes;\r\n\t\trouterObj.findRouters();\r\n\t// stateWithRoutes.router.component = stateWithRoutes.state[routes[namePathInRoutes].routComponent];  \r\n\r\n\t\treturn stateWithRoutes;\t\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction EventEmiter(eventName, prop, listeners, listenersEventMethods){\r\n\r\n\t\tthis.listeners = listeners;\r\n\tthis.listenersEventMethods =  listenersEventMethods;\r\n\r\n\t\tthis.event  = new Event(eventName);\r\n\tthis.type = eventName;\r\n\tthis.prop = prop;\r\n\r\n\r\n\t\t}\r\n\r\nEventEmiter.prototype.addListener = function(htmlLinkToListener, eventMethod, eventName, nameListener){\r\n\r\n\r\n\t\t\thtmlLinkToListener.addEventListener(eventName, eventMethod);\r\n\r\n\t\tthis.listeners[nameListener]= htmlLinkToListener;\r\n\r\n\t\tthis.listenersEventMethods[nameListener] = eventMethod;\r\n}\r\n\r\nEventEmiter.prototype.removeListener = function(htmlLinkToListener){\r\n\r\n\t\t\tvar index = null;\r\n\r\n\t\t\t\tfor (key in this.listeners){\r\n\r\n\t\t\t\t\t\tif(htmlLinkToListener == this.listeners[key])index = key;\r\n\r\n\t\t\t\t\t}\r\n\t\tif(index == null)return;\r\n\t\tthis.listeners[index].removeEventListener(this.type, this.listenersEventMethods[index]);\r\n\r\n\t\t\t\tdelete this.listenersEventMethods[index];\r\n\t\tdelete this.listeners[index];\r\n}\r\n\r\nEventEmiter.prototype.emit = function(){\r\n\r\n\t\tfor(key in  this.listeners){\r\n\r\n\t\t\t\tthis.listeners[key].dispatchEvent(this.event);\r\n\r\n\t\t\t}\r\n\r\n\t}\r\n\r\nEventEmiter.prototype.setEventProp = function(prop){ \r\n\r\n\tthis.prop = prop;\r\n\r\n\t\tthis.emit();\r\n\r\n}\r\n\r\nEventEmiter.prototype.getEventProp = function(){ \r\n\r\n\t\treturn this.prop;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","function Prop(htmlLink, keyData1, keyData2, eventMethod, pathToContainer, parentContainer, rootLink, newProps) {\r\n\t\r\n\t this.htmlLink = htmlLink;\r\n\t this.type = null;\r\n  \r\nfunction constructorProp(subtype, prop_r){\r\n\t  \t  \r\n\t  if(subtype == \"event\"){\r\n\t\t  \r\n\t\t  prop_r.events = {};\r\n\t\t  \r\n\t  }else if(subtype == \"emiter\"){\r\n\t\t  \r\n\t\t  prop_r.emiterKey = \"\";\r\n\t\t  prop_r.emiter = \"\";\r\n\t\t  \r\n\t  }else if(subtype == \"group\"){\r\n\t\t  \r\n\t\t  prop_r.groupChild = [];\r\n\t\t  prop_r.groupArray = null;\r\n\t\t  \r\n\t  }else if(subtype == \"render-variant\"){ \r\n\t  \r\n\t\t  prop_r.renderChild = null;\r\n\t  \r\n\t  }else if(subtype == \"data\"){ \r\n\t  \r\n\t\t  prop_r.parent = parentContainer;\r\n\t  \r\n\t  }\r\n\t  if(subtype != \"data\"){\r\n\t\t\r\n\t  \tprop_r.pathToCоmponent = pathToContainer; \r\n\t\tprop_r.parent = parentContainer; \r\n\t\tprop_r.rootLink = rootLink;\r\n\t\tprop_r.prop = null;\r\n\t\tprop_r.propName = keyData2;\t\t  \r\n\t  }\r\n  \r\n  }\r\n  if(typeof keyData2 == \"object\"){\r\n          \r\n\t  \t  this.type = keyData2[1];\r\n\r\n\t    }else if(keyData2 == \"data\"){\r\n\t\t\t\r\n\t\t\tthis.type = \"data\";\r\n\t\t\tconstructorProp(\"data\", this);\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\tthis.type = htmlLink.dataset[ keyData1 + rootLink.capitalizeFirstLetter(keyData2) ];\r\n\t\t}\r\n\r\n  if(this.type == null){\r\n\t\t\r\n           var mess = \"error не определен тип свойства для data-\"+keyData1+\"-\"+keyData2+\" в html коде не найдено для компонента \"+pathToContainer+\", index= \"+parentContainer.index+\" !, проверьте правильность названия свойств\";\r\n\t\t\tconsole.log(mess);\r\n           throw mess;\r\n\t }\r\n  if(this.isEvent(this.type) != false && eventMethod != undefined ){\r\n\t\t\r\n\t\tconstructorProp(\"event\", this);\r\n\t\t//this.events = {\t};\r\n\t\tthis.events[this.type] = eventMethod.bind(this);\r\n\t\r\n\t\t this.htmlLink.addEventListener(this.type, this.events[this.type]);\r\n\t\t\r\n  }\r\n\r\n    else if(this.isEmiter(this.type, rootLink) != false && eventMethod != undefined ){\r\n\t  \r\n\t   constructorProp(\"emiter\", this);\r\n\t   \r\n\t  this.emiterKey = \"key\"+Math.floor(Math.random()*89999+10000);\r\n\t  this.emiter = this.rootLink.eventProps[this.type];\r\n\t  this.rootLink.eventProps[this.type].addListener(htmlLink, eventMethod.bind(this), this.type, this.emiterKey);\r\n\t \r\n\t}\r\n\telse if(this.type == \"render-variant\" ){\r\n\t\t\r\n       constructorProp(\"render-variant\", this);\r\n\t   \r\n\t\t\t\tif(newProps == undefined || newProps[keyData2] == undefined \r\n\t\t\t\t|| typeof newProps[keyData2] != \"object\" ||  newProps[keyData2].componentName == undefined){\r\n\r\n\t\t\t\t\tthis.initRenderVariant();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.removeAllChild();\r\n\t\t\t\t}\r\n\t\t  \t\t  \r\n\r\n\t}else if(this.type == \"group\"){\r\n\t\t\r\n\t\tconstructorProp(\"group\", this);\r\n\t\t\t\t\r\n\t\t\t\tif(newProps == undefined || newProps[keyData2] == undefined \r\n\t\t\t\t|| typeof newProps[keyData2] != \"object\" ||  newProps[keyData2].componentName == undefined){\r\n\r\n\t\t\t\t\tthis.initGroup(keyData1, keyData2);\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.removeAllChild();\r\n\t\t\t\t}\t\r\n\t}\r\n}\r\nProp.prototype.setProp = function(value, eventMethod) {\r\n\t\r\n\t        if(this.pathToCоmponent != undefined){\r\n\t\t\t\t\r\n\t\t\t\tthis.setProp_sybtypes(value, eventMethod);\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t}else if(this.type == \"text\"){\r\n\r\n\t\t\t\tthis.htmlLink.textContent = value;\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}else if(this.type == \"inputvalue\" || this.type == \"select\"){\r\n\r\n\t\t\tthis.htmlLink.value = value;\r\n\t\t\treturn\r\n\r\n\t\t\t}else if(this.type == \"checkbox\" || this.type == \"radio\"){\r\n\r\n\t\t \t\t if(value != true && value != false)value = true;\r\n\r\n\t\t \t\t this.htmlLink.checked = value;\r\n\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse if(this.type == \"html\"){\r\n\r\n\t\t\t\t  this.htmlLink.innerHTML = value;\r\n\t\t\t\t  return;\r\n\r\n\t\t\t   }else if(this.type == \"class\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(Array.isArray(value)){\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var u=0; u < this.htmlLink.classList.length; u++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.htmlLink.classList.remove(this.htmlLink.classList[u]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var k=0; k < value.length; k++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.htmlLink.classList.add(value[k]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.htmlLink.classList.add(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t}else if(this.isAttr(this.type) != false){\r\n\r\n\t\t\t\tthis.htmlLink.setAttribute(this.isAttr(this.type), value);\r\n\t\t\t\treturn;\r\n\r\n\t\t}else  if(this.type == \"data\"){ \r\n\t\t\t\r\n\t\t\tthis.htmlLink.dataset[ this.parent.name + \"Data\" ] = value;\r\n\t\t\treturn;\r\n\t\r\n\t}\r\n}\r\nProp.prototype.setProp_sybtypes\t= function(value, eventMethod){\r\n\t\r\n\tif(this.type == \"render-variant\"){\r\n\r\n\t\t\tif(typeof value == \"string\" ){\r\n\r\n\t\t\t\t\t\t\t\tthis.render(value);\t\r\n\r\n\t\t\t}else if(typeof value == \"object\" &&  value.renderType != undefined  && value.renderType == \"container-inner\"){\r\n\r\n\t\t\t\t\t\t\t\tthis.renderByContainer(value);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t}else if(typeof value == \"object\" && value.componentName != undefined){\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.setOrCreateAndRender(value);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\r\n\t\t\t\tconsole.log(\"не удается отрисовать контейнер в render-variant если вы хотите отрисовать компонент то используйте текстовый параметр\")\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t\t\r\n\t}else if(this.type == \"group\"){ \r\n\r\n\t\t    if(Array.isArray(value) ){\r\n\t\t\t\t\r\n\t\t\t\t\tthis.reuseGroup(value);\r\n\t\t\t\t\r\n\r\n\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\r\n\t\t\t\tif(value.componentName != undefined && value.group != undefined){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.createNewGroup(value.group, value.componentName);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(value.location != undefined){\r\n\t\t\t\t\t\tvar location = value.location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdelete value.location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.createInGroup(value, location);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t}else {\r\n\t\t\t\r\n\t\t\tconsole.log(\"не получается создать \"+value+\"в группе компонента\"+this.pathToCоmponent);\r\n\t\t}\r\n\t\treturn;\r\n\t}else{ \r\n\t\r\n\t\tvar eventType = this.isEvent(value);\r\n\r\n\t\tif( eventType != false && this.type != eventType){ \r\n\r\n\t\t\t\tif(eventMethod == undefined){\t\t\t\r\n\t\t\t\tconsole.log(\"не определен обработчик для события-\"+value);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t\tthis.events[value] = eventMethod.bind(this);\t\t\r\n\t\t\t\tthis.htmlLink.addEventListener(value , this.events[value]);\t\r\n\t\t\t\treturn;\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n  }\r\n\t\r\n}\r\n\t\r\nProp.prototype.getProp = function(value) {\r\n\t\r\n    if(this.pathToCоmponent != undefined){\r\n\t\t\t\t\r\n\t\t\t\tthis.getProp_sybtypes(value);\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t}else if(this.type == \"text\"){\r\n\r\n\t\t\t\treturn this.htmlLink.textContent;\r\n\r\n\t}else if(this.type == \"inputvalue\" || this.type == \"select\"){\r\n\r\n\t\t\treturn this.htmlLink.value;\r\n\r\n\t}else if(this.type == \"checkbox\" || this.type == \"radio\"){\r\n\r\n\t\t\t\treturn this.htmlLink.checked;\r\n\r\n\t\t\t}else if(this.type == \"class\"){\r\n\r\n\t\t\t\treturn this.htmlLink.classList;\r\n\r\n\r\n\t}else if(this.type == \"html\"){\r\n\r\n\t\t\t\t  return this.htmlLink.innerHTML;\r\n\r\n    }else  if(this.isAttr(this.type) != false){\r\n\r\n\r\n\t\t\t\t\t\treturn this.htmlLink.getAttribute(this.isAttr(this.type));\r\n\r\n\t}\r\n\telse if(this.type == \"data\"){ \r\n\t\t\t\r\n\t\t\treturn this.htmlLink.dataset[ this.parent.name + \"Data\" ];\r\n\t\r\n\t}\r\n}\r\nProp.prototype.getProp_sybtypes\t= function(value){\r\n\t\r\n\tif(this.type == \"render-variant\"){\r\n\t\t\r\n\t\t\tvar return_obg = {};\r\n\t\t\t\r\n\t\t    if(value == undefined){\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\tif(this.renderChild.type == \"container\"){\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAllProps();\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(this.renderChild.type == \"array\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAll();\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\treturn_obg[\"componentName\"] = this.renderChild.pathToCоmponent;\r\n\t\t\t\treturn return_obg;\r\n\r\n\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\r\n\t\t\t\tif(this.renderChild.type == \"container\"){\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAllProps(value);\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(this.renderChild.type == \"array\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAll(value);\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\tif(value.componentName != undefined){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn_obg[\"componentName\"] = this.renderChild.pathToCоmponent;\r\n\t\t\t\t}\r\n\t\t\t\treturn return_obg;\r\n\r\n\t\t\t}\r\n\r\n\t}else if(this.type == \"group\"){\r\n\r\n\t\t\tif(value == undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar array_r = [];\r\n\t\t\t\t\t\t\r\n                         for(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t array_r.push(this.groupChild[i].getAllProps());\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t var componentName = \"\";\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t if(this.groupArray != undefined)componentName = this.groupArray.pathToComponent;\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\treturn {group: array_r, componentName: componentName};\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(typeof value == \"number\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn this.groupChild[value];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tvar array_r = [];\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t if(value.componentName == undefined && value.group == undefined){\r\n\t\t\t\t\t\t\t    for(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\tarray_r.push(this.groupChild[i].getAllProps(value));\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t return array_r;\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }else{\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t \tfor(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\tarray_r.push(this.groupChild[i].getAllProps(value));\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar obj_r = {group: array_r};\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(value.componentName != undefined)obj_r.componentName = this.groupArray.pathToComponent;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn obj_r;\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t}\t \r\n\r\n\t}else if(this.isEvent(this.type) != false){ \r\n\r\n\t\t\t//console.log(\"get for event property\");\r\n\t\treturn this.type;\r\n\t\t\r\n\t}else if(this.isEmiter(this.type) != false){ \r\n\r\n\t\t\t//console.log(\"get for event property\");\r\n\t\treturn this.type;\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nProp.prototype.removeProp = function(value) {\r\n\t\r\n\t  if(this.pathToCоmponent != undefined){\r\n\t\t\t\t\r\n\t\t\t\tthis.removeProp_sybtypes(value);\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t}else if(this.type == \"text\"){\r\n\r\n\t\t\t\treturn\tthis.htmlLink.textContent = \"\";\r\n\r\n\t\t\t}else if(this.type == \"class\"){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tif(Array.isArray(value)){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var u=0; u < this.htmlLink.classList.length; u++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.htmlLink.classList.remove(this.htmlLink.classList[u]);\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.htmlLink.classList.remove(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t}else if(this.type == \"html\"){\r\n\r\n\t\t\t\t  this.htmlLink.innerHTML = \"\";\r\n\t\t\t\t  return;\r\n\r\n    }else if(this.type == \"checkbox\" || this.type == \"radio\"){\r\n\r\n\t\t\t\t this.htmlLink.checked = false;\r\n\t\t\t\t return;\r\n\r\n\t\t\t}else if(this.type == \"inputvalue\" || this.type == \"select\"){\r\n\r\n\t\t\t\tthis.htmlLink.value = \"\";\r\n\t\t\t\treturn;\r\n\r\n\t}else  if(this.type == \"data\"){ \r\n\t\t\t\r\n\t\t\tthis.htmlLink.dataset[ this.parent.name + \"Data\" ] = \"\";\r\n\t\t\treturn;\r\n\t\r\n\t}\t\r\n}\r\nProp.prototype.removeProp_sybtypes\t= function(value){\r\n\r\n\tif(this.type == \"render-variant\"){\r\n\t\t\r\n\t\tvar isRemove = false;\r\n\r\n          if(this.renderChild.renderType == \"container-inner\"){\r\n\t\t\t  \r\n\t\t\t    isRemove = this.renderChild.remove(true);\r\n\t\t  }\r\n\t\t\t\t\r\n\t\t if(isRemove == null){\r\n\r\n\t\t\t \t\t\t this.renderChild.renderParent = null;\t\r\n\t\t }\r\n\t     this.renderChild = null;\r\n\r\n\t     \t\t this.htmlLink.innerHTML = \"\";\r\n\t\t\t\t return;\r\n\r\n\t\t\t}else if(this.type == \"group\"){ \r\n\r\n\t\t    if(value == undefined ){\r\n\r\n\t\t\t\t\t\tthis.clearGroup();\r\n\r\n\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\tthis.removeFromGroup(value);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t}else if(this.isAttr(this.type) != false){\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\tthis.htmlLink.setAttribute(this.isAttr(this.type), \"\");\r\n\t\t\t\t\t\t\t\treturn;\r\n\r\n\t}else if(this.isEvent(value) != false){ \r\n\r\n\t\t\tthis.htmlLink.removeEventListener(value, this.events[value]);\t\t\r\n\t\tdelete this.events[value];\r\n\t\treturn;\r\n\t\t\r\n\t}\r\n\r\n}\r\nProp.prototype.render = function(nameComponent){\r\n\r\n\tif(this.renderChild == undefined && nameComponent == undefined ){\r\n\r\n\t\t\t    console.log(\"не известен компонент для рендера\");\r\n\t\treturn  \"undefinit render-variant\";\r\n\t}\r\n\tif(nameComponent != undefined && this.rootLink.state[nameComponent] != undefined){\r\n\t\t\r\n\t\tthis.renderChild = this.rootLink.state[nameComponent];\r\n\t\t\r\n\t\tthis.rootLink.state[nameComponent].renderParent = this;\t\t\r\n\r\n\t\tthis.htmlLink.innerHTML = \"\";\r\n\r\n\t\tthis.htmlLink.appendChild(this.renderChild.htmlLink);\r\n\t\t\r\n\t}else{\r\n\t\t\t\t\r\n          console.log(\"не найден компонент \"+nameComponent+\" для рендера\");\r\n\t\treturn  \"undefinit render-variant\";\r\n\t}\r\n\r\n}\r\nProp.prototype.renderByContainer = function(containerLink){\r\n\r\n\t\tif(containerLink != undefined && containerLink.renderType == \"container-inner\"){\r\n\t\tif(this.renderChild != undefined && this.renderChild.renderType != undefined && this.renderChild.renderType == \"container-inner\")this.renderChild.remove(true);\r\n\r\n\t\tthis.renderChild = containerLink;\r\n\t\tthis.renderChild.renderParent = this;\r\n\r\n\t\t\t}else{\r\n\t\tconsole.log(\" для метода renderByContainer необходимо прередать container с renderType='container-inner'\");\r\n\t\treturn \"undefined render-variant-htmlLink\"\r\n\t}\r\n\tthis.htmlLink.innerHTML = \"\";\r\n\tthis.htmlLink.appendChild(this.renderChild.htmlLink);\r\n}\r\n\r\nProp.prototype.setOrCreateAndRender = function(objWidthProps){\r\n\r\n        if(objWidthProps.componentName == undefined){\r\n\t\t\t\r\n\t\t\tconsole.log(\"забыли указать имя компонента  .componentName в обьекте-параметре objWidthProps\");\r\n\t\t\t\r\n\t\t\treturn;\r\n\t\t}\t\r\n    var component = this.rootLink.state[objWidthProps.componentName];\r\n\r\n    if(component.renderType == \"virtual-array\"){\r\n\t\t\r\n\t\t if(this.renderChild != undefined && this.renderChild.pathToCоmponent != undefined &&  this.renderChild.pathToCоmponent == objWidthProps.componentName){\r\n\r\n\t\t\t this.renderChild.setAllProps(objWidthProps);\r\n\t\t\t \r\n\t\t }else{\r\n\t\t\t\t\r\n\t\t\t \tvar container = component.add(objWidthProps);\r\n\r\n\t\t\t\tthis.renderByContainer(container);\r\n\t\t\t\t\t \r\n\t\t }\t\t\r\n\t}else if(component.renderType == \"container-outer\"){\r\n\t\t\r\n\t\t\r\n\t\tcomponent.setAllProps(objWidthProps);\r\n\t\t\r\n\t\tthis.render(objWidthProps.componentName);\r\n\t\t\t\t\r\n\t\t\r\n\t}else if(component.renderType == \"array\"){\r\n\t\t\r\n\t\tif(objWidthProps.data == undefined){\r\n\t\t\t\r\n\t\t\tconsole.log(\"для отображения массива с новыми данными, в параметре objWidthProps.data должен содержаться массив с объектами\");\r\n\t\t\t\r\n\t\t\treturn;\r\n\t\t}\t\r\n\t\t\tthis.render(objWidthProps.componentName);\r\n\t\t\t\r\n\t\t\tcomponent.reuseAll(objWidthProps.data);\r\n\t}\r\n}\r\n\r\nProp.prototype.removeFromGroup = function(groupID){\r\n\tif(this.groupChild[groupID] == undefined){\r\n\r\n\t\t\t\tconsole.log(\"error- элемента с id = \"+groupID+\" в группе не существует\");\r\n\t\treturn;\r\n\t}\r\n\tdelete this.groupChild[groupID].groupId;\r\n\tdelete this.groupChild[groupID].groupParent;\r\n\r\n\t\tthis.groupChild[groupID].remove(true);\r\n\tthis.groupChild.splice(groupID, 1);\r\n\tfor(var t=0; t< this.groupChild.length; t++){\r\n\r\n\t\t\t\tthis.groupChild[t].groupId = t;\r\n\t}\r\n\r\n}\r\nProp.prototype.clearGroup = function(){\r\n\r\n\t\tif(this.groupChild.length <= 0)return;\r\n\r\n\t\tvar indexes = [];\r\n\r\n\t\tfor(var i=0; i< this.groupChild.length; i++){\r\n\r\n\t\t\t\tindexes.push(this.groupChild[i].index);\r\n\t}\r\n\r\n\r\n\r\n\t\t\t\tthis.rootLink.removeByIndexes(this.groupChild[0].pathToCоmponent, indexes, true);\r\n\r\n\t\tthis.groupChild= [];\r\n}\r\nProp.prototype.getGroupsArray = function(){\r\n\t\r\n\t\t\tif(this.groupArray == null || this.groupArray == undefined){\r\n\t\t\t\r\n\t\t\t      if(this.component().type==\"array\"){\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  for(var h=0; h<this.component().data.length; h++){\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  var groupArray_r = this.component().data[h].props[this.propName].groupArray;\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  if(groupArray_r != null && groupArray_r != undefined){\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t  this.groupArray = groupArray_r;\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t  return this.groupArray;\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  \r\n\t\t\t\t  }\t\t\t\t\t  \t\r\n\t\t}\r\n\treturn null;\t\r\n}\r\n\r\nProp.prototype.reuseGroup = function(arrayWithObjects){\r\n\t\r\n\t\r\n\t\tif(this.groupArray == null && this.getGroupsArray() == null){\r\n\t\t\t\t\r\n\t\t\t\t\tconsole.log(\"error для использования метода .reuseGroup свойство должно иметь поле this.groupArray\");\r\n\t\t\t\t\treturn\t\t\r\n\t\t}\r\n\t\r\n\t\tvar newArrLength = arrayWithObjects.length;\r\n\t\tvar oldArrLength = this.groupChild.length;\r\n\t\r\n\tvar add = 0;\r\n\tvar remove =0;\r\n\t\r\n\tif(newArrLength > oldArrLength) add = newArrLength - oldArrLength;\r\n\tif(newArrLength < oldArrLength) remove =  oldArrLength - newArrLength;\r\n\t\r\n\tfor(var i=0; i<this.groupChild.length; i++){\r\n\t\t\r\n\t\tthis.groupChild[i].setAllProps(arrayWithObjects[i]);\r\n\t\t\r\n\t\t\tfor(var key in this.groupChild[i].props){\r\n\t\t\t\r\n\t\t\tthis.groupChild[i].props[key].prop = null;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\t\r\n\tif(add > 0){\r\n\t\tfor (var t=0; t<add; t++){\r\n\t\t\t\r\n\r\n\t\t\t\r\n\t\t\tthis.createInGroup(arrayWithObjects[oldArrLength + t]);\r\n\t\t}\t\r\n\t}\r\n    if(remove > 0){\r\n\t\tfor (var f=0; f<remove; f++){\r\n\t\t\t\r\n\t\t\tthis.removeFromGroup( this.groupChild.length - 1 );\r\n\t\t}\t\r\n\t}\r\n\t\t\r\n}\r\nProp.prototype.createInGroup = function(props, insertLocation){\r\n\t\r\n\tif(this.groupArray == null && this.getGroupsArray() == null){\r\n\t\t\r\n\t\tconsole.log(\"error для использования метода createInGroup свойство должно иметь поле this.groupArray\");\r\n\t\treturn\t\t\r\n\t}\r\n\tvar container =  this.groupArray.add(props);\r\n\t\r\n\tthis.addToGroup(container, insertLocation);\t\r\n}\r\nProp.prototype.createNewGroup = function(groupArr, componentName){\r\n\t\r\n\tif(this.groupArray != null && this.groupArray.pathToComponent != undefined && this.groupArray.pathToComponent == componentName){\r\n\t\t\r\n\t\tthis.reuseGroup(groupArr);\r\n\t\t\r\n\t}else{\t\t\r\n\t\tif(this.groupChild != undefined){\r\n\t\t\tthis.clearGroup();\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\tthis.groupChild = [];\r\n\t\t}\t\r\n\t\t\r\n\t\tthis.groupArray = this.rootLink.state[componentName];\r\n\t\t\r\n\t\tfor(var i=0; i<groupArr.length; i++){\r\n\t\t\t\r\n\t\t\tthis.createInGroup(groupArr[i]);\r\n\t}\t\t\r\n\t}\t\r\n}\r\nProp.prototype.addToGroup = function(container, insertLocation){ \r\n\r\n          \t\t var loc = \"and\";       \r\n          if(insertLocation == \"front\")loc = 0;\r\n          if(insertLocation != undefined && typeof insertLocation == 'number'  )loc = insertLocation;  \t\t  \r\n                        \r\n\t\t\t\t\t\tthis.groupArray = this.rootLink.state[container.pathToCоmponent];\r\n\t\t\t\t\t\tcontainer.groupParent = this;\r\n\r\n\t\t\t\tif( loc == \"and\"){\r\n\r\n\t\t\t\t\t\tthis.htmlLink.appendChild(container.htmlLink);\r\n\r\n\t\t\t\t\t\t this.groupChild.push(container);\r\n\t\t\t container.groupId = this.groupChild.length-1;\r\n\r\n\t\t\t\t\t}else if(typeof loc == 'number'){\r\n\r\n\t\t\t\t\t\tthis.htmlLink.insertBefore(container.htmlLink, this.htmlLink.children[loc]);\r\n\r\n\t\t\t\t\t\tthis.groupChild.splice(insertLocation, 0, container);\r\n\r\n\t\t\t\t\t\t\tfor(var i=insertLocation ; i < this.groupChild.length; i++){\t\t\r\n\r\n\t\t\t\t\t\t\t\t\tthis.groupChild[i].groupId = i;\r\n\t\t\t\t}\t\t\t\r\n\t\t}\r\n}\r\nProp.prototype.removeAllChild = function(){\t\r\n\t\r\n\tvar children = this.htmlLink.children;\r\n\t\r\n\tvar count = children.length;\r\n\t\r\n\tfor(var p=0; p< count ; p++ ){\r\n\t\r\n\t\tchildren[0].remove();\r\n\t\t\r\n\t}\r\n\t\r\n}\r\nProp.prototype.component = function(){\r\n\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}\r\n\r\nProp.prototype.initRenderVariant = function(){\r\n\r\n\t\t\tvar objIs = this.htmlLink.firstElementChild;\r\n\t\r\n\t\tif(objIs != undefined){\r\n\r\n\t\t\t\t\tvar objToFind = objIs.dataset;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tfor (var key5 in objToFind){\r\n\t\t\t\tif(objToFind[key5] == \"array\" ){\r\n\r\n\t\t\t\t\tif(this.rootLink.state[key5] == undefined && this.rootLink.description[key5] != undefined)this.rootLink.arrayInit(objIs, this.rootLink.description, key5);\r\n\t\t\t\t\tif(this.rootLink.state[key5] == undefined && this.rootLink.description[key5] == undefined && this.rootLink.description.fetchComponents != undefined && this.rootLink.description.fetchComponents[key5] != undefined)this.rootLink.arrayInit(objIs, this.rootLink.description.fetchComponents, key5);\r\n\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t                this.renderChild.renderParent = this;\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif(objToFind[key5] == \"container\" ){\r\n\r\n\t\t\t\t\t\tif(this.rootLink.description[key5] != undefined &&  this.rootLink.state[key5] == undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.containerInit(objIs, this.rootLink.description, key5);\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.rootLink.state[key5] != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild.renderParent = this;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (this.rootLink.description[key5] != undefined &&  this.rootLink.state[key5] != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild.renderParent = this;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (this.rootLink.description[key5] == undefined &&  this.rootLink.state[key5] == undefined && this.rootLink.description.fetchComponents != undefined && this.rootLink.description.fetchComponents[key5] != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.containerInit(objIs, this.rootLink.description.fetchComponents, key5);\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild.renderParent = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar nameVirtualArray = null;\r\n\t\t\t\t\t\t\t                             var  nameContainer = null;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor(var key4 in this.rootLink.description.virtualArrayComponents){\r\n\r\n\t\t\t\t\t\t\t  \t\t\t\t\t\t\t  if(this.rootLink.description.virtualArrayComponents[key4].container == [key5] ){\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t\t  nameVirtualArray = key4;\r\n\t\t\t\t\t\t\t\t  nameContainer = key5;\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(nameVirtualArray == null || nameContainer == null){\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"error- компонента \"+key5+\"  не найдено  убедитесь в коректности названия ключей после data\");\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(nameVirtualArray != null && this.rootLink.state[nameVirtualArray] ==  undefined){\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tvar selector = undefined;\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\tif(this.rootLink.description.virtualArrayComponents[nameVirtualArray].selector != undefined) selector = this.rootLink.description.virtualArrayComponents[nameVirtualArray].selector;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray] = new HTMLixArray(\"virtual-array\", objIs, this.rootLink, nameVirtualArray, selector);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(nameVirtualArray != null && nameContainer != null){\r\n\t\t\t\t\t\t\t\t\t\tvar container = new Container(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobjIs, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnameContainer, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.description.virtualArrayComponents[nameVirtualArray].props, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.description.virtualArrayComponents[nameVirtualArray].methods, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray].data.length , \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnameVirtualArray, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcontainer.renderType = \"container-inner\";\r\n\t\t\t\t\t\t\t\t\t\t\tcontainer.renderParent = this;\r\n\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray].data.push( container );\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tthis.renderChild =  container;\t\r\n\t\t\t\t\t\t\t\t\t\t\t//console.log(container);\r\n\t\t\t\t\t\t\t\t\t\t\t//console.log(\"/////////////////\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t\t}\t\r\n\r\n\t}\r\nProp.prototype.initGroup = function(containerName, propName){\r\n\r\n\t\t\tvar groupItems = this.htmlLink.children;\r\n\t\t\tvar countItems = 0;\r\n\r\n\t\t\t\tif(groupItems.length != 0){\r\n\r\n\t\t\t\t\t\tfor(var i=0; i< groupItems.length; i++ ){\r\n\r\n\t\t\t\t\t\t  var objToFind  = groupItems[i].dataset;\r\n\r\n\t\t\t\t                \tvar nameVirtualArray = null;\r\n                    var nameContainer = null;\t\t\t\t\t\r\n\r\n\t\t\t\t   \t\t\t\t   for (var key5 in objToFind){\r\n\r\n\t\t\t\t\t   \t\t\t\t\t  if(objToFind[key5] == \"container\" || objToFind[key5] == \"template\"){\r\n\r\n\t\t\t\t\t\t  \t\t\t\t\t\t  for(var key57 in this.rootLink.description.virtualArrayComponents){\r\n\r\n\t\t\t\t\t\t\t  \t\t\t\t\t\t\t  if(this.rootLink.description.virtualArrayComponents[key57].container == [key5] ){\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t\t  nameVirtualArray = key57;\r\n\t\t\t\t\t\t\t\t  nameContainer = key5;\r\n\t\t\t\t\t\t\t\t  countItems ++\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t  }\t\t\t\t\t\t  \r\n\r\n\t\t\t\t\t  \t\t\t   \t\t\t\t\tif(nameContainer == null)console.log(\"error- контейнера \"+key5+\" не найдено в нутри контейнера \"+containerName+\" index - \"+this.parentContainer.index+\" проверьте правельность названия ключей в html коде\");\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t   \tif(nameVirtualArray != null && this.rootLink.state[nameVirtualArray] ==  undefined){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray] = new HTMLixArray(\"virtual-array\", groupItems[i], this.rootLink, nameVirtualArray, undefined);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\tif(nameVirtualArray != null && nameContainer != null && objToFind[key5] == \"container\"){\r\n\t\t\t\t\t\tvar container = new Container(groupItems[i], \r\n\t\t\t\t\t                                 nameContainer, \r\n\t\t\t\t\t\t                          this.rootLink.description.virtualArrayComponents[nameVirtualArray].props, \r\n\t\t\t\t\t\t                           this.rootLink.description.virtualArrayComponents[nameVirtualArray].methods, \r\n\t\t\t\t\t\t                          this.rootLink.state[nameVirtualArray].data.length , \r\n\t\t\t\t\t\t                          nameVirtualArray, \r\n\t\t\t\t\t\t\t\t\t\t\t\t  this.rootLink,\r\n\t\t\t\t\t\t\t\t\t\t\t\t  false\r\n\t\t\t\t\t                               );\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t   \t\t\t\t\t\tcontainer.renderType = \"container-inner\";\r\n\t\t\t\t\t\tcontainer.groupParent\t= this;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray].data.push( container );\t\r\n\t\t\t\t\t\tthis.groupChild.push(container);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.groupArray = this.rootLink.state[nameVirtualArray];\r\n\t\t\t\t\t\t//console.log(this);\r\n\t\t\t\t\t\t//console.log('/////////////////');\r\n\t\t\t\t\t\tcontainer.groupId  = this.groupChild.length - 1; \r\n\t\t\t\t\t\tif(container.createdContainer != undefined)container.createdContainer();\r\n\r\n\t\t\t\t }else if(objToFind[key5] == \"template\"){\r\n\t\t\t\t\t \r\n\t\t\t\t\t this.groupArray = this.rootLink.state[nameVirtualArray];\r\n\t\t\t\t\t \r\n\t\t\t\t\t groupItems[i].setAttribute('style', \"\");\r\n\t\t\t\t\t groupItems[i].dataset[key5] = \"container\";\r\n\r\n\r\n\t\t\t\t\tthis.rootLink.state[nameVirtualArray].templateData = groupItems[i].cloneNode(true);\r\n\r\n\t\t\t\t\tgroupItems[i].remove();\r\n\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t\t\t }else{\r\n\t\t\t\t\t\t if(typeof propName != \"string\"){ \r\n\r\n\t\t\t\t\t\t \t\t\t\t\t\t     console.log(\"error- проверьте правельность селектора для ключа \"+propName[0]+\" в контейнере \"+containerName);\r\n\r\n\t\t\t\t\t\t \t\t\t\t\t\t }else{\r\n\r\n\t\t\t\t\t\t\t \t\t\t\t\t\t\t console.log(\"error- контейнера с ключем \"+key5+\" не найдено проверьте правельность названия ключей после data- в html коде\")\r\n\t\t\t\t\t\t }\r\n\r\n\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t   }\t\r\n\t\t    }\r\n\t\t\tif(groupItems.length > countItems )console.log(\"warn - элементов в свойстве \"+propName+\" контейнера \"+containerName+\" index - \"+this.parentContainer.index+\" создано меньше чем обьявлено в теге, проверьте корректность написания ключей \");\r\n\t\t}\r\n\r\n}\r\nProp.prototype.disableEvent = function(value){\r\n\r\n\t\tif(this.events[value] != undefined){\r\n\r\n\t\t\t\tif(this[value+'disable'] != undefined){\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t\t\t\tthis[value+'disable'] = value;\r\n\r\n\t\t\t\tthis.htmlLink.removeEventListener(value, this.events[value]);\r\n\r\n\t\t\t}else{\r\n\r\n\t\t\t\tconsole.log(\"обработчика с таким событием не найдено\");\r\n\t}\r\n\r\n\t}\r\nProp.prototype.enableEvent = function(value){\r\n\r\n\t\tif(this.events[value] != undefined){\r\n\r\n\t\t\t\tif(this[value+'disable'] == undefined){\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t\t\tdelete this[value+'disable'];\r\n\r\n\t\t\t\tthis.htmlLink.addEventListener(value, this.events[value]);\r\n\r\n\t\t\t}else{\r\n\r\n\t\t\t\tconsole.log(\"обработчика с таким событием не найдено\");\r\n\t}\r\n}\r\n\r\n\r\nProp.prototype.isEmiter = function(emiterName, rootLink_p){\r\n\r\n\t\tvar isEmiter = false;\r\n\t\t\r\n        if(rootLink_p == undefined)rootLink_p = this.rootLink.eventProps;\r\n\r\n\t\t\tfor(var key123 in rootLink_p.eventProps){\t\t\r\n\t\tif(key123 == emiterName){\r\n\t\t\tisEmiter = key123;\r\n\t\t}\r\n\t}\r\n\r\n\t\t\treturn  isEmiter;\r\n}\r\nProp.prototype.isAttr = function (type){\r\n\r\n\t\tvar isAttr = false;\r\n\r\n\t\tswitch(type){\r\n\r\n\t\t\t\tcase 'alt':\r\n\t\tisAttr = 'alt';\r\n\t\tbreak;\r\n\r\n\t\tcase 'disabled':\r\n\t\tisAttr = 'disabled';\r\n\t\tbreak;\r\n\r\n\t\tcase 'href':\r\n\t\tisAttr = 'href';\r\n\t\tbreak;\r\n\r\n\t\tcase 'id':\r\n\t\tisAttr = 'id';\r\n\t\tbreak;\t\r\n\r\n\t\tcase 'src':\r\n\t\tisAttr = 'src';\r\n\t\tbreak;\t\t\r\n\r\n\t\tcase 'style':\r\n\t\tisAttr = 'style';\r\n\t\tbreak;\r\n\r\n\t\tcase 'title':\r\n\t\tisAttr = 'title';\r\n\t\tbreak;\t\t\r\n\t}\r\n\r\n\treturn isAttr;\r\n}\r\nProp.prototype.isEvent = function (type){\r\n\r\n\t\tvar isEv = false;\r\n\r\n\tswitch(type){\r\n\r\n\t\t\t\tcase'click':\r\n\t\tisEv = 'click';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'keydown':\r\n\t\tisEv = 'keydown';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'dblclick':\r\n\t\tisEv = 'dblclick';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'contextmenu':\r\n\t\tisEv = 'contextmenu';\r\n\t\tbreak;\t\r\n\r\n\t\tcase'selectstart':\r\n\t\tisEv = 'selectstart';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'mousewheel':\r\n\t\tisEv = 'mousewheel';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'mousemove':\r\n\t\tisEv = 'mousemove';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'mouseout':\r\n\t\tisEv = 'mouseout';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'mouseover':\r\n\t\tisEv = 'mouseover';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'mouseup':\r\n\t\tisEv = 'mouseup';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'mousedown':\r\n\t\tisEv = 'mousedown';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'keypress':\r\n\t\tisEv = 'keypress';\r\n\t\tbreak;\t\r\n\r\n\t\tcase'keyup':\r\n\t\tisEv = 'keyup';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'focus':\r\n\t\tisEv = 'focus';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'blur':\r\n\t\tisEv = 'blur';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'change':\r\n\t\tisEv = 'change';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase 'reset':\r\n\t\tisEv = 'reset';\r\n\t\tbreak;\t\r\n\r\n\t\tcase'select':\r\n\t\tisEv = 'select';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'submit':\r\n\t\tisEv = 'submit';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase 'abort':\r\n\t\tisEv = 'abort';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'change':\r\n\t\tisEv = 'change';\r\n\t\tbreak;\t\t\t\r\n\t}\r\n\r\n\treturn isEv;\r\n}","function HTMLixState(StateMap){\r\n\tthis.description = StateMap;\r\n\r\n\r\n\tthis.state = {};\r\n\tthis.eventProps = {};\r\n\tthis.stateMethods = {};\r\n\tthis.stateProperties = {};\r\n\r\n\t\tif(StateMap.eventEmiters != undefined){\r\n\r\n\t\t\t     for (var key in StateMap.eventEmiters){ \r\n\r\n   \t\t    this.eventProps[key] = new EventEmiter(key, StateMap.eventEmiters[key].prop, {}, {});\r\n\r\n\t\t }\r\n\t}\t\t\r\n\tfor (var key in StateMap){\r\n\r\n\t\t\t\t\t\tif(key == \"stateSettings\"){ \r\n\r\n\t\t\t\t\t\tthis.stateSettings = StateMap[key];\r\n\t\t\tcontinue;\r\n\t\t}\t\t\r\n\t\tif(key == \"stateMethods\"){ \r\n\r\n\t\t\t\t\t\tthis.stateMethods = StateMap[key];\r\n\t\t\tcontinue;\r\n\t\t}\t\t\r\n\t\tif(key == 'stateProperties'){\r\n\r\n\t\t\tthis.stateProperties = StateMap[key];\r\n\t\t\tcontinue;\t\t\t\t\r\n\t\t}\t\t\r\n\t\tif(key == 'eventEmiters' || key ==  'virtualArrayComponents'){\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t}\r\n\t\tif(key == \"fetchComponents\"){\r\n\r\n\t\t\t\t\t\tvar context = this;\r\n\t\t\t  var StateMap1 = StateMap.fetchComponents;\r\n\t\t\t \r\n\t\t\t if(StateMap.stateSettings == undefined)StateMap.stateSettings = {};\r\n              if (StateMap.stateSettings.templatePath == undefined) StateMap.stateSettings.templatePath = \"/template/template.html\";\r\n                \t\t\t \r\n\r\n\t\t\t\t\t\tthis.fetchTemplates(function(divEl){\r\n\t\t\t\tfor(var key10 in StateMap1){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar node = divEl.querySelector('[data-'+key10+']');\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(node == undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Error - в Html коде нет атрибута data-\"+key10+\" для компонента из объекта fetchComponents\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar type = node.dataset[key10];\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(type==\"array\"){\r\n\r\n\t\t\t\t\t\t\t\t\tcontext.arrayInit(node, StateMap1, key10);\r\n\r\n\t\t\t\t\t\t\t}else if(type==\"container\"){\r\n\r\n\t\t\t\t\t\tcontext.containerInit(node, StateMap1, key10);\r\n\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcontext.verifyFetchComponents(divEl);\r\n\r\n\t\t\t\t\t\t\t},  StateMap.stateSettings.templatePath);\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\t\t\tinitStandartComponents(this, StateMap, key);\r\n\t}\r\n\r\n\t\t\t\tfunction initStandartComponents(context, StateMap, key){\r\n\r\n\t\t\t\tvar node = document.querySelector('[data-'+key+']');\r\n\r\n\t\t\t\t\tif(node == undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Error - в Html коде нет атрибута data-\"+key+\" проверьте корректность названия ключей в html\");\r\n\t\t\t\t}\r\n\t\t\t\tvar type = node.dataset[key];\t\t\r\n\t\t\t\tif(type==\"array\"){\r\n\r\n\t\t\t\t\t\t\t\tcontext.arrayInit(node, StateMap, key);\t\t\t\r\n\r\n\t\t\t\t\t\t}else if(type==\"container\"){\r\n\r\n\t\t\t\t\tcontext.containerInit(node, StateMap, key);\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"erorr - неправильно указан тип для контейнера либо массива \"+key);\r\n\t\t\t\t}\t\r\n\t    }\r\n\r\n   console.log(\"source-map\");\t\t\r\n}\r\n\r\nHTMLixState.prototype.containerInit = function(node, StateMap, key){\r\n\r\n\t\tif(this.state[key] != undefined)return;\r\n\tif(node == null)node = document.querySelector('[data-'+key+']');\r\n    if(node == null || node == undefined)console.log(\"error в html разметке не найден контейнер \"+key);\t\r\n\r\n\r\n\tif(StateMap[key]== undefined)console.log(\"error- проверьте корректность parent ключей в html - коде\");\r\n\tthis.state[key] = new Container(node, key,  StateMap[key].props, StateMap[key].methods, null, key, this);\r\n\r\n\t}\r\nHTMLixState.prototype.arrayInit = function(node, StateMap, key){\r\n\r\n\t       \t\t\tif(this.state[key] != undefined)return;\r\n\t\t\tif(node == null)node = document.querySelector('[data-'+key+']');\r\n            if(node == null || node == undefined)console.log(\"error в html разметке не найден контейнер \"+key);\t\r\n\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\tvar lengthChildren = node.children.length; \r\n\t\t\tif(StateMap[key].container == undefined)console.log(\"error- забыли указать контейнер для массива \" +key);\r\n\t\t\tvar containerHTML = node.querySelectorAll('[data-'+StateMap[key].container+']');\r\n\t\t\t\r\n\t\t\tvar array_selector = undefined;\r\n\t\t\t\r\n\t\t\tif(StateMap[key].selector != undefined) array_selector = StateMap[key].selector;\r\n\r\n\r\n\t\t\t\t\t\t\t\t\tif(containerHTML.length == 0)console.log(\"error - в html коде нет атрибута data-\"+StateMap[key].container+\" либо не создан шаблон для массива \"+key);\r\n\t\t\tthis.state[key] = new HTMLixArray(node, containerHTML[0], this, key, array_selector);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t\tif(StateMap[key][\"arrayProps\"] !=undefined ){\r\n\r\n\t\t\t\t\t\t\t\tthis.state[key][\"props\"] = {};\r\n\r\n\t\t\t\t\t\t\t\tfor (var t=0; t < StateMap[key][\"arrayProps\"].length; t++){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(typeof StateMap[key][\"arrayProps\"][t] == \"string\"){\r\n\t\t\t\t\t\t\tvar htmlLink = this.state[key].htmlLink.querySelectorAll('[data-'+key+'-'+StateMap[key][\"arrayProps\"][t]+']')[0];\r\n\t\t\t\t\t\t\tif(htmlLink == undefined)htmlLink  = this.state[key].htmlLink;\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state[key][\"props\"][ StateMap[key][\"arrayProps\"][t] ] \t= new Prop( htmlLink, key, StateMap[key][\"arrayProps\"][t], StateMap[key][\"arrayMethods\"][ StateMap[key][\"arrayProps\"][t] ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state[key],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\t\t\t\t\t\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar string =  StateMap[key][\"arrayProps\"][t][0];\r\n\r\n\t\t\t\t \t\t\t\t\t\t\tvar selector = StateMap[key][\"arrayProps\"][t][2];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar htmlLinkToProp  = this.state[key].htmlLink;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selector != \"\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlLinkToProp = this.state[key].htmlLink.querySelector(selector);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(htmlLinkToProp == undefined)console.log(\"error не возможно найти селектор для свойства \"+selector+\" массива \"+key+\" проверьте правильность селектора\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t \r\n\t\t\t\t\t\t\tthis.state[key][\"props\"][ string ] = new Prop(htmlLinkToProp, key,\tStateMap[key][\"arrayProps\"][t], \r\n\t\t\t\t\t\t\t                                                        StateMap[key][\"arrayMethods\"][  string ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state[key],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tvar i = 0;\r\n\t\t\tif(containerHTML[0].dataset[StateMap[key].container] == \"template\"){\r\n\t\t\t\t                 \r\n\t\t\t\t\t\t\t\t containerHTML[0].dataset[StateMap[key].container] = \"container\";\r\n\r\n\t\t\t\t\t\t\t\tcontainerHTML[0].setAttribute('style', \"\");\r\n\r\n\t\t\t\t\t\t\t\tthis.state[key].templateData = containerHTML[0].cloneNode(true);\r\n\r\n\t\t\t\t\t\t\t\tcontainerHTML[0].remove();\r\n\r\n\t\t\t\tif (containerHTML.length == 1 )return;\r\n\t\t\t\ti = 1;\r\n\r\n\t\t\t}\t\t\r\n\r\n\r\n\t\t\t\tfor( var j=0, i; i < containerHTML.length; j++, i++){\r\n\r\n\t\t\t\t\t\tif(containerHTML[i].dataset[StateMap[key].container] != \"container\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"erorr - неправильно указан тип для контейнера \"+StateMap[key].container+\" index - \"+i+ \" массива \"+key);\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t\tvar container23 = new Container(containerHTML[i], StateMap[key].container,  StateMap[key].props, StateMap[key].methods, j, key, this);\r\n\t\t\t\t\t\t container23.renderType = \"container-inner\";\r\n\t\t\t\t\t\tthis.state[key].data[j] = container23 ;\r\n\r\n                        \t\t\t\t}\r\n\t\t\t\tif(this.state[key].data.length < lengthChildren ){\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"warn - контейнеров в массиве \"+key+\" создано меньше чем обьявлено в html, проверьте корректность написания всех ключей в html коде либо удалите лишние элементы не соответствующие контейнеру - \"+StateMap[key].container);\t\r\n\t\t\t\t}\r\n             \tif(this.state[key].data.length > lengthChildren){\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"warn - контейнеров \"+StateMap[key].container+\" в массиве \"+key+\" создано больше чем обьявлено в html, проверьте что контейнеры распологаются в массиве непосредственно, старайтесь избегать создания порежуточных тегов\");\r\n\t\t\t\t}\t\r\n}\r\n\r\nHTMLixState.prototype.verifyFetchComponents = function(divEl){\r\n\t\r\n\tif(this.description.virtualArrayComponents != undefined){\r\n\t\t\r\n\t\tfor(var key in this.description.virtualArrayComponents){\r\n\t\t\t\r\n\t\t\tif(this.state[ key ] == undefined){\r\n\t\t\t\t\r\n\t\t\t\tvar containerHTML = divEl.querySelector('[data-'+this.description.virtualArrayComponents[key].container+']');\r\n\r\n\t\t\t      if(containerHTML == null ){\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  console.log(\"Error в шаблоне \"+ this.stateSettings.templatePath+\" не найдено компонента \"+key+\" - виртуального массива,  проверьте его наличие и правильность ключей в шаблоне\");\r\n\t\t\t\t\t  return;\r\n\t\t\t\t\t  \r\n\t\t\t\t  }\r\n\t\t\t\t  this.state[ key ] = new HTMLixArray(\"virtual-array\", containerHTML, this, key, undefined);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\r\n       \t\tif(this.stateMethods != undefined && this.stateMethods.onLoadAll != undefined)this.stateMethods.onLoadAll.bind(this)();\r\n\t}\r\n}\r\nHTMLixState.prototype.addContainer=  function (stateNameProp, properties, insertLocation){\r\n\r\n\r\n\t\tif(this.state[stateNameProp] == undefined)console.log(\"не получается найти компонент\"+stateNameProp+\"в this.state\");\r\n\r\n\t\tvar stateArray = this.state[stateNameProp];\r\n\t\t\r\n\t\t//console.log(stateArray);\r\n\r\n\t\tif(stateArray.type != \"array\"){\r\n\r\n\t\t\t\tconsole.log(\"создать контейнер можно только в массиве array\");\r\n\t\treturn;\t\t\r\n\t}\r\n\tif( insertLocation != undefined  && insertLocation != \"and\" && isNaN(insertLocation)){\r\n\r\n\t\t\t\tconsole.log(\"Введите корректную позицию для вставки контейнера в массив \"+stateNameProp);\r\n\t\treturn;\r\n\t}\r\n\tvar index = 0;\r\n\r\n\t\tif(insertLocation == undefined || insertLocation == \"and\"  ){ \r\n\r\n\t\t\tindex = stateArray.data.length;\r\n\r\n\t\t\t}else if(typeof insertLocation == 'number' ){\r\n\r\n\t\t\t\tif(insertLocation > stateArray.data.length) insertLocation = stateArray.data.length;\r\n\r\n\t\t\t\tindex = insertLocation;\r\n\r\n\t\t\t}\r\n\tvar Link = stateArray.templateData.cloneNode(true);\t\r\n\r\n\t\t\t\t\t\t\t\t\t       var desc =this.description[stateNameProp];\r\n\t\t\t\t\t\t\t\t\t\t   \r\n\t\t\t\t\t\t\t\t\t\t   //console.log(this.description);\r\n\r\n\t   \t   if(desc == undefined){ \r\n\r\n\t\t    if(this.description.virtualArrayComponents != undefined && this.description.virtualArrayComponents[stateNameProp] != undefined){ \r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\tdesc = this.description.virtualArrayComponents[stateNameProp];\r\n\t\t\t\t\t\t\t   \r\n\t\t   }else {\r\n\r\n\t\t\t   \t\t   if(this.description.fetchComponents !=undefined && this.description.fetchComponents[stateNameProp] != undefined){\r\n\r\n\t\t\t   \t\t\t\t\t\t desc = this.description.fetchComponents[stateNameProp];\r\n\t\t\t   }else{\r\n\r\n\t\t\t\t   \t\t\t\t   console.log(\"eror- не получается найти описание для компонета \"+stateNameProp+\" проверьте существуют ли обьекты fetchComponents, virtualArrayComponents в описании, параметре StateMap\");\r\n\t\t\t   }\t\t\t  \r\n\t\t   }\r\n\t   }\r\n\r\n\r\n\t\t\t\tvar container = new Container(Link, desc.container,  desc.props,\r\n\t\t\t\t\t\t\t\t\tdesc.methods, index, stateNameProp, this, true, properties);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcontainer.renderType = \"container-inner\";\r\n\r\n\t\t\t\tvar htmlLink = stateArray.htmlLink;\r\n\t\t\t\t\r\n\t\t\t\tif(stateArray.selector != undefined ){\r\n\t\t\t\t\t\r\n\t\t\t\t\thtmlLink = htmlLink.querySelector(stateArray.selector);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(htmlLink == null || htmlLink == undefined)console.log(\"error - не удается найти селектор \"+stateArray.selector+\" для массива \"+stateNameProp);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\tif(insertLocation == undefined || insertLocation == \"and\" ){ \r\n\r\n\t\t\t\tif(this.description.virtualArrayComponents == undefined){ \r\n\r\n\t\t\t\t\t\thtmlLink.appendChild(Link);\r\n\r\n\t\t\t\t\t}else{\t\r\n\r\n\t\t\t\t\tif(this.description.virtualArrayComponents[stateNameProp] == undefined)htmlLink.appendChild(Link);\r\n\t\t}\t\r\n\t\tstateArray.data.push(container);\r\n\t}else if(typeof insertLocation == 'number'){\r\n\r\n\t\t\t\tif(this.description.virtualArrayComponents == undefined ){\r\n\r\n\t\t\t\t            htmlLink.insertBefore(Link, htmlLink.children[insertLocation]);\r\n\t\t}else{\r\n\r\n\r\n\t\t\t\t\t\t\t\t\tif(this.description.virtualArrayComponents[stateNameProp] == undefined)htmlLink.insertBefore(Link, htmlLink.children[insertLocation]);\r\n\t\t}\r\n\t\tstateArray.data.splice(insertLocation, 0, container);\r\n\r\n\t\tfor(var i=insertLocation ; i < stateArray.data.length; i++){\r\n\r\n\t\t\tstateArray.data[i].index = i;\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tif(properties != undefined)container.setAllProps(properties);\r\n\r\n\treturn container;\r\n}\r\nHTMLixState.prototype.changeOrder = function(stateNameProp, newOrderArr){\r\n\t\r\n\tvar stateArray = this.state[stateNameProp];\r\n\t\r\n\tvar htmlLink = stateArray.htmlLink;\r\n\t\r\n\tif(stateArray.selector != undefined ){\r\n\t\t\t\t\t\r\n\t\t\t\t\thtmlLink = htmlLink.querySelector(stateArray.selector);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(htmlLink == null || htmlLink == undefined)console.log(\"error - не удается найти селектор \"+stateArray.selector+\" для массива \"+stateNameProp);\r\n\t\t\t\t\t\r\n\t}\t\r\n\tif(newOrderArr.length != stateArray.data.length){\r\n\t\t\r\n\t\tconsole.log(\"в массиве newOrderArr, должно быть столько же элементов скольео и в массиве stateNameProp.data\");\r\n\t\treturn;\r\n\t\t\r\n\t}\t\r\n\tvar newData = [];\r\n\t\r\n\tfor(var i=0; i<newOrderArr.length; i++){\r\n\t\t\r\n\t\tnewData.push(stateArray.data[newOrderArr[i]]);\r\n\t}\r\n\tstateArray.data = newData;\r\n\tstateArray.htmlLink.innerHTML = \"\";\r\n\t\r\n\tfor(var k=0; k<stateArray.data.length; k++){\r\n\t\t\r\n\t\tstateArray.htmlLink.appendChild(stateArray.data[k].htmlLink);\r\n\t\t\r\n\t\tstateArray.data[k].index = k;\r\n\t}\r\n}\r\n\r\n\r\nHTMLixState.prototype.removeAll = function(stateNameProp, widthChild){\t\r\n\r\n\t\tif(this.state[stateNameProp].type != \"array\")return;\r\n\r\n\t\tfor (var index =0; index < this.state[stateNameProp].data.length; index++){\r\n\t\t\t\r\n\t\t\t     this.clearContainerProps(stateNameProp, index, widthChild);\r\n\r\n\t\t\tthis.state[stateNameProp].data[index].htmlLink.remove();\r\n\t}\r\n\tthis.state[stateNameProp].data.length = 0;\r\n\tthis.state[stateNameProp].data = [];\r\n\r\n}\r\n\r\n\r\n\r\nHTMLixState.prototype.removeByIndex = function(stateNameProp, index, widthChild){\r\n\r\n\tthis.removeByIndexes(stateNameProp, [index], widthChild);\r\n}\r\n\r\n\r\nHTMLixState.prototype.removeByIndexes = function(stateNameProp, indexArray, widthChild ){\r\n\r\n\t\tif(this.state[stateNameProp].type != \"array\")return;\r\n\tif(indexArray.length == undefined){\r\n\r\n\t\t\t\tconsole.log(\"error - некорректно задан второй аргумент для функции removeByIndexes, проверьте что это не пустой массив, а также номер эелемента для удаления\" );\r\n\t\treturn;\r\n\t}\r\n\r\n\tfor(var r = 0; r < indexArray.length; r++){\r\n\r\n\t\t\t\tif(indexArray[r] > this.state[stateNameProp].data.length-1){\r\n\r\n\t\t\t\t\t\tconsole.log(\"error - индекс для удаления \"+indexArray[r]+\" больше количества элементов в массиве \"+stateNameProp);\r\n\t\t\treturn;\r\n\t\t}\t\t\r\n\t\t           this.clearContainerProps(stateNameProp, indexArray[r], widthChild);\r\n\r\n\t\t          this.state[stateNameProp].data[indexArray[r]].htmlLink.remove();\r\n\r\n\t\t\t}\r\n\t\tvar newData = this.state[stateNameProp].data.filter(  function(container, i) {\r\n\r\n\t\t\t\t\t\t\t\t\treturn ! indexArray.some(function(numb){ return numb == i });\r\n\t\t});\t\r\n\t\tthis.state[stateNameProp].data = newData;\r\n\tfor(var i=0 ; i < this.state[stateNameProp].data.length; i++){\r\n\r\n\t\t\tthis.state[stateNameProp].data[i].index = i;\r\n\t}\r\n\r\n\t}\r\n\t\r\nHTMLixState.prototype.clearContainerProps = function(stateNameProp, index, widthChild){\r\n\t\r\n\t                var container = this.state[stateNameProp].data[index];\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (key in  container.props){\r\n\r\n\t\t\t\t\t\t\tif(container.props[key].emiterKey != undefined){\r\n\t\t\t\t\t\t\tthis.eventProps[container.props[key].type].removeListener(container.props[key].htmlLink);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(container.props[key].events != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor(key1 in container.props[key].events){\r\n\t\t\t\t\t\t\tcontainer.props[key].htmlLink.removeEventListener(key1, container.props[key].events[key1]);\t\t\r\n\t\t\t\t\t\t\tdelete container.props[key].events[key1]\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(widthChild != undefined && widthChild == true && container.props[key].renderChild  != undefined && container.props[key].renderChild.renderType == \"container-inner\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontainer.props[key].renderChild.remove(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(widthChild != undefined && widthChild == true && container.props[key].groupChild != undefined && container.props[key].groupChild.length > 0){\r\n\r\n\t\t\t\t\t\t                    var indexesArr = [];\t\t\t\t\t\t\r\n\t\t\t\t\tfor(var it =0; it < container.props[key].groupChild.length; it++){\r\n\t\t\t\t\t\tindexesArr.push(container.props[key].groupChild[it].index);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.removeByIndexes(container.props[key].groupChild[0].pathToCоmponent,  indexesArr, true);\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n}\t\r\n\r\nHTMLixState.prototype.getDifrentFilds = function(array, fild){\r\n\t\r\n\tvar newArr = [];\r\n\tfor(var i=0; i<array.length; i++){   \r\n\t\t\t\r\n\t\t\tvar compareItem = array[i];\r\n\t\t\tif(fild){\r\n\t\t\t\tcompareItem = array[i][fild];\r\n\t\t\t\tif(typeof compareItem == \"object\")compareItem = JSON.stringify(array[i][fild]);\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(typeof array[i] == \"object\")compareItem = JSON.stringify(array[i]);\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\tvar isPersist = false;\r\n\t\t\tnewArr.forEach(newItem=>{    \r\n\t\t\t\t\tvar compareItem_2 = newItem;\r\n\t\t\t\t\tif(fild){\r\n\t\t\t\t\t\t\tcompareItem_2 = newItem[fild];\r\n\t\t\t\t\t\t\tif(typeof compareItem_2 == \"object\")compareItem_2 = JSON.stringify(newItem[fild]);\r\n\t\t\t\t\t}else{\t\t\r\n\t\t\t\t\t\tif(typeof newItem == \"object\")compareItem_2 = JSON.stringify(newItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(compareItem_2 == compareItem)isPersist = true;\r\n\t\t\t});\r\n\t\t\tif(!isPersist){\r\n\t\t\t\t\r\n\t\t\t\tnewArr.push(array[i]);\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t}\r\n\treturn newArr;\t\r\n\r\n}\r\n\r\nHTMLixState.prototype.fetchTemplates = function(callb, templatePath){\r\n\r\n\t\t\t\r\n\t\tif(templatePath == undefined)console.log(\"error не указана дериктория для поиска шаблона в настройках .stateSettings.templatePath\");\r\n\r\n\t\t\t\t\t\t\t\tfetch(templatePath)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tif(response.ok) {\r\n\t\t\t\t\t\t\treturn response.text();\r\n\t\t\t\t\t\t}\t\r\n\r\n            \t\t\t\t\t\tthrow new Error('Network response was not ok');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((text) => {\r\n\r\n\r\n\t\t\t\t\t\tvar div = document.createElement('div');\r\n\t\t\t\t\t\tdiv.innerHTML = text;\r\n\t\t\t\t\t\tcallb(div);\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\r\n\t\t}\r\n\r\n\r\nHTMLixState.prototype.capitalizeFirstLetter = function(string){\r\n\r\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\r\n\r\n\t}\r\n\r\n\r\n"]}