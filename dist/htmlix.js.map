{"version":3,"sources":["htmlix-array.js","htmlix-container.js","htmlix-emiter-and-router.js","htmlix-prop-common.js","htmlix-PropGroup.js","htmlix-PropGroupMix.js","htmlix-PropStandartEvent-and-PropEventEmiter.js","htmlix-PropVariant.js","htmlix-state.js"],"names":["HTMLixArray","node","containerHTML","rootLink","pathToComponent","selector","htmlLink","data","type","templateData","cloneNode","index","renderType","thisArrDesc","description","virtualArrayComponents","parentContainerName","container_extend","undefined","fetchComponents","containerExtend","props","methods","prototype","add","properties","insertLocation","isNaN","console","log","length","Link","desc","container","Container","querySelector","appendChild","push","insertBefore","children","splice","i","setAllProps","removeIndex","indexArray","widthChild","r","clearContainerProps","remove","newData","filter","some","numb","removeAll","reuseAll","arrayWithObjects","newArrLength","oldArrLength","key","prop","t","f","getAll","map_Object","array_r","getAllProps","order","newOrderArr","innerHTML","k","$","componentName","state","$$","eventPropName","eventProps","$methods","nameMethod","stateMethods","$props","nameProp","stateProperties","containerName","pathToContainer","isRunonCreatedContainer","newProps","pathToCоmponent","name","thisCont","i2","htmlLinkToProp","constructorProps","string","bind","isTrue","propExtend","onCreatedContainer","groupId","groupParent","removeFromGroup","renderParent","renderChild","setProp","properties_r","getProp","component","HTMLixRouter","routes","namePathInRoutes","_templateVar","stateSettings","templateVar","findComponent","urlPath","window","location","pathname","pathArray","split","isCountSerchСoincide","pathArrayFind","word","slice","paramWord","pop","word2","searchInword","searchInwordCount","isParam","y","count","search","templatePath","key2","toCare","first","stateWithRoutes","HTMLixState","routerObj","matchRout","countError","findRouters","nameArrComp","routComponent","messPart","document","keyRouter","setHtml","setRout","url","newComponent","history","pushState","router","EventEmiter","eventName","listeners","listenersEventMethods","behavior","event","Event","addListener","htmlLinkToListener","eventMethod","nameListener","addEventListener","removeListener","removeEventListener","emit","isEmit","dispatchEvent","setEventProp","set","getEventProp","get","keyData1","keyData2","parentContainer","propType","PropCommon","dataset","capitalizeFirstLetter","mess","PropVariant","PropGroup","PropGroupMix","isEmiter","PropEventEmiter","isEvent","PropStandartEvent","parentComponent","propName","parent","PropSubtype","nameAuxMethod","removeAllChild","p","value","textContent","checked","Array","isArray","classLength","classList","u","isAttr","setAttribute","clasArr","getAttribute","removeProp","removeAttribute","call","groupChild","groupArray","initGroup","Object","create","defineProperty","enumerable","writable","group","obj_r","reuseGroup","createNewGroup","createInGroup","clearGroup","groupID","indexes","getGroupsArray","h","groupArray_r","addToGroup","groupArr","loc","groupItems","countItems","objToFind","nameVirtualArray","nameContainer","key5","key57","item","vArr","emiterKey","emiter","Math","floor","random","disableEvent","enableEvent","events","emitEvent","initRenderVariant","return_obg","render","renderByContainer","setOrCreateAndRender","isRemove","nameComponent","containerLink","objWidthProps","objIs","firstElementChild","arrayInit","containerInit","key4","StateMap","_templateVarDOM","eventEmiters","key56","context256","fn","apply","arguments","context","StateMap1","fetchTemplates","divEl","key10","verifyFetchComponents","initStandartComponents","createFromVarTemplate","verifiTemplateVarComponents","createElement","lengthChildren","querySelectorAll","array_selector","j","container23","onLoadAll","stateNameProp","key1","getDifrentFilds","array","fild","newArr","compareItem","JSON","stringify","isPersist","forEach","newItem","compareItem_2","callb","fetch","then","response","ok","text","Error","div","error","charAt","toUpperCase","parCont","shareProps","share_props","keyProp","findProp","unshift","propsOrArrayProps","isExtend","arrayMethods","isEv","emiterName","key123"],"mappings":"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","file":"htmlix.js","sourcesContent":["function HTMLixArray(node, containerHTML, rootLink, pathToComponent, selector){\r\n\r\n\t\t    this.htmlLink = node, \r\n\t\t\tthis.data = [],\r\n\t\t\tthis.rootLink = rootLink,\r\n\t\t\tthis.pathToComponent = pathToComponent,\r\n\t\t\tthis.type = \"array\",\r\n\t\t\tthis.templateData = containerHTML.cloneNode(true),\r\n\t\t\t/*this.id = null, */\r\n\t\t\tthis.index = null,\r\n\t\t\tthis.renderType = \"array\",\r\n\t\t\tthis.selector = selector\r\n\t\t\t\r\n\t\t\tif(node == \"virtual-array\")this.renderType = \"virtual-array\";\r\n\t\t\t\r\n  ///container_extend\r\n\tif(this.renderType == \"virtual-array\"){\r\n\t\t var thisArrDesc = this.rootLink.description.virtualArrayComponents[this.pathToComponent];\r\n\t\t var parentContainerName = thisArrDesc.container_extend;\r\n\t}else{\r\n\t\tvar thisArrDesc = this.rootLink.description[this.pathToComponent];\r\n\t\tif(thisArrDesc == undefined)thisArrDesc = this.rootLink.description.fetchComponents[this.pathToComponent];\r\n\t\tvar parentContainerName = thisArrDesc.container_extend;\r\n\t}\t  \r\n\t if(parentContainerName != undefined){\r\n\t\t  \r\n\t     this.rootLink.containerExtend(parentContainerName, thisArrDesc.props, thisArrDesc.methods);\r\n\t }\r\n}\r\n\r\n///добавляет контейнер в массив \r\nHTMLixArray.prototype.add = function(properties, insertLocation){\r\n\t\t\r\n\tif( insertLocation != undefined  && insertLocation != \"and\" && isNaN(insertLocation)){\r\n\r\n\t\t\t\tconsole.log(\"Введите корректную позицию для вставки контейнера в массив \"+this.pathToComponent);\r\n\t\treturn;\r\n\t}\r\n\tvar index = 0;\r\n\r\n\t\tif(insertLocation == undefined || insertLocation == \"and\"  ){ \r\n\r\n\t\t\tindex = this.data.length;\r\n\r\n\t\t\t}else if(typeof insertLocation == 'number' ){\r\n\r\n\t\t\t\tif(insertLocation > this.data.length) insertLocation = this.data.length;\r\n\r\n\t\t\t\tindex = insertLocation;\r\n\r\n\t\t\t}\r\n\tvar Link = this.templateData.cloneNode(true);\t\r\n\r\n\t\t\tvar desc =this.rootLink.description[this.pathToComponent];\r\n\r\n\t   \t   if(desc == undefined){ \r\n\r\n\t\t    if(this.rootLink.description.virtualArrayComponents != undefined && this.rootLink.description.virtualArrayComponents[this.pathToComponent] != undefined){ \r\n\r\n\t\t\t\t\t\t\t\t\t\tdesc = this.rootLink.description.virtualArrayComponents[this.pathToComponent];\r\n\t\t\t\t\t\t\t   \r\n\t\t   }else {\r\n\t\t\t   \t\t   if(this.rootLink.description.fetchComponents !=undefined && this.rootLink.description.fetchComponents[this.pathToComponent] != undefined){\r\n\r\n\t\t\t   \t\t\t\t\t\t desc = this.rootLink.description.fetchComponents[this.pathToComponent];\r\n\t\t\t   }else{\r\n\t\t\t\t   \t\t\t\t   console.log(\"eror- не получается найти описание для компонета \"+this.pathToComponent+\" проверьте существуют ли обьекты fetchComponents, virtualArrayComponents в описании, параметре StateMap\");\r\n\t\t\t   }\t\t\t  \r\n\t\t   }\r\n\t   }\r\n\t\t\t\tvar container = new Container(Link, desc.container,  desc.props,\r\n\t\t\t\t\t\t\t\t\tdesc.methods, index, this.pathToComponent, this.rootLink, true, properties);\r\n\r\n\t\t\t\tvar htmlLink = this.htmlLink;\r\n\t\t\t\t\r\n\t\t\t\tif(this.selector != undefined ){\r\n\t\t\t\t\t\r\n\t\t\t\t\thtmlLink = htmlLink.querySelector(this.selector);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(htmlLink == null)console.log(\"error - не удается найти селектор \"+this.selector+\" для массива \"+this.pathToComponent);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\tif(insertLocation == undefined || insertLocation == \"and\" ){ \r\n\r\n\t\t\t\tif(this.rootLink.description.virtualArrayComponents == undefined){ \r\n\r\n\t\t\t\t\t\thtmlLink.appendChild(Link);\r\n\r\n\t\t\t\t\t}else{\t\r\n\r\n\t\t\t\t\tif(this.rootLink.description.virtualArrayComponents[this.pathToComponent] == undefined)htmlLink.appendChild(Link);\r\n\t\t}\t\r\n\t\tthis.data.push(container);\r\n\t}else if(typeof insertLocation == 'number'){\r\n\r\n\t\t\t\tif(this.rootLink.description.virtualArrayComponents == undefined ){\r\n\r\n\t\t\t\t   htmlLink.insertBefore(Link, htmlLink.children[insertLocation]);\r\n\t\t}else{\r\n\r\n\t\t\t\tif(this.rootLink.description.virtualArrayComponents[this.pathToComponent] == undefined)htmlLink.insertBefore(Link, htmlLink.children[insertLocation]);\r\n\t\t}\r\n\t\tthis.data.splice(insertLocation, 0, container);\r\n\r\n\t\tfor(var i=insertLocation ; i < this.data.length; i++){\r\n\r\n\t\t\tthis.data[i].index = i;\r\n\t\t}\t\t\r\n\t}\r\n\tif(properties != undefined)container.setAllProps(properties);\r\n\r\n\treturn container;\r\n}\r\n///удаляет контейнер или группу контейнеров из массива по индексам\t\r\nHTMLixArray.prototype.removeIndex = function(indexArray, widthChild){\r\n\t\r\n\tif(widthChild != false)widthChild = true;\r\n    \r\n\tif(typeof indexArray != \"object\")indexArray = [indexArray];\r\n\r\n\tfor(var r = 0; r < indexArray.length; r++){\r\n\r\n\t\t\t\tif(indexArray[r] > this.data.length-1){\r\n\r\n\t\t\t\t\t\tconsole.log(\"error - индекс для удаления \"+indexArray[r]+\" больше количества элементов в массиве \"+this.pathToComponent);\r\n\t\t\treturn;\r\n\t\t}\t\t\r\n\t\t           this.rootLink.clearContainerProps(this.pathToComponent, indexArray[r], widthChild);\r\n\r\n\t\t          this.data[indexArray[r]].htmlLink.remove();\r\n\t}\r\n\t\tvar newData = this.data.filter(  function(container, i) {\r\n\r\n\t\t\t\treturn ! indexArray.some(function(numb){ return numb == i });\r\n\t\t});\t\r\n\t\tthis.data = newData;\r\n\tfor(var i=0 ; i < this.data.length; i++){\r\n\r\n\t\t\tthis.data[i].index = i;\r\n\t}\r\n}\r\n//удаляет все контейнеры из массива\t\r\nHTMLixArray.prototype.removeAll = function(widthChild){\t\r\n        \r\n\t\tif(widthChild != false)widthChild = true;\r\n\r\n\t\tfor (var index =0; index < this.data.length; index++){\r\n\t\t\t\r\n\t\t\t     this.rootLink.clearContainerProps(this.pathToComponent, index, widthChild);\r\n\r\n\t\t\tthis.data[index].htmlLink.remove();\r\n\t}\r\n\tthis.data.length = 0;\r\n\tthis.data = [];\r\n}\t\r\n//метод обновляет свойства всех контейнеров, а также обнуляет поле prop каждого свойства, если переданных в метод\r\n//объектов со свойствами больше контейнеров в массиве, то добавляет контейнеры\r\n//если меньше то удаляет лишние\t\r\nHTMLixArray.prototype.reuseAll = function(arrayWithObjects){\r\n\t\r\n\tvar newArrLength = arrayWithObjects.length;\r\n\tvar oldArrLength = this.data.length;\r\n\t\r\n\tvar add = 0;\r\n\tvar remove =0;\r\n\t\r\n\tif(newArrLength > oldArrLength) add = newArrLength - oldArrLength;\r\n\tif(newArrLength < oldArrLength) remove =  oldArrLength - newArrLength;\r\n\t\r\n\tfor(var i=0; i<this.data.length; i++){\r\n\t\t\r\n\t\tthis.data[i].setAllProps(arrayWithObjects[i]);\r\n\t\t\r\n\t\t\tfor(var key in this.data[i].props){\r\n\t\t\t\r\n\t\t\tif(this.data[i].props[key].prop != undefined)this.data[i].props[key].prop = null;\r\n\t\t\t\r\n\t\t}\t\r\n\t}\r\n\tif(add > 0){\r\n\t\tfor (var t=0; t<add; t++){\r\n\t\t\t\r\n\t\t\tthis.add(arrayWithObjects[oldArrLength + t]);\r\n\t\t}\t\r\n\t}\r\n    if(remove > 0){\r\n\t\tfor (var f=0; f<remove; f++){\r\n\t\t\t\r\n\t\t\tthis.removeIndex([this.data.length - 1], true);\r\n\t\t}\t\r\n\t}\t\r\n}\r\n//получает набор объектов где названия ключей - имена свойств контейнеров, а данные - данные свойств контейнеров\r\nHTMLixArray.prototype.getAll = function(map_Object){\r\n\t\t\r\n\t\tvar array_r = [];\t\t\r\n\t\t\r\n     if(map_Object != undefined){\r\n\t\t \r\n\t\t for (var f=0; f<this.data.length; f++){\r\n\t\t\t\r\n\t\t\tarray_r.push(  this.data[f].getAllProps(map_Object) );\r\n\t\t}\r\n\t\t \r\n\t }else{\r\n\t\t \r\n\t\t for (var f=0; f<this.data.length; f++){\r\n\t\t\t\r\n\t\t\tarray_r.push(  this.data[f].getAllProps() );\r\n\t\t}\r\n\t\t \r\n\t }\t\r\n\r\n\t\treturn array_r;\r\n}\r\n//изменяет проядок контейнеров в массиве и html разметке\r\nHTMLixArray.prototype.order = function(newOrderArr){\r\n\t\r\n\tvar htmlLink = this.htmlLink;\r\n\t\r\n\tif(this.selector != undefined ){\r\n\t\t\t\t\t\r\n\t\t\t\t\thtmlLink = htmlLink.querySelector(this.selector);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(htmlLink == null)console.log(\"error - не удается найти селектор \"+this.selector+\" для массива \"+this.pathToComponent);\t\t\t\t\t\r\n\t}\t\r\n\tif(newOrderArr.length != this.data.length){\r\n\t\t\r\n\t\tconsole.log(\"в массиве newOrderArr, должно быть столько же элементов сколько и в исходном массиве \");\r\n\t\treturn;\t\t\r\n\t}\t\r\n\tvar newData = [];\r\n\t\r\n\tfor(var i=0; i<newOrderArr.length; i++){\r\n\t\t\r\n\t\tnewData.push(this.data[newOrderArr[i]]);\r\n\t}\r\n\tthis.data = newData;\r\n\tthis.htmlLink.innerHTML = \"\";\r\n\t\r\n\tfor(var k=0; k<this.data.length; k++){\r\n\t\t\r\n\t\tthis.htmlLink.appendChild(this.data[k].htmlLink);\r\n\t\t\r\n\t\tthis.data[k].index = k;\r\n\t}\r\n}\r\nHTMLixArray.prototype.$ = function(componentName){\r\n\t\r\n\tif(componentName != undefined)return this.rootLink.state[componentName];\r\n\t\r\n\treturn this.rootLink;\r\n}\r\nHTMLixArray.prototype.$$ = function(eventPropName){\r\n\t\r\n\treturn this.rootLink.eventProps[eventPropName];\r\n}\r\nHTMLixArray.prototype.$methods = function(nameMethod){\r\n\t\r\n\tif(nameMethod != undefined)return this.rootLink.stateMethods[nameMethod];\r\n\r\n     return this.rootLink.stateMethods;\t\r\n}\r\nHTMLixArray.prototype.$props = function(nameProp){\r\n\t\r\n\tif(nameProp != undefined)return this.rootLink.stateProperties[nameProp];\t\r\n\t\r\n\treturn this.rootLink.stateProperties;\r\n}\r\n","function Container(htmlLink, containerName,  props, methods, index, pathToContainer, rootLink, isRunonCreatedContainer, newProps) {\r\n  this.htmlLink = htmlLink;\r\n  this.rootLink = rootLink;\r\n  this.props = {};\r\n  this.index = index; \r\n  this.pathToCоmponent = pathToContainer; \r\n  this.name = containerName;\r\n  this.type =  \"container\";\r\n  this.renderType =  \"container-outer\";\r\n  if(pathToContainer != containerName)this.renderType = \"container-inner\";\r\n  \r\n  ///container_extend\r\n  if(this.renderType ==  \"container-outer\"){ \r\n\r\n     var thisCont =  this.rootLink.description[this.pathToCоmponent];\r\n     if(thisCont == undefined)thisCont = this.rootLink.description.fetchComponents[this.pathToCоmponent];\t \r\n\t var parentContainerName = thisCont.container_extend;\r\n\t  \r\n\t  \t  if(parentContainerName != undefined){\r\n\t\t\t  \r\n\t\t\t  this.rootLink.containerExtend(parentContainerName, props, methods);\r\n\t  }\r\n  }\r\n  if(props == undefined)props = [];\r\n  for(var i2 = 0; i2 < props.length; i2++){\r\n\r\n         if(methods == undefined)methods = {};\r\n\r\n\t\tif(typeof props[i2] == \"string\"){\r\n\r\n\t\t\t \tvar htmlLinkToProp = this.htmlLink.querySelector('[data-'+containerName+'-'+props[i2]+']');\r\n\r\n\t\t\t\tif(htmlLinkToProp == undefined)htmlLinkToProp = this.htmlLink;\t\t\t\r\n\r\n\t\t\t\tthis.props[ props[i2] ] = constructorProps(htmlLinkToProp, containerName,\tprops[i2], methods[ props[i2] ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pathToCоmponent,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewProps\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\r\n\t\t}else{\r\n\r\n\t\t\t     \t\t\t\t var string =  props[i2][0];\r\n\r\n\t\t\t\t \t\t\t\t var selector = props[i2][2];\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t var type = props[i2][1];\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t if(type == \"aux\"){\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t if(methods[ string ] == undefined)console.log(\"error название свойства \"+string+\" не совпадает с названием метода\");\r\n\t\t\t\t\t\t\t\t\t if(this.methods == undefined)this.methods = {};\r\n\t\t\t\t\t\t\t\t\t this.methods[string] = methods[ string ].bind(this);\r\n\t\t\t\t\t\t\t\t\t continue;\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t }else if(type == \"extend\"){\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t var isTrue = this.rootLink.propExtend(props[i2][2], props[i2][3], props, methods, props[i2][0], i2);\r\n\t\t\t\t\t\t\t\t\t if(isTrue == false)continue;\r\n\t\t\t\t\t\t\t\t\t i2--;\r\n\t\t\t\t\t\t\t\t\t continue;\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t \t\t\t\t var  htmlLinkToProp = this.htmlLink;\r\n\r\n\t\t\t\t \t\t\t\t if(selector != \"\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t  htmlLinkToProp = this.htmlLink.querySelector(selector);\r\n\r\n\t\t\t\t\t  \t\t\t\t\t\t  if(htmlLinkToProp == undefined){\r\n\t\t\t\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t\t\t\t  console.log(\"error - не возможно найти селектор для свойства \"+selector+\" контейнера \"+containerName+\" проверьте правильность селектора или наличие тега в html разметке\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t  continue;\r\n\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t                 }\r\n\t\t\t     \t\t \t\tthis.props[ string ] = constructorProps(htmlLinkToProp, \r\n\t\t\t\t                                   containerName,\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t   props[i2], \r\n\t\t\t\t\t\t\t\t\t\t\t\t   methods[ string ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pathToCоmponent,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t\t\t\t\t   this.rootLink,\r\n\t\t\t\t\t\t\t\t\t\t\t\t   newProps\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\t\r\n\t\t }\r\n\t}\r\n       if(methods.onCreatedContainer != undefined ){ \r\n\r\n\t\t\t\tthis.onCreatedContainer = methods.onCreatedContainer.bind(this)\r\n\r\n\t\t if(isRunonCreatedContainer==undefined || isRunonCreatedContainer!=false){\r\n\t\t\t\r\n\t\t\tthis.onCreatedContainer();\r\n\t\t }\r\n\t }\r\n}\r\nContainer.prototype.remove = function(widthChild){\r\n\tif(this.index == null){\r\n\r\n\t\t\t\tconsole.log(\"conteiner without array not removing, to remove its first add container to array\");\r\n\t\treturn null;\r\n\t}\r\n\tif(this.groupId != undefined && this.groupParent !=undefined){\r\n\t\t\r\n\t\tthis.groupParent.removeFromGroup(this.groupId);\r\n\t\treturn;\r\n\t}\r\n\tif(this.renderParent !=undefined && this.renderParent.renderChild != undefined && this.renderParent.renderChild != null){ \r\n\t\r\n\t\tthis.renderParent.renderChild = null;\r\n\t\r\n\t}\r\n\t  this.rootLink.state[this.pathToCоmponent].removeIndex([this.index], widthChild);\r\n\r\n      return true;\r\n}\r\nContainer.prototype.setAllProps = function(properties){\r\n\t\r\n\t\tfor(key in properties){\r\n\r\n\t\t\t\tif(this.props[key]!= undefined){\r\n\r\n\t\t\t\t\t\tthis.props[key].setProp(properties[key]);\r\n\t\t\t\t\t\t\r\n\t\t\t\t}else if(key != \"componentName\"){\r\n\t\t\t\t\tconsole.log(\"warn не найден ключь \"+key+\" в контейнере \"+this.name+\" index \"+this.index+\" массива \"+this.pathToCоmponent+\" проверте правильность названия ключей в объекте properties\");\r\n\t\t\t\t}\r\n\t}\r\n}\r\nContainer.prototype.getAllProps = function(properties){\r\n\t\r\n\tvar properties_r = {};\r\n\t\r\n\tif(properties != undefined){\r\n\t\t\r\n\t\tfor(key in properties){\r\n\r\n\t\t\t\tif(this.props[key]!= undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tproperties_r[key] = this.props[key].getProp(properties[key]);\r\n\t\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\t\r\n\t\tfor(key in this.props){\r\n\r\n\t\t\tproperties_r[key] = this.props[key].getProp();\r\n\r\n\t\t}\t\t\r\n\t}\r\n\treturn properties_r;\r\n}\t\r\nContainer.prototype.component = function(){\r\n\t\t\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}\r\nContainer.prototype.$ = function(componentName){\r\n\t\r\n\tif(componentName != undefined)return this.rootLink.state[componentName];\r\n\t\r\n\treturn this.rootLink;\r\n}\r\nContainer.prototype.$$ = function(eventPropName){\r\n\t\r\n\treturn this.rootLink.eventProps[eventPropName];\r\n}\r\nContainer.prototype.$methods = function(nameMethod){\r\n\t\r\n\tif(nameMethod != undefined)return this.rootLink.stateMethods[nameMethod];\r\n\r\n     return this.rootLink.stateMethods;\t\r\n}\r\nContainer.prototype.$props = function(nameProp){\r\n\t\r\n\tif(nameProp != undefined)return this.rootLink.stateProperties[nameProp];\t\r\n\t\r\n\treturn this.rootLink.stateProperties;\r\n}","function HTMLixRouter(state, routes){\r\n\r\n\t\tvar namePathInRoutes = \"\";\r\n\r\n        var _templateVar = false;\r\n\r\n\t\tif(state.stateSettings != undefined && state.stateSettings.templateVar != undefined)_templateVar = true;\t\t\r\n        \r\n\t\tif(! _templateVar)namePathInRoutes = findComponent(routes);\r\n\r\n//поиск соответствующего роута\r\nfunction findComponent(routes){\r\n\r\n\t\t\t\tvar urlPath = window.location.pathname;\r\n\r\n\t\t\t\t//console.log(urlPath);\r\n\r\n\t\t\t\tif(urlPath == \"/\" && routes[\"/\"] != undefined){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\treturn urlPath;\r\n\t\t\t\t}\r\n\t\t\t\tvar pathArray = urlPath.split(\"/\");\r\n\t\t\t\t\t\r\n\t\t\tfor(var key in routes){\r\n                    \r\n\t\t\t\t\tvar isCountSerchСoincide = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar pathArrayFind = key.split(\"/\");\r\n\t\r\n\t\t\t\t\t\tvar word = pathArrayFind.slice(-1)[0];  //поиск последнего слова в маршруте чтобы проверить есть ли у него в конце знак *\r\n\t\t\t\t\t\tvar paramWord = {};\r\n\r\n\t\t\t\t\t\tif( pathArrayFind.length>2 && word == \"\"){\r\n\t\t\t\t\t\t\t word = pathArrayFind.slice(-2)[0];\r\n\t\t\t\t\t\t\t pathArrayFind.pop();\r\n\t\t\t\t\t\t}else if(pathArrayFind.length>2 && word == \"*\"){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tword = pathArrayFind.slice(-2)[0];\r\n\t\t\t\t\t\t\t pathArrayFind.pop();\r\n\t\t\t\t\t\t\tisCountSerchСoincide = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar word2 = pathArray.slice(-1)[0];  //поиск последнего слова в маршруте чтобы убрать пустую строку\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif( pathArray.length>2 && word2 == \"\"){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t pathArray.pop();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar searchInword = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar searchInwordCount = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar isParam = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (var y=0; y < pathArrayFind.length; y++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(pathArrayFind[y][pathArrayFind[y].length -1] == \"*\" ){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tsearchInword = true;\r\n\t\t\t\t\t\t\t\tword = pathArrayFind[y];\r\n\t\t\t\t\t\t\t\tsearchInwordCount[y] = y;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(pathArrayFind[y][0] == \":\" ){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tisParam = true;\r\n\t\t\t\t\t\t\t\tparamWord[y] = y;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\tif(word[word.length-1] == \"*\"){\r\n\r\n\t\t\t\t\t\t\t\tsearchInword = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\tvar count = 0;\r\n\r\n\t\t\t\t\tfor(var i=0; i< pathArrayFind.length; i++ ){\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(pathArrayFind[i] == pathArray[i]){\r\n\r\n\t\t\t\t\t\t\t\t\t\tcount++;\r\n\r\n\t\t\t\t\t\t\t\t\t}else if(searchInword == true && searchInwordCount[i] != undefined){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar search = pathArray[i].search(word);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\tif( word  != \"\" && search == 0 ){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t//\tconsole.log(search + \" search  \" +  word);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}else if(isParam == true && paramWord[i] != undefined ){ \r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\tif(isCountSerchСoincide == false){\r\n\t\t\t\tif(pathArrayFind.length == count){\r\n\t\t\t\t\t\r\n\t\t\t\t\tnamePathInRoutes = key;\r\n\t\t\t\t\treturn key;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\t\t\t\t\t\t\t\t\r\n\t\t\tif(pathArrayFind.length == count && pathArrayFind.length == pathArray.length){\r\n\r\n\t\t\t\t\t\t\tnamePathInRoutes = key;\r\n\t\t\t\t\t\t\treturn key;\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn null;\r\n\t}\r\n//поиск шаблона\r\nif(! _templateVar){\r\n\tif(routes[namePathInRoutes] != undefined && routes[namePathInRoutes].templatePath != undefined){\r\n\r\n\t\t\t\tif(state.stateSettings == undefined)state.stateSettings = {};\r\n\r\n\r\n\t\t\t\t\t\tstate.stateSettings.templatePath = routes[namePathInRoutes].templatePath;\r\n\r\n\t }else{\r\n\r\n\r\n\t\t\t\t\t\tconsole.log(\"router error- маршрут не найден убедитесь в правильности запроса\");\r\n\t             }\r\n}\t\t\t\t \r\n///изменение структуры state для загрузки шаблонов для других страниц в fetch запросе\r\nif(! _templateVar){\r\n\tfor (var key2 in state){\r\n\r\n\t\t\t\tvar toCare = true;\r\n\r\n\t\t\t\tfor(var t = 0; t< routes[namePathInRoutes].first.length; t++){\r\n\r\n\t\t\t\t\tif(key2 == routes[namePathInRoutes].first[t] || key2 == \"stateSettings\" || key2 ==  \"stateMethods\" ||\r\n\r\n\t\t\t\t\tkey2 == 'stateProperties' || key2 ==  \"eventEmiters\" ||  key2 ==  'virtualArrayComponents' || key2 ==  \"fetchComponents\"\r\n\r\n\t\t\t\t\t\t\t/* ||  key2 ==  'firstInitComponents' */ ){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoCare = false;\r\n\r\n\t\t\t\t\t}\r\n\t\t}\r\n\t\t      if(toCare){\r\n\r\n\t\t\t\t  \t\t\t\t if( state['fetchComponents'] == undefined)state['fetchComponents']  = {};\r\n\r\n\t\t\t\t\t\t\t\tstate['fetchComponents'][key2] = state[key2];\r\n\r\n\t\t\t\tdelete state[key2]\t\t\t\t  \r\n\r\n\t\t\t\t  \t\t\t  }\r\n\t}\r\n}\t\r\n\tvar stateWithRoutes = new HTMLixState(state);\r\n\t\r\n\tvar routerObj = {\r\n\t\t\t\troutes:  routes,\r\n\r\n\t\t\t\thtmlLink: {}, \r\n\r\n\t\t\t\tcomponent: {},\r\n\r\n\t\t\t\tmatchRout: findComponent,\r\n\t\t\t\t\r\n\t\t\t\tcountError: 0,\r\n\t\t\t\t\r\n\t\t\t\tfindRouters: function(nameArrComp){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(nameArrComp == undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t   nameArrComp = this.matchRout(this.routes);\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(nameArrComp == null){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"router error - не удается найти совпадающий rout для маршрута \"+window.location.pathname)\r\n\t\t\t\t                        }\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t\tfor(var key in this.routes[nameArrComp].routComponent){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(key);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar key2 = this.routes[nameArrComp].routComponent[key];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(key2);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.component[key2] == undefined){\r\n\t\t\t\t\t\t\tvar component = this.rootLink.state[key2];\r\n\t\t\t\t\t\t\tthis.component[key2] = component;\r\n\t\t\t\t\t\t\tif(component == undefined){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar messPart = \"warn не удалось найти компонент \"+key2+\" в описании приложения;\";\r\n\t\t\t\t\t\t\t\tif(this.countError > 0)messPart = \"router error - не удается найти компонент \"+key2+\" в описании приложения, проверьте правильность написания ключей в параметре routes для HTMLixRouter\";\r\n\t\t\t\t\t\t\t    console.log(messPart);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.countError = this.countError+1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//console.log(key);\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.htmlLink[key] == undefined || this.htmlLink[key] == null)this.htmlLink[key]= document.querySelector(\"[data-\"+key+\"]\");\r\n\t\t\t\t\t\t//console.log(this.htmlLink[key]);\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(var key in this.routes[nameArrComp].routComponent){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.htmlLink[key] == undefined || this.htmlLink[key] == null){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor(var keyRouter in this.routes[nameArrComp].routComponent){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.htmlLink[key]= this.component[ this.routes[nameArrComp].routComponent[keyRouter] ].htmlLink.querySelector(\"[data-\"+key+\"]\");\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(this.htmlLink[key] != undefined || this.htmlLink[key] != null) continue;\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.htmlLink[key] == undefined || this.htmlLink[key] == null) console.log(\"error в html коде не найден роутер data-\"+key);\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetHtml: function (nameArrComp){\r\n\t\t\t\t\r\n\r\n\t\t\t\tfor(var key in this.routes[nameArrComp].routComponent){ \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar key2 = this.routes[nameArrComp].routComponent[key];\r\n\t\t\t\t\t\t\r\n\t\t\t\t        this.htmlLink[key].innerHTML = \"\";\r\n\t\t\t\t\t\tthis.htmlLink[key].appendChild(\r\n\t\t\t\t\t\tthis.component[key2].htmlLink);\r\n\t\t\t\t}\t\t\t\r\n\t\t\t},\r\n\t\t\tsetRout: function(url, newComponent){\r\n\t\t\t\t\r\n\t\t\t\t//console.log(url);\r\n\r\n\t\t\t\t\t\twindow.history.pushState( \r\n\t\t\t\t\tnull,\r\n\t\t\t\t\turl,\r\n\t\t\t\t\turl\r\n\t\t\t);\r\n\t\t\t\tvar nameArrComp = this.matchRout(this.routes);\r\n\r\n\t\t\t\t\tif(nameArrComp == null){\r\n\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"router error - не удается найти совпадающий rout для маршрута \"+window.location.pathname)\r\n\t\t\t\t}\t\r\n\t\t\t\tthis.findRouters(nameArrComp);\r\n\t\t\t\tthis.setHtml(nameArrComp);\r\n\r\n\t\t}\r\n\t}\r\n\t    stateWithRoutes.router = routerObj;\r\n\r\n\t\tstateWithRoutes.router.rootLink = stateWithRoutes;\r\n\t\trouterObj.findRouters();\r\n\t// stateWithRoutes.router.component = stateWithRoutes.state[routes[namePathInRoutes].routComponent];  \r\n\r\n\t\treturn stateWithRoutes;\t\r\n}\r\n\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\nfunction EventEmiter(eventName, prop, listeners, listenersEventMethods, behavior, rootLink){\r\n\r\n\t\tthis.listeners = listeners;\r\n\tthis.listenersEventMethods =  listenersEventMethods;\r\n\r\n\t\tthis.event  = new Event(eventName);\r\n\tthis.type = eventName;\r\n\tthis.prop = prop;\r\n\tthis.behavior = null;\r\n\tthis.rootLink = null;\r\n\tif(behavior != undefined){\r\n\t\tthis.behavior = behavior.bind(this);\r\n\t\tthis.rootLink = rootLink;\r\n\t}\r\n}\r\nEventEmiter.prototype.addListener = function(htmlLinkToListener, eventMethod, eventName, nameListener){\r\n\r\n\r\n\t\t\thtmlLinkToListener.addEventListener(eventName, eventMethod);\r\n\r\n\t\tthis.listeners[nameListener]= htmlLinkToListener;\r\n\r\n\t\tthis.listenersEventMethods[nameListener] = eventMethod;\r\n}\r\nEventEmiter.prototype.removeListener = function(htmlLinkToListener){\r\n\r\n\t\t\tvar index = null;\r\n\r\n\t\t\t\tfor (key in this.listeners){\r\n\r\n\t\t\t\t\t\tif(htmlLinkToListener == this.listeners[key])index = key;\r\n\r\n\t\t\t\t\t}\r\n\t\tif(index == null)return;\r\n\t\tthis.listeners[index].removeEventListener(this.type, this.listenersEventMethods[index]);\r\n\r\n\t\t\t\tdelete this.listenersEventMethods[index];\r\n\t\tdelete this.listeners[index];\r\n}\r\nEventEmiter.prototype.emit = function(){\r\n\t\r\n\t    if(this.behavior != null){\r\n\t\t\t\r\n\t\t\tvar isEmit = this.behavior();\r\n\t\t\t\r\n\t\t\tif(isEmit == false)return;\r\n\t\t}\r\n\r\n\t\tfor(key in  this.listeners){\r\n\r\n\t\t\t\tthis.listeners[key].dispatchEvent(this.event);\r\n\r\n\t\t\t}\r\n}\r\nEventEmiter.prototype.setEventProp = function(prop){ \r\n\r\n\tthis.prop = prop;\r\n\r\n\t\tthis.emit();\r\n}\r\nEventEmiter.prototype.set = function(prop){ \r\n     this.setEventProp(prop)\r\n}\r\nEventEmiter.prototype.getEventProp = function(){ \r\n\r\n\t\treturn this.prop;\r\n}\r\nEventEmiter.prototype.get = function(prop){ \r\n     this.getEventProp(prop)\r\n}\r\n\r\n\r\nEventEmiter.prototype.$ = function(componentName){\r\n\t\r\n\tif(componentName != undefined)return this.rootLink.state[componentName];\r\n\t\r\n\treturn this.rootLink;\r\n}\r\nEventEmiter.prototype.$$ = function(eventPropName){\r\n\t\r\n\treturn this.rootLink.eventProps[eventPropName];\r\n}\r\nEventEmiter.prototype.$methods = function(nameMethod){\r\n\t\r\n\tif(nameMethod != undefined)return this.rootLink.stateMethods[nameMethod];\r\n\r\n     return this.rootLink.stateMethods;\t\r\n}\r\nEventEmiter.prototype.$props = function(nameProp){\r\n\t\r\n\tif(nameProp != undefined)return this.rootLink.stateProperties[nameProp];\t\r\n\t\r\n\treturn this.rootLink.stateProperties;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","\r\nfunction constructorProps(htmlLink, keyData1, keyData2, eventMethod, pathToContainer, parentContainer, rootLink, newProps) {\r\n\tvar propType = null;\r\n\r\n\t\tif(typeof keyData2 == \"object\"){\r\n          \r\n\t  \t  propType = keyData2[1];\r\n\t\t  \r\n\t\t  if(keyData2[0].search(\"data\") == 0){\r\n\t\t\t  \r\n\t\t\t  propType = \"data\";\r\n\t\t\t  \r\n\t\t\t  return new PropCommon(htmlLink, propType,  parentContainer, keyData2[0]);\r\n\t\t  }\r\n\t    }else if(keyData2.search(\"data\") == 0){\r\n\t\t\t\r\n\t\t\tpropType = \"data\";\r\n\t\t\t\r\n\t\t\treturn new PropCommon(htmlLink, propType,  parentContainer, keyData2);\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\tpropType = htmlLink.dataset[ keyData1 + rootLink.capitalizeFirstLetter(keyData2) ];\r\n\t\t}\r\n  if(propType == null){\r\n\t\t\r\n           var mess = \"error не определен тип свойства для data-\"+keyData1+\"-\"+keyData2+\" в html коде не найдено для компонента \"+pathToContainer+\", index= \"+parentContainer.index+\" !, проверьте правильность названия свойств\";\r\n\t\t\tconsole.log(mess);\r\n           throw mess;\r\n\t }\r\n\tif(propType == \"render-variant\" ){\r\n\t\t\r\n       return new PropVariant(htmlLink, propType,  keyData2, pathToContainer, parentContainer, rootLink, newProps);\r\n\t\t  \t\t  \r\n\t}else  if(propType == \"group\"){\r\n\t\t\r\n\t\treturn new PropGroup(htmlLink, propType, keyData1, keyData2, pathToContainer, parentContainer, rootLink, newProps);\r\n\t\t\t\t\r\n\t}else if(propType == \"group-mix\"){\r\n\t\t\r\n\t\treturn new PropGroupMix(htmlLink, propType, keyData1, keyData2, pathToContainer, parentContainer, rootLink, newProps);\r\n\t\t\t\t\r\n\t}else  if(eventMethod != undefined && rootLink.isEmiter(propType) != false  ){\r\n\t  \r\n\t\treturn new PropEventEmiter(htmlLink, propType, keyData2, eventMethod, pathToContainer, parentContainer, rootLink);\r\n\t \r\n\t}else if( eventMethod != undefined && rootLink.isEvent(propType) != false){\r\n\r\n        return new PropStandartEvent(htmlLink, propType, keyData2, eventMethod, pathToContainer, parentContainer, rootLink);\r\n\t\r\n  }else {\r\n\t\t\r\n\t\treturn new PropCommon(htmlLink, propType);\r\n\t\t\r\n\t}\r\n}\r\n\r\nfunction PropCommon(htmlLink, propType, parentComponent, propName){\r\n\t\r\n\t\r\n\t this.htmlLink = htmlLink;\r\n\t this.type = propType;\r\n\t \r\n\t if(this.type == \"data\"){\r\n\t\t \r\n\t\t this.parent = parentComponent;\r\n\t\t this.propName = propName;\r\n\t }\r\n\r\n}\r\nfunction PropSubtype(htmlLink, propType, propName,  pathToComponent, parentComponent, rootLink){\r\n\t\r\n\t  //PropCommon.call(this, htmlLink, propType, parentComponent);\r\n\t\tthis.htmlLink = htmlLink;\r\n\t\tthis.type = propType;\r\n\t  \tthis.pathToCоmponent = pathToComponent; \r\n\t\tthis.parent = parentComponent; \r\n\t\tthis.rootLink = rootLink;\r\n\t\tthis.prop = null;\t\t\r\n\t\tthis.propName = propName;\t\r\n\t\tif(typeof propName == \"object\")this.propName = propName[0];\r\n\r\n}\r\nPropSubtype.prototype.component = function(){\r\n\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}\r\nPropSubtype.prototype.props = function(propName){\r\n\t\r\n\treturn this.parent.props[propName];\r\n}\r\nPropSubtype.prototype.methods = function(nameAuxMethod){\r\n\t\r\n\treturn this.parent.methods[nameAuxMethod];\r\n}\r\nPropSubtype.prototype.$$ = function(eventPropName){\r\n\t\r\n\treturn this.rootLink.eventProps[eventPropName];\r\n}\r\nPropSubtype.prototype.$ = function(componentName){\r\n\t\r\n\tif(componentName != undefined)return this.rootLink.state[componentName];\r\n\t\r\n\treturn this.rootLink;\r\n}\r\nPropSubtype.prototype.$methods = function(nameMethod){\r\n\t\r\n\tif(nameMethod != undefined)return this.rootLink.stateMethods[nameMethod];\r\n\r\n     return this.rootLink.stateMethods;\t\r\n}\r\nPropSubtype.prototype.$props = function(nameProp){\r\n\t\r\n\tif(nameProp != undefined)return this.rootLink.stateProperties[nameProp];\t\r\n\t\r\n\treturn this.rootLink.stateProperties;\r\n}\r\n\r\nPropSubtype.prototype.removeAllChild = function(){\t\r\n\t\r\n\tvar children = this.htmlLink.children;\r\n\t\r\n\tvar count = children.length;\r\n\t\r\n\tfor(var p=0; p< count ; p++ ){\r\n\t\r\n\t\tchildren[0].remove();\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nPropCommon.prototype.setProp = function(value) {\r\n\t\r\n\t\t\tif(this.type == \"text\"){\r\n\r\n\t\t\t\tthis.htmlLink.textContent = value;\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}else if(this.type == \"inputvalue\" || this.type == \"select\"){\r\n\r\n\t\t\tthis.htmlLink.value = value;\r\n\t\t\treturn\r\n\r\n\t\t\t}else if(this.type == \"checkbox\" || this.type == \"radio\"){\r\n\r\n\t\t \t\t if(value != true && value != false)value = true;\r\n\r\n\t\t \t\t this.htmlLink.checked = value;\r\n\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse if(this.type == \"html\"){\r\n\r\n\t\t\t\t  this.htmlLink.innerHTML = value;\r\n\t\t\t\t  return;\r\n\r\n\t\t\t   }else if(this.type == \"class\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(Array.isArray(value)){\r\n                         var classLength = this.htmlLink.classList.length;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var u=0; u < classLength; u++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.htmlLink.classList.remove(this.htmlLink.classList[0]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var k=0; k < value.length; k++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.htmlLink.classList.add(value[k]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.htmlLink.classList.add(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t}else if(this.isAttr(this.type) != false){\r\n\r\n\t\t\t\tthis.htmlLink.setAttribute(this.isAttr(this.type), value);\r\n\t\t\t\treturn;\r\n\r\n\t\t}else  if(this.type == \"data\"){ \r\n\t\t\t\r\n\t\t\tthis.htmlLink.dataset[ this.parent.name + this.parent.rootLink.capitalizeFirstLetter(this.propName) ] = value;\r\n\t\t\treturn;\r\n\t\r\n\t}else{\r\n\t\t\r\n\t\tconsole.log(\"error неправильно указан тип свойства, если тип = aux его нужно создавать с помощью массива ['имя_метода', 'aux']\");\r\n\t\t\r\n\t}\r\n}\r\n\r\nPropCommon.prototype.getProp = function() {\r\n\t\r\n\tif(this.type == \"text\"){\r\n\r\n\t\t\t\treturn this.htmlLink.textContent;\r\n\r\n\t}else if(this.type == \"inputvalue\" || this.type == \"select\"){\r\n\r\n\t\t\treturn this.htmlLink.value;\r\n\r\n\t}else if(this.type == \"checkbox\" || this.type == \"radio\"){\r\n\r\n\t\t\t\treturn this.htmlLink.checked;\r\n\r\n\t\t\t}else if(this.type == \"class\"){\r\n\t\t\t\t\r\n\t\t\t\tvar classList = this.htmlLink.classList;\r\n\t\t\t\tvar clasArr = [];\r\n\t\t\t\tfor(var i=0; i< classList.length; i++){\r\n\t\t\t\t\t\r\n\t\t\t\t\tclasArr.push(classList[i]);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\treturn clasArr;\r\n\r\n\r\n\t}else if(this.type == \"html\"){\r\n\r\n\t\t\t\t  return this.htmlLink.innerHTML;\r\n\r\n    }else  if(this.isAttr(this.type) != false){\r\n\r\n\r\n\t\t\t\t\t\treturn this.htmlLink.getAttribute(this.isAttr(this.type));\r\n\r\n\t}\r\n\telse if(this.type == \"data\"){ \r\n\t\t\t\r\n\t\t\treturn this.htmlLink.dataset[ this.parent.name + this.parent.rootLink.capitalizeFirstLetter(this.propName) ];\r\n\t\r\n\t}else{\r\n\t\t\r\n\t\tconsole.log(\"error неправильно указан тип свойства, если тип = aux его нужно создавать с помощью массива ['имя_метода', 'aux']\");\r\n\t\t\r\n\t}\r\n}\r\nPropCommon.prototype.removeProp = function(value) {\r\n\t\r\n\t\t\tif(this.type == \"text\"){\r\n\r\n\t\t\t\treturn\tthis.htmlLink.textContent = \"\";\r\n\r\n\t\t\t}else if(this.type == \"class\"){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tif(Array.isArray(value)){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var u=0; u < this.htmlLink.classList.length; u++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.htmlLink.classList.remove(this.htmlLink.classList[u]);\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.htmlLink.classList.remove(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t}else if(this.type == \"html\"){\r\n\r\n\t\t\t\t  this.htmlLink.innerHTML = \"\";\r\n\t\t\t\t  return;\r\n\r\n    }else if(this.type == \"checkbox\" || this.type == \"radio\"){\r\n\r\n\t\t\t\t this.htmlLink.checked = false;\r\n\t\t\t\t return;\r\n\r\n\t\t\t}else if(this.type == \"inputvalue\" || this.type == \"select\"){\r\n\r\n\t\t\t\tthis.htmlLink.value = \"\";\r\n\t\t\t\treturn;\r\n\r\n\t}else  if(this.type == \"data\"){ \r\n\t\t\t\r\n\t\t\tthis.htmlLink.dataset[ this.parent.name + this.rootLink.parent.capitalizeFirstLetter(this.propName) ] = \"\";\r\n\t\t\treturn;\r\n\t\r\n\t}else if(this.isAttr(this.type) != false){\r\n\r\n\t\t\t\tthis.htmlLink.removeAttribute(this.isAttr(this.type));\r\n\t\t\t\treturn;\r\n\r\n\t}else{\r\n\t\t\r\n\t\tconsole.log(\"error неправильно указан тип свойства, если тип = aux его нужно создавать с помощью массива ['имя_метода', 'aux']\");\r\n\t\t\r\n\t}\t\r\n}\r\n\r\nPropCommon.prototype.isAttr = function (type){\r\n\r\n\t\tvar isAttr = false;\r\n\r\n\t\tswitch(type){\r\n\r\n\t\t\t\tcase 'alt':\r\n\t\tisAttr = 'alt';\r\n\t\tbreak;\r\n\r\n\t\tcase 'disabled':\r\n\t\tisAttr = 'disabled';\r\n\t\tbreak;\r\n\r\n\t\tcase 'href':\r\n\t\tisAttr = 'href';\r\n\t\tbreak;\r\n\r\n\t\tcase 'id':\r\n\t\tisAttr = 'id';\r\n\t\tbreak;\t\r\n\r\n\t\tcase 'src':\r\n\t\tisAttr = 'src';\r\n\t\tbreak;\t\t\r\n\r\n\t\tcase 'style':\r\n\t\tisAttr = 'style';\r\n\t\tbreak;\r\n\r\n\t\tcase 'title':\r\n\t\tisAttr = 'title';\r\n\t\tbreak;\t\t\r\n\t}\r\n\r\n\treturn isAttr;\r\n}\r\n\r\n\r\n","function PropGroup(htmlLink, propType, keyData1,  propName,  pathToComponent, parentComponent, rootLink, newProps){\r\n\t\r\n\r\n\t\r\n\t PropSubtype.call(this, htmlLink,  propType, propName,  pathToComponent, parentComponent, rootLink);\r\n\t \r\n\t \tthis.groupChild = [];\r\n\tthis.groupArray = null;\r\n\t \r\n\t \t\t\tif(newProps == undefined || newProps[propName] == undefined \r\n\t\t\t\t|| typeof newProps[propName] != \"object\" ||  newProps[propName].componentName == undefined ){\r\n\t\t\t\t\tthis.initGroup(keyData1, propName);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.removeAllChild();\r\n\t\t\t\t}\t\r\n\r\n}\r\nPropGroup.prototype = Object.create(PropSubtype.prototype);\r\n\r\nObject.defineProperty(PropGroup.prototype, 'constructor', { \r\n    value: PropGroup, \r\n    enumerable: false, // false, чтобы данное свойство не появлялось в цикле for in\r\n    writable: true });\r\n\r\nPropGroup.prototype.getProp= function(value){\r\n\t\t\t\tif(value == undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar array_r = [];\r\n\t\t\t\t\t\t\r\n                         for(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t array_r.push(this.groupChild[i].getAllProps());\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t var componentName = \"\";\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t if(this.groupArray != undefined)componentName = this.groupArray.pathToComponent;\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\treturn {group: array_r, componentName: componentName};\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(typeof value == \"number\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn this.groupChild[value];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tvar array_r = [];\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t if(value.componentName == undefined && value.group == undefined){\r\n\t\t\t\t\t\t\t    for(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\tarray_r.push(this.groupChild[i].getAllProps(value));\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t return array_r;\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }else{\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t \tfor(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\tarray_r.push(this.groupChild[i].getAllProps(value));\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar obj_r = {group: array_r};\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(value.componentName != undefined)obj_r.componentName = this.groupArray.pathToComponent;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn obj_r;\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\r\n}\r\nPropGroup.prototype.setProp= function(value){\r\n\t\r\n\t\t\t    if(Array.isArray(value) ){\r\n\t\t\t\t\r\n\t\t\t\t\tthis.reuseGroup(value);\r\n\t\t\t\t\r\n\r\n\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\r\n\t\t\t\tif(value.componentName != undefined && value.group != undefined){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.createNewGroup(value.group, value.componentName);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(value.location != undefined){\r\n\t\t\t\t\t\tvar location = value.location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdelete value.location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.createInGroup(value, location);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t}else {\r\n\t\t\t\r\n\t\t\tconsole.log(\"не получается создать \"+value+\"в группе компонента\"+this.pathToComponent);\r\n\t\t}\r\n\t\treturn;\r\n\t\r\n}\r\nPropGroup.prototype.removeProp= function(value){\r\n\t\r\n\t\t\t    if(value == undefined ){\r\n\r\n\t\t\t\t\t\tthis.clearGroup();\r\n\r\n\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\tthis.removeFromGroup(value);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\r\n}\r\nPropGroup.prototype.removeFromGroup = function(groupID){\r\n\tif(this.groupChild[groupID] == undefined){\r\n\r\n\t\t\t\tconsole.log(\"error- элемента с id = \"+groupID+\" в группе не существует\");\r\n\t\treturn;\r\n\t}\r\n\tdelete this.groupChild[groupID].groupId;\r\n\tdelete this.groupChild[groupID].groupParent;\r\n\r\n\t\tthis.groupChild[groupID].remove(true);\r\n\tthis.groupChild.splice(groupID, 1);\r\n\tfor(var t=0; t< this.groupChild.length; t++){\r\n\r\n\t\t\t\tthis.groupChild[t].groupId = t;\r\n\t}\r\n}\r\nPropGroup.prototype.clearGroup = function(){\r\n\t\r\n\t   var count = this.groupChild.length;\r\n\r\n\t\tif(count <= 0)return;\r\n\r\n\t\tvar indexes = [];\r\n\r\n\t\tfor(var i=0; i< count; i++){\r\n\r\n\t\t\t\tindexes.push(this.groupChild[i].index);\r\n\t}\r\n\tthis.rootLink.state[this.groupChild[0].pathToCоmponent].removeIndex(indexes, true);\r\n\r\n\tthis.groupChild.length = 0;\r\n}\r\nPropGroup.prototype.getGroupsArray = function(){\r\n\t\r\n\t\t\tif(this.groupArray == null || this.groupArray == undefined){\r\n\t\t\t\r\n\t\t\t      if(this.component().type==\"array\"){\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  for(var h=0; h<this.component().data.length; h++){\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  var groupArray_r = this.component().data[h].props[this.propName].groupArray;\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  if(groupArray_r != null && groupArray_r != undefined){\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t  this.groupArray = groupArray_r;\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t  return this.groupArray;\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t  }\t\t\t  \r\n\t\t\t\t  }\t\t\t\t\t  \t\r\n\t\t}\r\n\treturn null;\t\r\n}\r\n\r\nPropGroup.prototype.reuseGroup = function(arrayWithObjects){\r\n\t\r\n\t\r\n\t\tif(this.groupArray == null && this.getGroupsArray() == null){\r\n\t\t\t\t\r\n\t\t\t\t\tconsole.log(\"error для использования метода .reuseGroup свойство должно иметь поле this.groupArray !=null\");\r\n\t\t\t\t\treturn\t\t\r\n\t\t}\r\n\t\r\n\t\tvar newArrLength = arrayWithObjects.length;\r\n\t\tvar oldArrLength = this.groupChild.length;\r\n\t\r\n\tvar add = 0;\r\n\tvar remove =0;\r\n\t\r\n\tif(newArrLength > oldArrLength) add = newArrLength - oldArrLength;\r\n\tif(newArrLength < oldArrLength) remove =  oldArrLength - newArrLength;\r\n\t\r\n\tfor(var i=0; i<this.groupChild.length; i++){\r\n\t\t\r\n\t\tthis.groupChild[i].setAllProps(arrayWithObjects[i]);\r\n\t\t\r\n\t\t\tfor(var key in this.groupChild[i].props){\r\n\t\t\t\r\n\t\t\tif(this.groupChild[i].props[key].prop != undefined)this.groupChild[i].props[key].prop = null;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\t\r\n\tif(add > 0){\r\n\t\tfor (var t=0; t<add; t++){\r\n\t\t\t\r\n\r\n\t\t\t\r\n\t\t\tthis.createInGroup(arrayWithObjects[oldArrLength + t]);\r\n\t\t}\t\r\n\t}\r\n    if(remove > 0){\r\n\t\tfor (var f=0; f<remove; f++){\r\n\t\t\t\r\n\t\t\tthis.removeFromGroup( this.groupChild.length - 1 );\r\n\t\t}\t\r\n\t}\r\n\t\t\r\n}\r\nPropGroup.prototype.createInGroup = function(props, insertLocation){\r\n\t\r\n\tif(this.groupArray == null && this.getGroupsArray() == null && props.componentName == undefined){\r\n\t\t\r\n\t\tconsole.log(\"error для использования метода createInGroup свойство должно иметь поле this.groupArray !=null\");\r\n\t\treturn\t\t\r\n\t}\r\n\tif(this.groupArray == null || this.groupArray == undefined)this.groupArray = this.rootLink.state[props.componentName];\r\n\t\t\r\n\tvar container =  this.groupArray.add(props);\r\n\t\r\n\tthis.addToGroup(container, insertLocation);\t\r\n}\r\nPropGroup.prototype.createNewGroup = function(groupArr, componentName){\r\n\t\r\n\r\n\t\r\n\tif(this.groupArray != null && this.groupArray.pathToComponent != undefined && this.groupArray.pathToComponent == componentName){\r\n\t\t\r\n\t\tthis.reuseGroup(groupArr);\r\n\t\t\r\n\t}else{\t\t\r\n\t\tif(this.groupChild != undefined && this.groupChild.length != 0){\r\n\t\t\tthis.clearGroup();\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\tthis.groupChild = [];\r\n\t\t}\t\r\n\t\t\r\n\t\tthis.groupArray = this.rootLink.state[componentName];\r\n\t\tif(!this.groupArray)console.log(\"error не создан компонент \"+componentName);\r\n\t\t\r\n\t\tfor(var i=0; i<groupArr.length; i++){\r\n\t\t\t\r\n\t\t\tthis.createInGroup(groupArr[i]);\r\n\t}\t\t\r\n\t}\t\r\n}\r\nPropGroup.prototype.addToGroup = function(container, insertLocation){ \r\n\r\n          \t\t var loc = \"and\";       \r\n          if(insertLocation == \"front\")loc = 0;\r\n          if(insertLocation != undefined && typeof insertLocation == 'number'  )loc = insertLocation;  \t\t  \r\n                        \r\n\t\t\t\t\t\tthis.groupArray = this.rootLink.state[container.pathToCоmponent];\r\n\t\t\t\t\t\tcontainer.groupParent = this;\r\n\r\n\t\t\t\tif( loc == \"and\"){\r\n\r\n\t\t\t\t\t\tthis.htmlLink.appendChild(container.htmlLink);\r\n\r\n\t\t\t\t\t\t this.groupChild.push(container);\r\n\t\t\t container.groupId = this.groupChild.length-1;\r\n\r\n\t\t\t\t\t}else if(typeof loc == 'number'){\r\n\r\n\t\t\t\t\t\tthis.htmlLink.insertBefore(container.htmlLink, this.htmlLink.children[loc]);\r\n\r\n\t\t\t\t\t\tthis.groupChild.splice(insertLocation, 0, container);\r\n\r\n\t\t\t\t\t\t\tfor(var i=insertLocation ; i < this.groupChild.length; i++){\t\t\r\n\r\n\t\t\t\t\t\t\t\t\tthis.groupChild[i].groupId = i;\r\n\t\t\t\t}\t\t\t\r\n\t\t}\r\n}\r\nPropGroup.prototype.order= function(newOrderArr){ \r\n\r\n\tvar htmlLink = this.htmlLink;\r\n\t\r\n\r\n\tif(newOrderArr.length != this.groupChild.length){\r\n\t\t\r\n\t\tconsole.log(\"в массиве newOrderArr, должно быть столько же элементов сколько и в массиве this.groupChild\");\r\n\t\treturn;\r\n\t\t\r\n\t}\t\r\n\tvar newData = [];\r\n\t\r\n\tfor(var i=0; i<newOrderArr.length; i++){\r\n\t\t\r\n\t\tnewData.push(this.groupChild[newOrderArr[i]]);\r\n\t}\r\n\tthis.groupChild = newData;\r\n\thtmlLink.innerHTML = \"\";\r\n\t\r\n\tfor(var k=0; k< this.groupChild.length; k++){\r\n\t\t\r\n\t\thtmlLink.appendChild(this.groupChild[k].htmlLink);\r\n\t\t\r\n\t\tthis.groupChild[k].groupId = k;\r\n\t}\r\n}\r\n\r\nPropGroup.prototype.initGroup = function(containerName, propName){\r\n\r\n\t\t\tvar groupItems = this.htmlLink.children;\r\n\t\t\tvar countItems = 0;\r\n\r\n\t\t\t\tif(groupItems.length != 0){\r\n\r\n\t\t\t\t\t\tfor(var i=0; i< groupItems.length; i++ ){\r\n\r\n\t\t\t\t\t\t  var objToFind  = groupItems[i].dataset;\r\n\r\n\t\t\t\t                \tvar nameVirtualArray = null;\r\n                    var nameContainer = null;\t\t\t\t\t\r\n\r\n\t\t\t\t   \t\t\t\t   for (var key5 in objToFind){\r\n\r\n\t\t\t\t\t   \t\t\t\t\t  if(objToFind[key5] == \"container\" || objToFind[key5] == \"template\"){\r\n\r\n\t\t\t\t\t\t  \t\t\t\t\t\t  for(var key57 in this.rootLink.description.virtualArrayComponents){\r\n\r\n\t\t\t\t\t\t\t  \t\t\t\t\t\t\t  if(this.rootLink.description.virtualArrayComponents[key57].container == [key5] ){\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t\t  nameVirtualArray = key57;\r\n\t\t\t\t\t\t\t\t  nameContainer = key5;\r\n\t\t\t\t\t\t\t\t  countItems ++\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t  }\t\t\t\t\t\t  \r\n\r\n\t\t\t\t\t  \t\t\t   \t\t\t\t\tif(nameContainer == null)console.log(\"error- контейнера \"+key5+\" не найдено в нутри контейнера \"+containerName+\" index - \"+this.parentContainer.index+\" проверьте правельность названия ключей в html коде\");\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t   \tif(nameVirtualArray != null && this.rootLink.state[nameVirtualArray] ==  undefined){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray] = new HTMLixArray(\"virtual-array\", groupItems[i], this.rootLink, nameVirtualArray, undefined);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\tif(nameVirtualArray != null && nameContainer != null && objToFind[key5] == \"container\"){\r\n\t\t\t\t\t\tvar container = new Container(groupItems[i], \r\n\t\t\t\t\t                                 nameContainer, \r\n\t\t\t\t\t\t                          this.rootLink.description.virtualArrayComponents[nameVirtualArray].props, \r\n\t\t\t\t\t\t                           this.rootLink.description.virtualArrayComponents[nameVirtualArray].methods, \r\n\t\t\t\t\t\t                          this.rootLink.state[nameVirtualArray].data.length , \r\n\t\t\t\t\t\t                          nameVirtualArray, \r\n\t\t\t\t\t\t\t\t\t\t\t\t  this.rootLink,\r\n\t\t\t\t\t\t\t\t\t\t\t\t  false\r\n\t\t\t\t\t                               );\r\n\r\n\t\t\t\t\t    //container.renderType = \"container-inner\";\r\n\t\t\t\t\t\tcontainer.groupParent\t= this;\r\n\r\n\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray].data.push( container );\t\r\n\t\t\t\t\t\tthis.groupChild.push(container);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.groupArray = this.rootLink.state[nameVirtualArray];\r\n\t\t\t\t\t\t//console.log(this);\r\n\t\t\t\t\t\t//console.log('/////////////////');\r\n\t\t\t\t\t\tcontainer.groupId  = this.groupChild.length - 1; \r\n\t\t\t\t\t\tif(container.onCreatedContainer != undefined)container.onCreatedContainer();\r\n\r\n\t\t\t\t }else if(objToFind[key5] == \"template\"){\r\n\t\t\t\t\t \r\n\t\t\t\t\t this.groupArray = this.rootLink.state[nameVirtualArray];\r\n\t\t\t\t\t \r\n\t\t\t\t\t groupItems[i].setAttribute('style', \"\");\r\n\t\t\t\t\t groupItems[i].dataset[key5] = \"container\";\r\n\r\n\r\n\t\t\t\t\tthis.rootLink.state[nameVirtualArray].templateData = groupItems[i].cloneNode(true);\r\n\r\n\t\t\t\t\tgroupItems[i].remove();\r\n\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t\t\t }else{\r\n\t\t\t\t\t\t if(typeof propName != \"string\"){ \r\n\r\n\t\t\t\t\t\t \t\t\t\t\t\t     console.log(\"error- проверьте правельность селектора для ключа \"+propName[0]+\" в контейнере \"+containerName);\r\n\r\n\t\t\t\t\t\t \t\t\t\t\t\t }else{\r\n\r\n\t\t\t\t\t\t\t \t\t\t\t\t\t\t console.log(\"error- контейнера с ключем \"+key5+\" не найдено проверьте правельность названия ключей после data- в html коде\")\r\n\t\t\t\t\t\t }\r\n\r\n\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t   }\t\r\n\t\t    }\r\n\t\t\tif(groupItems.length > countItems )console.log(\"warn - элементов в свойстве \"+propName+\" контейнера \"+containerName+\" index - \"+this.parentContainer.index+\" создано меньше чем обьявлено в теге, проверьте корректность написания ключей \");\r\n\t\t}\r\n\r\n}","function PropGroupMix(htmlLink, propType, keyData1,  propName,  pathToComponent, parentComponent, rootLink, newProps){\r\n\t\r\n\t\r\n\t PropSubtype.call(this, htmlLink,  propType, propName,  pathToComponent, parentComponent, rootLink);\r\n\t \r\n\t \tthis.groupChild = [];\t\r\n\t \r\n\t \t\t\tif(newProps == undefined || newProps[propName] == undefined \r\n\t\t\t\t|| typeof newProps[propName] != \"object\" ||  newProps[propName].componentName == undefined ){\r\n\t\t\t\t\tthis.initGroup(keyData1, propName);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.removeAllChild();\r\n\t\t\t\t}\t\r\n\r\n}\r\n\r\nPropGroupMix.prototype = Object.create(PropSubtype.prototype);\r\n\r\nObject.defineProperty(PropGroup.prototype, 'constructor', { \r\n    value: PropGroupMix, \r\n    enumerable: false, // false, чтобы данное свойство не появлялось в цикле for in\r\n    writable: true });\r\n\r\n\r\nPropGroupMix.prototype.getProp= function(value){\r\n\t\t\t\tif(value == undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar array_r = [];\r\n\t\t\t\t\t\t\r\n                         for(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t var item = this.groupChild[i].getAllProps();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t item.componentName = this.groupChild[i].pathToCоmponent;\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t array_r.push(item);\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\treturn array_r;\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(typeof value == \"number\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn this.groupChild[value];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tvar array_r = [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t \tfor(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t var item = this.groupChild[i].getAllProps(value);\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\tif(value.componentName != undefined)item.componentName = this.groupChild[i].pathToCоmponent;\r\n\t\t\t\t\t\t\t\t\tarray_r.push(item);\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn array_r;\t\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\r\n}\r\nPropGroupMix.prototype.setProp= function(value){\r\n\t\r\n\t\t\tif(Array.isArray(value) ){\r\n\t\t\t\t\r\n\t\t\t\tthis.clearGroup();\r\n\t\t\t\tfor(var i=0; i< value.length; i++){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(value[i].location != undefined ){\r\n\t\t\t\t\t\tvar location = value[i].location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdelete value[i].location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.createInGroup(value[i], location);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\r\n\r\n\t\t\t\t\tif(value.location != undefined ){\r\n\t\t\t\t\t\tvar location = value.location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdelete value.location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.createInGroup(value, location);\t\t\t\r\n\t\t\t\t\r\n\t\t}else {\r\n\t\t\t\r\n\t\t\tconsole.log(\"не получается создать \"+value+\"в группе компонента\"+this.pathToCоmponent);\r\n\t\t}\r\n\t\treturn;\t\r\n}\r\nPropGroupMix.prototype.order= function(newOrderArr){ \r\n\r\n\tPropGroup.prototype.order.call(this, newOrderArr);\r\n\t\r\n}\r\nPropGroupMix.prototype.removeProp= function(value){\r\n\t\r\n\tPropGroup.prototype.removeProp.call(this, value);\r\n\t\r\n\t\r\n}\r\nPropGroupMix.prototype.initGroup = function(containerName, propName){\r\n\t\t\r\n\tPropGroup.prototype.initGroup.call(this, containerName, propName);\r\n\tif(this.groupArray != undefined)delete this.groupArray;\r\n\t\r\n}\t\r\n\r\nPropGroupMix.prototype.addToGroup = function(container, insertLocation){ \r\n\r\n\t\tPropGroup.prototype.addToGroup.call(this, container, insertLocation);\r\n\t\tif(this.groupArray != undefined)delete this.groupArray;\r\n}\r\nPropGroupMix.prototype.removeFromGroup = function(groupID){\r\n\t\tPropGroup.prototype.removeFromGroup.call(this, groupID);\r\n}\r\n\r\nPropGroupMix.prototype.createInGroup = function(props, insertLocation){\r\n\t\r\n\tif(props.componentName == undefined){\r\n\t\t\r\n\t\tconsole.log(\"error для использования метода createInGroup в параметре должно присутствовать поле props.componentName\");\r\n\t\treturn\t\t\r\n\t}\r\n\tvar vArr = this.rootLink.state[props.componentName];\r\n\tif(vArr == undefined)console.log(\"error не создан виртуальный массив \"+props.componentName);\r\n\t\r\n\tvar container =  vArr.add(props);\t\r\n\tthis.addToGroup(container, insertLocation);\t\r\n}\r\nPropGroupMix.prototype.clearGroup = function(){\r\n\t\r\n\t   var count = this.groupChild.length;\r\n\r\n\t\tif(count <= 0)return;\r\n\r\n\t\tfor(var i=0; i< count; i++){\r\n\t\t\t\r\n\t\t\tthis.groupChild[0].remove(true);\r\n\r\n\t}\r\n\t\tthis.groupChild.length = 0;\r\n}\r\n\r\n\r\n","function PropEventEmiter(htmlLink, propType, propName, eventMethod, pathToComponent, parentComponent, rootLink){\r\n\t\r\n\r\n\t\r\n\t PropSubtype.call(this, htmlLink, propType, propName,  pathToComponent, parentComponent, rootLink)\r\n\t// console.log(this);\r\n\t\r\n\t this.emiterKey = \"\";\r\n\t this.emiter = \"\";\r\n\t this.eventMethod = eventMethod.bind(this);\r\n\t\r\n\t\r\n\t  this.emiterKey = \"key\"+Math.floor(Math.random()*89999+10000);\r\n\t  this.emiter = this.rootLink.eventProps[this.type];\r\n\t  this.rootLink.eventProps[this.type].addListener(htmlLink, this.eventMethod, this.type, this.emiterKey);\r\n}\r\nPropEventEmiter.prototype = Object.create(PropSubtype.prototype);\r\n\r\nObject.defineProperty(PropEventEmiter.prototype, 'constructor', { \r\n    value: PropEventEmiter, \r\n    enumerable: false, // false, чтобы данное свойство не появлялось в цикле for in\r\n    writable: true });\r\n\r\nPropEventEmiter.prototype.getProp = function(){\r\n\t\r\n\treturn this.type;\r\n}\r\nPropEventEmiter.prototype.setProp= function(){\r\n\t\r\n\treturn false;\r\n}\r\nPropEventEmiter.prototype.removeProp= function(){\r\n\t\r\n\treturn false;\r\n}\r\nPropEventEmiter.prototype.disableEvent= function(){\r\n\t\r\n\r\n\t\tif(this[this.type+'-disable'] != undefined){\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis[this.type+'-disable'] = true;\r\n\r\n\t\t\t\tthis.emiter.removeListener(this.htmlLink);\r\n\r\n}\r\nPropEventEmiter.prototype.enableEvent = function(){\r\n\r\n\t\tif(this[this.type+'-disable'] == undefined){\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdelete this[this.type+'-disable'];\r\n\r\n\t\tthis.emiter.addListener(this.htmlLink, this.eventMethod, this.type, this.emiterKey);\r\n}\r\n\r\n/*PropEventEmiter.prototype.component = function(){\r\n\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}*/\r\n/////////////////////////////////////////////\r\n\r\n\r\n\r\n\r\n\r\nfunction PropStandartEvent(htmlLink, propType, propName, eventMethod, pathToComponent, parentComponent, rootLink){\r\n\t\r\n\t\r\n\t\r\n\t PropSubtype.call(this, htmlLink, propType, propName,  pathToComponent, parentComponent, rootLink);\r\n\t //console.log(this);\r\n\t \r\n\t this.events = {};\r\n\t \r\n\t this.events[this.type] = eventMethod.bind(this);\t\r\n\t this.htmlLink.addEventListener(this.type, this.events[this.type]);\r\n\t \r\n\r\n\r\n}\r\nPropStandartEvent.prototype = Object.create(PropSubtype.prototype);\r\n\r\nObject.defineProperty(PropStandartEvent.prototype, 'constructor', { \r\n    value: PropStandartEvent, \r\n    enumerable: false, // false, чтобы данное свойство не появлялось в цикле for in\r\n    writable: true });\r\n/*\t\r\nPropStandartEvent.prototype.component = function(){\r\n\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}*/\r\nPropStandartEvent.prototype.getProp= function(){\r\n\t\r\n\treturn this.type;\r\n}\r\nPropStandartEvent.prototype.setProp= function(value, eventMethod){\r\n\t\r\n\t\r\n\t\t\tif(eventMethod == undefined){\t\t\t\r\n\t\t\t\tconsole.log(\"не определен обработчик для события-\"+value);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t\tthis.events[value] = eventMethod.bind(this);\t\t\r\n\t\t\t\tthis.htmlLink.addEventListener(value , this.events[value]);\t\r\n\t\t\t\treturn;\r\n\t\r\n}\r\nPropStandartEvent.prototype.removeProp= function(value){\r\n\r\n\t\tthis.htmlLink.removeEventListener(value, this.events[value]);\t\t\r\n\t\tdelete this.events[value];\r\n\t\treturn;\r\n}\t\t\r\n\r\nPropStandartEvent.prototype.disableEvent = function(value){\r\n\r\n\t\tif(this.events[value] != undefined){\r\n\r\n\t\t\t\tif(this[value+'disable'] != undefined){\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t\t\t\tthis[value+'disable'] = value;\r\n\r\n\t\t\t\tthis.htmlLink.removeEventListener(value, this.events[value]);\r\n\r\n\t\t\t}else{\r\n\r\n\t\t\t\tconsole.log(\"обработчика с таким событием не найдено\");\r\n\t}\r\n\r\n\t}\r\nPropStandartEvent.prototype.enableEvent = function(value){\r\n\r\n\t\tif(this.events[value] != undefined){\r\n\r\n\t\t\t\tif(this[value+'disable'] == undefined){\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t\t\tdelete this[value+'disable'];\r\n\r\n\t\t\t\tthis.htmlLink.addEventListener(value, this.events[value]);\r\n\r\n\t\t\t}else{\r\n\r\n\t\t\t\tconsole.log(\"обработчика с таким событием не найдено\");\r\n\t}\r\n}\r\nPropStandartEvent.prototype.emitEvent = function(eventName){\r\n\t\r\n\tthis.events[eventName]()\r\n\t\r\n}","function PropVariant(htmlLink, propType,   propName,  pathToComponent, parentComponent, rootLink, newProps){\r\n\t\r\n\t\r\n\t\r\n\t PropSubtype.call(this, htmlLink,  propType, propName,  pathToComponent, parentComponent, rootLink);\r\n\t \r\n\t this.renderChild = null;\r\n\t \r\n\t \t\t\t\tif(newProps == undefined || newProps[propName] == undefined \r\n\t\t\t\t|| typeof newProps[propName] != \"object\" ||  newProps[propName].componentName == undefined){\r\n\r\n\t\t\t\t\tthis.initRenderVariant();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.removeAllChild();\r\n\t\t\t\t}\r\n\r\n\r\n}\r\nPropVariant.prototype = Object.create(PropSubtype.prototype);\r\n\r\nObject.defineProperty(PropVariant.prototype, 'constructor', { \r\n    value: PropVariant, \r\n    enumerable: false,\r\n    writable: true });\r\n\r\nPropVariant.prototype.getProp= function(value){\r\n\t\r\n\t\t\t\tvar return_obg = {};\r\n\t\t\t\r\n\t\t    if(value == undefined){\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\tif(this.renderChild.type == \"container\"){\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAllProps();\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(this.renderChild.type == \"array\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAll();\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\treturn_obg[\"componentName\"] = this.renderChild.pathToCоmponent;\r\n\t\t\t\treturn return_obg;\r\n\r\n\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\r\n\t\t\t\tif(this.renderChild.type == \"container\"){\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAllProps(value);\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(this.renderChild.type == \"array\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAll(value);\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\tif(value.componentName != undefined){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn_obg[\"componentName\"] = this.renderChild.pathToCоmponent;\r\n\t\t\t\t}\r\n\t\t\t\treturn return_obg;\r\n\r\n\t\t\t}\r\n\t\r\n}\r\nPropVariant.prototype.setProp= function(value){\r\n\t\r\n\t\t\t\tif(typeof value == \"string\" ){\r\n\r\n\t\t\t\t\t\t\t\tthis.render(value);\t\r\n\r\n\t\t\t}else if(typeof value == \"object\" &&  value.renderType != undefined  && value.renderType == \"container-inner\"){\r\n\r\n\t\t\t\t\t\t\t\tthis.renderByContainer(value);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t}else if(typeof value == \"object\" && value.componentName != undefined){\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.setOrCreateAndRender(value);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\r\n\t\t\t\tconsole.log(\"не удается отрисовать контейнер в render-variant если вы хотите отрисовать компонент то используйте текстовый параметр\")\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\r\n}\r\nPropVariant.prototype.removeProp= function(value){\r\n\t\r\n\t\t\tvar isRemove = null;\r\n\r\n          if(this.renderChild != null && this.renderChild.renderType == \"container-inner\"){\r\n\t\t\t  \r\n\t\t\t    isRemove = this.renderChild.remove(true);\r\n\t\t  }\r\n\t\t\t\t\r\n\t\t if(isRemove == null){\r\n\r\n\t\t\t \t\t\t this.renderChild.renderParent = null;\t\r\n\t\t }\r\n\t     this.renderChild = null;\r\n\r\n\t     \t\t this.htmlLink.innerHTML = \"\";\r\n\t\t\t\t return;\r\n\t\r\n}\r\nPropVariant.prototype.render = function(nameComponent){\r\n\r\n\tif(this.renderChild == null && nameComponent == undefined ){\r\n\r\n\t\t\t    console.log(\"не известен компонент для рендера\");\r\n\t\treturn  \"undefinit render-variant\";\r\n\t}\r\n\tif(nameComponent != undefined && this.rootLink.state[nameComponent] != undefined){\r\n\t\t\r\n\t\tif(this.renderChild != null && this.renderChild.renderParent != undefined && this.renderChild.renderParent != null)this.renderChild.renderParent = null;\r\n\t\t\r\n\t\tthis.renderChild = this.rootLink.state[nameComponent];\r\n\t\t\r\n\t\tthis.rootLink.state[nameComponent].renderParent = this;\t\t\r\n\r\n\t\tthis.htmlLink.innerHTML = \"\";\r\n\r\n\t\tthis.htmlLink.appendChild(this.renderChild.htmlLink);\r\n\t\t\r\n\t}else{\r\n\t\t\t\t\r\n          console.log(\"не найден компонент \"+nameComponent+\" для рендера\");\r\n\t\treturn  \"undefinit render-variant\";\r\n\t}\r\n\r\n}\r\nPropVariant.prototype.renderByContainer = function(containerLink){\r\n\r\n\t\tif(containerLink != undefined && containerLink.renderType == \"container-inner\"){\r\n\t\tif(this.renderChild != null && this.renderChild.renderType != undefined && this.renderChild.renderType == \"container-inner\")this.renderChild.remove(true);\r\n\r\n\t\tthis.renderChild = containerLink;\r\n\t\tthis.renderChild.renderParent = this;\r\n\r\n\t\t\t}else{\r\n\t\tconsole.log(\" для метода renderByContainer необходимо прередать container с renderType='container-inner'\");\r\n\t\treturn \"undefined render-variant-htmlLink\"\r\n\t}\r\n\tthis.htmlLink.innerHTML = \"\";\r\n\tthis.htmlLink.appendChild(this.renderChild.htmlLink);\r\n}\r\n\r\nPropVariant.prototype.setOrCreateAndRender = function(objWidthProps){\r\n\r\n        if(objWidthProps.componentName == undefined){\r\n\t\t\t\r\n\t\t\tconsole.log(\"забыли указать имя компонента  .componentName в обьекте-параметре objWidthProps\");\r\n\t\t\t\r\n\t\t\treturn;\r\n\t\t}\t\r\n    var component = this.rootLink.state[objWidthProps.componentName];\r\n\r\n    if(component.renderType == \"virtual-array\"){\r\n\t\t\r\n\t\t if(this.renderChild != null && this.renderChild.pathToCоmponent != undefined &&  this.renderChild.pathToCоmponent == objWidthProps.componentName){\r\n\r\n\t\t\t this.renderChild.setAllProps(objWidthProps);\r\n\t\t\t \r\n\t\t }else{\r\n\t\t\t\t\r\n\t\t\t \tvar container = component.add(objWidthProps);\r\n\r\n\t\t\t\tthis.renderByContainer(container);\r\n\t\t\t\t\t \r\n\t\t }\t\t\r\n\t}else if(component.renderType == \"container-outer\"){\r\n\t\t\r\n\t\t\r\n\t\tcomponent.setAllProps(objWidthProps);\r\n\t\t\r\n\t\tthis.render(objWidthProps.componentName);\r\n\t\t\t\t\r\n\t\t\r\n\t}else if(component.renderType == \"array\"){\r\n\t\t\r\n\t\tif(objWidthProps.data == undefined){\r\n\t\t\t\r\n\t\t\tconsole.log(\"для отображения массива с новыми данными, в параметре objWidthProps.data должен содержаться массив с объектами\");\r\n\t\t\t\r\n\t\t\treturn;\r\n\t\t}\t\r\n\t\t\tthis.render(objWidthProps.componentName);\r\n\t\t\t\r\n\t\t\tcomponent.reuseAll(objWidthProps.data);\r\n\t}\r\n}\r\nPropVariant.prototype.initRenderVariant = function(){\r\n\r\n\t\t\tvar objIs = this.htmlLink.firstElementChild;\r\n\t\r\n\t\tif(objIs != undefined){\r\n\r\n\t\t\t\t\tvar objToFind = objIs.dataset;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tfor (var key5 in objToFind){\r\n\t\t\t\tif(objToFind[key5] == \"array\" ){\r\n\r\n\t\t\t\t\tif(this.rootLink.state[key5] == undefined && this.rootLink.description[key5] != undefined)this.rootLink.arrayInit(objIs, this.rootLink.description, key5);\r\n\t\t\t\t\tif(this.rootLink.state[key5] == undefined && this.rootLink.description[key5] == undefined && this.rootLink.description.fetchComponents != undefined && this.rootLink.description.fetchComponents[key5] != undefined)this.rootLink.arrayInit(objIs, this.rootLink.description.fetchComponents, key5);\r\n\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t                this.renderChild.renderParent = this;\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif(objToFind[key5] == \"container\" ){\r\n\r\n\t\t\t\t\t\tif(this.rootLink.description[key5] != undefined &&  this.rootLink.state[key5] == undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.containerInit(objIs, this.rootLink.description, key5);\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.rootLink.state[key5] != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild.renderParent = this;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (this.rootLink.description[key5] != undefined &&  this.rootLink.state[key5] != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild.renderParent = this;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (this.rootLink.description[key5] == undefined &&  this.rootLink.state[key5] == undefined && this.rootLink.description.fetchComponents != undefined && this.rootLink.description.fetchComponents[key5] != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.containerInit(objIs, this.rootLink.description.fetchComponents, key5);\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild.renderParent = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar nameVirtualArray = null;\r\n\t\t\t\t\t\t\t                             var  nameContainer = null;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor(var key4 in this.rootLink.description.virtualArrayComponents){\r\n\r\n\t\t\t\t\t\t\t  \t\t\t\t\t\t\t  if(this.rootLink.description.virtualArrayComponents[key4].container == [key5] ){\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t\t  nameVirtualArray = key4;\r\n\t\t\t\t\t\t\t\t  nameContainer = key5;\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(nameVirtualArray == null || nameContainer == null){\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"error- компонента \"+key5+\"  не найдено  убедитесь в коректности названия ключей после data\");\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(nameVirtualArray != null && this.rootLink.state[nameVirtualArray] ==  undefined){\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tvar selector = undefined;\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\tif(this.rootLink.description.virtualArrayComponents[nameVirtualArray].selector != undefined) selector = this.rootLink.description.virtualArrayComponents[nameVirtualArray].selector;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray] = new HTMLixArray(\"virtual-array\", objIs, this.rootLink, nameVirtualArray, selector);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(nameVirtualArray != null && nameContainer != null){\r\n\t\t\t\t\t\t\t\t\t\tvar container = new Container(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobjIs, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnameContainer, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.description.virtualArrayComponents[nameVirtualArray].props, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.description.virtualArrayComponents[nameVirtualArray].methods, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray].data.length , \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnameVirtualArray, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t//container.renderType = \"container-inner\";\r\n\t\t\t\t\t\t\t\t\t\t\tcontainer.renderParent = this;\r\n\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray].data.push( container );\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tthis.renderChild =  container;\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t\t}\t\r\n\r\n\t}","function HTMLixState(StateMap){\r\n\t\r\n\tvar _templateVarDOM = false;\r\n\t\t\r\n\tthis.description = StateMap;\r\n\tthis.state = {};\r\n\tthis.eventProps = {};\r\n\tthis.stateMethods = {};\r\n\tthis.stateProperties = {};\r\n\r\n\tif(StateMap.eventEmiters != undefined){\r\n\t\t  for (var key in StateMap.eventEmiters){ \r\n             if(StateMap.eventEmiters[key].behavior != undefined){\t\t\t\t \r\n\t\t\t\t this.eventProps[key] = new EventEmiter(key, StateMap.eventEmiters[key].prop, {}, {}, StateMap.eventEmiters[key].behavior, this);\t\t\t\t \r\n\t\t\t }else{\t\t\t\t \r\n\t\t\t\t this.eventProps[key] = new EventEmiter(key, StateMap.eventEmiters[key].prop, {}, {} );\t\t\t\t \r\n\t\t\t } \t\t    \r\n\t\t }\r\n\t}\r\n    if(StateMap.stateSettings != undefined){\t\t\r\n\t\tthis.stateSettings = StateMap.stateSettings;\t\t\r\n\t}\t\r\n\tfor (var key in StateMap){\r\n\t\r\n\t\tif(key == \"stateMethods\"){ \r\n\t\t\r\n\t\t\tthis.stateMethods = StateMap[key];\r\n\t\t\t\r\n\t\t\tfor(var key56 in this.stateMethods){\r\n\t\t\t\t\r\n                var context256 = this;\r\n\t\t\t\t\r\n\t\t\t\tthis.stateMethods[key56] = function(){ \r\n\t\t\t\t\r\n\t\t\t\t    var fn = StateMap[key][key56];\t\t\t\r\n\t\t\t\t    \t\t\t\t\t\t\t     \r\n\t\t\t\t    return function(){\t\r\n\r\n                    if(this.rootLink == undefined  && this.description == undefined && this.state == undefined && this.htmlLink == undefined ){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn fn.apply(context256, arguments); \t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\treturn fn.apply(this, arguments); \t\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t   }()\r\n\t\t\t}\t\t\t\r\n\t\t\tcontinue;\r\n\t\t}\t\t\r\n\t\tif(key == 'stateProperties'){\r\n\r\n\t\t\tthis.stateProperties = StateMap[key];\r\n\t\t\tcontinue;\t\t\t\t\r\n\t\t}\t\t\r\n\t\tif(key == 'eventEmiters' || key ==  'virtualArrayComponents' || key == \"stateSettings\"){\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t}\r\n\t\tif(key == \"fetchComponents\"){\r\n\r\n\t\t\t  var context = this;\r\n\t\t\t  var StateMap1 = StateMap.fetchComponents;\r\n\t\t\t \r\n\t\t\t  if(StateMap.stateSettings == undefined)StateMap.stateSettings = {};\r\n              if (StateMap.stateSettings.templatePath == undefined) StateMap.stateSettings.templatePath = \"/template/template.html\";\r\n                \t\t\t \r\n\r\n\t\t\tthis.fetchTemplates(function(divEl){\r\n\t\t\t\tfor(var key10 in StateMap1){\r\n\r\n\r\n\t\t\t\t\t\tvar node = divEl.querySelector('[data-'+key10+']');\r\n\r\n\t\t\t\t\t\tif(node == undefined){\r\n\r\n\t\t\t\t\t\t\tconsole.log(\"Error - в Html коде нет атрибута data-\"+key10+\" для компонента из объекта fetchComponents\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar type = node.dataset[key10];\r\n\r\n\r\n\t\t\t\t\t\tif(type==\"array\"){\r\n\r\n\t\t\t\t\t\t\t\t\tcontext.arrayInit(node, StateMap1, key10);\r\n\r\n\t\t\t\t\t\t}else if(type==\"container\"){\r\n\r\n\t\t\t\t\t\tcontext.containerInit(node, StateMap1, key10);\r\n\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log(\"erorr - неправильно указан тип для контейнера либо массива \"+key+\" для компонента из объекта fetchComponents\");\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\tcontext.verifyFetchComponents(divEl);\r\n\r\n\t\t\t\t\t\t\t},  StateMap.stateSettings.templatePath);\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t}\r\n\t\tinitStandartComponents(this, StateMap, key);\r\n\t\t\t\t\t\r\n\t}\r\n\tif(this.stateSettings != undefined && this.stateSettings.templateVar != undefined){\r\n\t\t\t\r\n\t\tcreateFromVarTemplate(this);\r\n\t\t\r\n\t\tthis.verifiTemplateVarComponents(_templateVarDOM);\t\t\t\t\t\r\n\t}\r\n\tfunction initStandartComponents(context, StateMap, key){\r\n\r\n\t\t\t\tvar node = document.querySelector('[data-'+key+']');\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t     if(node == null || node == undefined){\r\n\t\t\t\t\t\t \t\t\t\t\t\t \r\n\t\t\t\t\t\t if(context.stateSettings != undefined && context.stateSettings.templateVar != undefined){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t    createFromVarTemplate(context);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tnode = _templateVarDOM.querySelector('[data-'+key+']'); \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t }\r\n\t\t\t\tif(node == undefined || node == null){\r\n\r\n\t\t\t\t\t\tconsole.log(\"Error - в Html коде нет атрибута data-\"+key+\" проверьте корректность названия ключей в html\");\r\n\t\t\t\t}\r\n\t\t\t\tvar type = node.dataset[key];\t\t\r\n\t\t\t\tif(type==\"array\"){\r\n\r\n\t\t\t\t\tcontext.arrayInit(node, StateMap, key);\t\t\t\r\n\r\n\t\t\t\t}else if(type==\"container\"){\r\n\r\n\t\t\t\t\tcontext.containerInit(node, StateMap, key);\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(\"erorr - неправильно указан тип для контейнера либо массива \"+key);\r\n\t\t\t\t}\t\r\n\t    }\r\n\t\tfunction createFromVarTemplate(context){\r\n\t\t\t\r\n\t\t\tif(_templateVarDOM == false){\r\n\t\t\t\t_templateVarDOM = document.createElement('div'); \r\n\t\t\t\t_templateVarDOM.innerHTML = context.stateSettings.templateVar;\r\n\t\t\t}\t\t\t\t\r\n\t\t}\t\r\n}\r\n//создает контейнер - компонент (renderType = \"container-outer\")\r\nHTMLixState.prototype.containerInit = function(node, StateMap, key){\r\n\r\n\tif(this.state[key] != undefined)return;\r\n\tif(node == null)node = document.querySelector('[data-'+key+']');\r\n    if(node == null || node == undefined)console.log(\"error в html разметке не найден контейнер \"+key);\t\r\n\tif(StateMap[key]== undefined)console.log(\"error- проверьте корректность parent ключей в html - коде\");\r\n\tthis.state[key] = new Container(node, key,  StateMap[key].props, StateMap[key].methods, null, key, this);\r\n\r\n}\r\n//создает компонент - обычный массив (renderType=\"array\")\r\nHTMLixState.prototype.arrayInit = function(node, StateMap, key){\r\n\r\n\t       \tif(this.state[key] != undefined)return;\r\n\t\t\tif(node == null)node = document.querySelector('[data-'+key+']');\r\n            if(node == null || node == undefined)console.log(\"error в html разметке не найден массив \"+key);\t\r\n\t\t\t\r\n\t\t    var lengthChildren = node.children.length; \r\n\t\t\tif(StateMap[key].container == undefined)console.log(\"error- забыли указать контейнер для массива \" +key);\r\n\t\t\tvar containerHTML = node.querySelectorAll('[data-'+StateMap[key].container+']');\r\n\t\t\t\r\n\t\t\tvar array_selector = undefined;\r\n\t\t\t\r\n\t\t\tif(StateMap[key].selector != undefined) array_selector = StateMap[key].selector;\r\n\r\n\t\t    if(containerHTML.length == 0)console.log(\"error - в html коде нет атрибута data-\"+StateMap[key].container+\" либо не создан шаблон для массива \"+key);\r\n\t\t\tthis.state[key] = new HTMLixArray(node, containerHTML[0], this, key, array_selector);\r\n\t\t\t\r\n\t\t\tif(StateMap[key][\"arrayProps\"] !=undefined ){\r\n\r\n\t\t\t\t\t\t\t\tthis.state[key][\"props\"] = {};\r\n\r\n\t\t\t\t\t\t\t\tfor (var t=0; t < StateMap[key][\"arrayProps\"].length; t++){\r\n\r\n\r\n\t\t\t\t\t\tif(typeof StateMap[key][\"arrayProps\"][t] == \"string\"){\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar htmlLink = this.state[key].htmlLink.querySelectorAll('[data-'+key+'-'+StateMap[key][\"arrayProps\"][t]+']')[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(htmlLink == undefined)htmlLink  = this.state[key].htmlLink;\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state[key][\"props\"][ StateMap[key][\"arrayProps\"][t] ] \t= constructorProps( htmlLink, key, StateMap[key][\"arrayProps\"][t], StateMap[key][\"arrayMethods\"][ StateMap[key][\"arrayProps\"][t] ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state[key],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\t\t\t\t\t\r\n\r\n\r\n\r\n\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t\tvar string =  StateMap[key][\"arrayProps\"][t][0];\r\n\r\n\t\t\t\t \t\t\tvar selector = StateMap[key][\"arrayProps\"][t][2];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar type = StateMap[key][\"arrayProps\"][t][1];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(type == \"aux\"){\r\n\t\t\t\t\t\t\t\t\r\n                                  \t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t if(StateMap[key][\"arrayMethods\"][  string ] == undefined)console.log(\"error название свойства массива \"+key+\" - \"+string+\" не совпадает с названием метода\");\r\n\t\t\t\t\t\t\t\t\t if(this.state[key].methods == undefined)this.state[key].methods = {};\r\n\t\t\t\t\t\t\t\t\t this.state[key].methods[string] = StateMap[key][\"arrayMethods\"][  string ].bind( this.state[key]);\r\n\t\t\t\t\t\t\t\t\t continue;\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t}else if(type == \"extend\"){\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t var isTrue = this.propExtend(StateMap[key][\"arrayProps\"][t][2], StateMap[key][\"arrayProps\"][t][3], StateMap[key][\"arrayProps\"], StateMap[key][\"arrayMethods\"], StateMap[key][\"arrayProps\"][t][0], t);\r\n\t\t\t\t\t\t\t\t\t if(isTrue == false)continue;\r\n\t\t\t\t\t\t\t\t\t t--;\r\n\t\t\t\t\t\t\t\t\t continue;\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar htmlLinkToProp  = this.state[key].htmlLink;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selector != \"\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlLinkToProp = this.state[key].htmlLink.querySelector(selector);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(htmlLinkToProp == undefined)console.log(\"error не возможно найти селектор для свойства \"+selector+\" массива \"+key+\" проверьте правильность селектора\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t \r\n\t\t\t\t\t\t\tthis.state[key][\"props\"][ string ] = constructorProps(htmlLinkToProp, key,\tStateMap[key][\"arrayProps\"][t], \r\n\t\t\t\t\t\t\t                                                        StateMap[key][\"arrayMethods\"][  string ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state[key],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar i = 0;\r\n\t\t\tif(containerHTML[0].dataset[StateMap[key].container] == \"template\"){\r\n\t\t\t\t                 \r\n\t\t\t\t\t\t\t\t containerHTML[0].dataset[StateMap[key].container] = \"container\";\r\n\r\n\t\t\t\t\t\t\t\tcontainerHTML[0].setAttribute('style', \"\");\r\n\r\n\t\t\t\t\t\t\t\tthis.state[key].templateData = containerHTML[0].cloneNode(true);\r\n\r\n\t\t\t\t\t\t\t\tcontainerHTML[0].remove();\r\n\r\n\t\t\t\tif (containerHTML.length == 1 )return;\r\n\t\t\t\ti = 1;\r\n\r\n\t\t\t}\t\t\r\n\t\t\t\r\n\t\t\tfor( var j=0, i; i < containerHTML.length; j++, i++){\r\n\r\n\t\t\t\t\t\tif(containerHTML[i].dataset[StateMap[key].container] != \"container\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"erorr - неправильно указан тип для контейнера \"+StateMap[key].container+\" index - \"+i+ \" массива \"+key);\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t\tvar container23 = new Container(containerHTML[i], StateMap[key].container,  StateMap[key].props, StateMap[key].methods, j, key, this);\r\n\t\t\t\t\t\t// container23.renderType = \"container-inner\";\r\n\t\t\t\t\t\tthis.state[key].data[j] = container23 ;\r\n\r\n            }\r\n\t\t\tif(this.state[key].data.length < lengthChildren ){\r\n\r\n\t\t\t\tconsole.log(\"warn - контейнеров в массиве \"+key+\" создано меньше чем обьявлено в html, проверьте корректность написания всех ключей в html коде либо удалите лишние элементы не соответствующие контейнеру - \"+StateMap[key].container);\t\r\n\t\t\t}\r\n            if(this.state[key].data.length > lengthChildren){\r\n\r\n\t\t\t\tconsole.log(\"warn - контейнеров \"+StateMap[key].container+\" в массиве \"+key+\" создано больше чем обьявлено в html, проверьте что контейнеры распологаются в массиве непосредственно, старайтесь избегать создания порежуточных тегов\");\r\n\t\t   }\t\r\n}\r\n//проверяет что созданы все виртуальные массивы при дозагрузке компонентов в fetchTemplates а также вызывает метод - событие onLoadAll\r\nHTMLixState.prototype.verifyFetchComponents = function(divEl){\r\n\t\r\n\tif( this.verifiTemplateVarComponents(divEl) ){\r\n\r\n       \t\tif(this.stateMethods != undefined && this.stateMethods.onLoadAll != undefined)this.stateMethods.onLoadAll/*.bind(this)*/();\r\n\t}\r\n}\r\n//проверяет что созданы все виртуальные массивы после создания всех компонентов с опцией templateVar\r\nHTMLixState.prototype.verifiTemplateVarComponents = function(divEl){\r\n\t\r\n\tif(this.description.virtualArrayComponents != undefined){\r\n\t\t\r\n\t\tfor(var key in this.description.virtualArrayComponents){\r\n\t\t\t\r\n\t\t\tif(this.state[ key ] == undefined){\r\n\t\t\t\t\r\n\t\t\t\tvar containerHTML = divEl.querySelector('[data-'+this.description.virtualArrayComponents[key].container+']');\r\n\r\n\t\t\t      if(containerHTML == null ){\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  console.log(\"Error в догружаемом шаблоне  не найдено компонента \"+key+\" - виртуального массива,  проверьте его наличие и правильность ключей в шаблоне\");\r\n\t\t\t\t\t  return false;\r\n\t\t\t\t\t  \r\n\t\t\t\t  }\r\n\t\t\t\t  this.state[ key ] = new HTMLixArray(\"virtual-array\", containerHTML, this, key, undefined);\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\treturn true;\r\n}\r\n//удаляет обработчики событий со свойств - слушателей событий, а также дочерние контейнеры со свойств с типами group group-mix и render-variant\r\nHTMLixState.prototype.clearContainerProps = function(stateNameProp, index, widthChild){\r\n\t\r\n\t                var container = this.state[stateNameProp].data[index];\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (key in  container.props){\r\n\r\n\t\t\t\t\t\t\tif(container.props[key].emiterKey != undefined){\r\n\t\t\t\t\t\t\tthis.eventProps[container.props[key].type].removeListener(container.props[key].htmlLink);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(container.props[key].events != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor(key1 in container.props[key].events){\r\n\t\t\t\t\t\t\tcontainer.props[key].htmlLink.removeEventListener(key1, container.props[key].events[key1]);\t\t\r\n\t\t\t\t\t\t\tdelete container.props[key].events[key1]\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(widthChild != undefined && widthChild == true && container.props[key].renderChild  != undefined && container.props[key].renderChild.renderType == \"container-inner\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontainer.props[key].renderChild.remove(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(widthChild != undefined && widthChild == true && container.props[key].groupChild != undefined && container.props[key].groupChild.length > 0){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcontainer.props[key].clearGroup();\r\n\t\t\t\t}\r\n\t\t\t}\r\n}\r\n///метод ля отсеивания повторяющихся полей какого либо массива\t\r\nHTMLixState.prototype.getDifrentFilds = function(array, fild){\r\n\t\r\n\tvar newArr = [];\r\n\tfor(var i=0; i<array.length; i++){   \r\n\t\t\t\r\n\t\t\tvar compareItem = array[i];\r\n\t\t\tif(fild){\r\n\t\t\t\tcompareItem = array[i][fild];\r\n\t\t\t\tif(typeof compareItem == \"object\")compareItem = JSON.stringify(array[i][fild]);\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(typeof array[i] == \"object\")compareItem = JSON.stringify(array[i]);\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\tvar isPersist = false;\r\n\t\t\tnewArr.forEach(newItem=>{    \r\n\t\t\t\t\tvar compareItem_2 = newItem;\r\n\t\t\t\t\tif(fild){\r\n\t\t\t\t\t\t\tcompareItem_2 = newItem[fild];\r\n\t\t\t\t\t\t\tif(typeof compareItem_2 == \"object\")compareItem_2 = JSON.stringify(newItem[fild]);\r\n\t\t\t\t\t}else{\t\t\r\n\t\t\t\t\t\tif(typeof newItem == \"object\")compareItem_2 = JSON.stringify(newItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(compareItem_2 == compareItem)isPersist = true;\r\n\t\t\t});\r\n\t\t\tif(!isPersist){\r\n\t\t\t\t\r\n\t\t\t\tnewArr.push(array[i]);\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t}\r\n\treturn newArr;\t\r\n}\r\n//загрузка шаблонов для fetchTemplate option\r\nHTMLixState.prototype.fetchTemplates = function(callb, templatePath){\r\n\t\r\n\t\tif(templatePath == undefined)console.log(\"error не указана дериктория для поиска шаблона в настройках .stateSettings.templatePath\");\r\n\r\n\t\t\t\t\t\t\t\tfetch(templatePath)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tif(response.ok) {\r\n\t\t\t\t\t\t\treturn response.text();\r\n\t\t\t\t\t\t}\t\r\n            \t\t\t\t\t\tthrow new Error('Network response was not ok');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((text) => {\r\n\r\n\t\t\t\t\t\tvar div = document.createElement('div');\r\n\t\t\t\t\t\tdiv.innerHTML = text;\r\n\t\t\t\t\t\tcallb(div);\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\r\n}\r\nHTMLixState.prototype.capitalizeFirstLetter = function(string){\r\n\r\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\r\n\r\n\t}\r\n//наследование свойств контейнера\t\r\nHTMLixState.prototype.containerExtend =  function(parentContainerName, props, methods){\r\n\t  \r\n\t          ///описание наследуемого компонента\t\t   \r\n\t\t  var parCont = this.description[parentContainerName];\r\n\t\t   if(parCont == undefined &&  this.description.virtualArrayComponents != undefined){\r\n\t\t\t   \r\n\t\t\t   parCont = this.description.virtualArrayComponents[parentContainerName];\r\n\t\t\t   \r\n\t\t   }if(parCont == undefined &&  this.description.fetchComponents != undefined){\r\n\t\t\t   \r\n\t\t\t   parCont = this.description.fetchComponents[parentContainerName];\r\n\t\t   }\r\n\t\t   if(parCont == undefined)console.log(\"error неправильно указано имя наследуемого компонента в container_extend\");\r\n\t\t   \t\t \r\n\t\t   var shareProps = parCont.props;\r\n\t\t\t\t\r\n\t\t  if(parCont.share_props != undefined){\r\n\t\t\t  \t\t  \r\n\t\t\t  shareProps = shareProps.slice(0, parCont.share_props);\r\n\t\t  }\r\n\t\t  for(var u =0; u < shareProps.length; u++){\r\n\t\t\t  \r\n\t\t\t  var keyProp = shareProps[u];\r\n\t\t\t  if(typeof keyProp == \"object\")keyProp = shareProps[u][0];\r\n\t\t\t  \r\n\t\t\t  var isPersist = false;\r\n\t\t\t  \r\n\t\t\t  props.forEach((prop)=>{ \t\t\t  \r\n\t\t\t             var findProp = prop;\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(typeof findProp == \"object\")findProp = prop[0];\r\n\t\t\t\t\t\tif(findProp == keyProp)isPersist = true;                      \t\t\t\t\t\r\n\t\t\t  });\r\n\t\t\t  if(isPersist)continue\r\n\t\t\t  \r\n\t\t\t  props.unshift(shareProps[u]);\r\n\t\t\t  \t\t\t  \r\n\t\t\t  if(parCont.methods[keyProp] != undefined){\t\t\t\r\n\t\t\t\t  \r\n\t\t\t\t\tmethods[keyProp] = parCont.methods[keyProp]; \r\n\t\t\t\t\t\t\r\n\t\t\t  }\r\n\t\t  }\t\t     \r\n  }\r\n  //наследование отдельных свойств\r\n  HTMLixState.prototype.propExtend =  function(parentContainerName, propsOrArrayProps, props, methods, propName, index){\r\n\t  \r\n\t  \t   ///описание наследуемого компонента\t\t   \r\n\t\t  var parCont = this.description[parentContainerName];\r\n\t\t   if(parCont == undefined &&  this.description.virtualArrayComponents != undefined){\r\n\t\t\t   \r\n\t\t\t   parCont = this.description.virtualArrayComponents[parentContainerName];\r\n\t\t\t   \r\n\t\t   }\r\n\t\t   if(parCont == undefined &&  this.description.fetchComponents != undefined){\r\n\t\t\t   \r\n\t\t\t   parCont = this.description.fetchComponents[parentContainerName];\r\n\t\t   }\r\n\t\t   if(parCont == undefined)console.log(\"error неправильно указано имя  наследуемого компонента в prop_extend\");\r\n\t\t   \t\t \r\n\t\t   var shareProps = parCont[propsOrArrayProps];\r\n\t\t   \r\n\t\t   var isExtend = false;\r\n\t       \r\n\t\t   for(var u =0; u < shareProps.length; u++){ \r\n\t\t   \r\n\t\t   \t\t\t  var keyProp = shareProps[u];\r\n\t\t\t\t\tif(typeof keyProp == \"object\")keyProp = shareProps[u][0];\r\n\t\t           \r\n\t\t\t\t   if(keyProp == propName){\r\n\t\t\t\t\t   \r\n\t\t\t\t\t   isExtend = true;\r\n\t\t\t\t\t   \r\n\t\t\t\t\t    props[index] = shareProps[u];\r\n\t\t\t\t\t   \r\n\t\t\t\t\t   if(propsOrArrayProps == \"props\" && parCont.methods[keyProp] != undefined){\r\n\t\t\t\t\t\t   \r\n\t\t\t\t\t\t   methods[keyProp] = parCont.methods[keyProp];\r\n\t\t\t\t\t\t   \r\n\t\t\t\t\t   }else if(propsOrArrayProps == \"arrayProps\" && parCont.arrayMethods[keyProp] != undefined){\r\n\t\t\t\t\t\t   \r\n\t\t\t\t\t\t   methods[keyProp] = parCont.arrayMethods[keyProp];\r\n\t\t\t\t\t   }\r\n\t\t\t\t   }\r\n\t\t\t\t   \r\n                   \t\t\t\t   \r\n\t\t   }  \r\n\t\t   if(!isExtend){\r\n\t\t\t   \r\n\t\t\t   console.log(\"error свойства \"+propName+\" в компоненте \"+parentContainerName+\" не найдено\");\r\n\t\t\t   return false;\r\n\t\t   }\r\n  }\r\n  \r\n HTMLixState.prototype.isEvent = function(type){\r\n\r\n\t\tvar isEv = false;\r\n\r\n\tswitch(type){\r\n\r\n\t\t\t\tcase'click':\r\n\t\tisEv = 'click';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'keydown':\r\n\t\tisEv = 'keydown';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'dblclick':\r\n\t\tisEv = 'dblclick';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'contextmenu':\r\n\t\tisEv = 'contextmenu';\r\n\t\tbreak;\t\r\n\r\n\t\tcase'selectstart':\r\n\t\tisEv = 'selectstart';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'mousewheel':\r\n\t\tisEv = 'mousewheel';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'mousemove':\r\n\t\tisEv = 'mousemove';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'mouseout':\r\n\t\tisEv = 'mouseout';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'mouseover':\r\n\t\tisEv = 'mouseover';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'mouseup':\r\n\t\tisEv = 'mouseup';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'mousedown':\r\n\t\tisEv = 'mousedown';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'keypress':\r\n\t\tisEv = 'keypress';\r\n\t\tbreak;\t\r\n\r\n\t\tcase'keyup':\r\n\t\tisEv = 'keyup';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'focus':\r\n\t\tisEv = 'focus';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'blur':\r\n\t\tisEv = 'blur';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'change':\r\n\t\tisEv = 'change';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase 'reset':\r\n\t\tisEv = 'reset';\r\n\t\tbreak;\t\r\n\r\n\t\tcase'select':\r\n\t\tisEv = 'select';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'submit':\r\n\t\tisEv = 'submit';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase 'abort':\r\n\t\tisEv = 'abort';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'change':\r\n\t\tisEv = 'change';\r\n\t\tbreak;\t\t\t\r\n\t}\r\n\r\n\treturn isEv;\r\n}\r\n\r\nHTMLixState.prototype.isEmiter = function(emiterName){\r\n\r\n\tvar isEmiter = false;\r\n\r\n    for(var key123 in this.eventProps){\t\t\r\n\t\tif(key123 == emiterName){\r\n\t\t\tisEmiter = key123;\r\n\t\t}\r\n\t}\r\n\t\t\treturn  isEmiter;\r\n}\r\nHTMLixState.prototype.$$ = function(emiterName){\r\n\t\r\n\treturn this.eventProps[emiterName];\r\n}\r\n"]}