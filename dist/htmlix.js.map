{"version":3,"sources":["htmlix-array.js","htmlix-container.js","htmlix-emiter-and-router.js","htmlix-prop-common.js","htmlix-PropGroup.js","htmlix-PropGroupMix.js","htmlix-PropStandartEvent-and-PropEventEmiter.js","htmlix-PropVariant.js","htmlix-state.js"],"names":["HTMLixArray","node","containerHTML","rootLink","pathToComponent","selector","htmlLink","data","type","templateData","cloneNode","index","renderType","thisArrDesc","description","virtualArrayComponents","parentContainerName","container_extend","undefined","fetchComponents","parCont","console","log","shareProps","props","share_props","slice","u","length","keyProp","isPersist","forEach","prop","findProp","push","methods","prototype","add","insertLocation","container","addContainer","removeIndex","indexArray","widthChild","removeByIndexes","removeAll","reuseAll","arrayWithObjects","newArrLength","oldArrLength","remove","i","setAllProps","key","t","f","getAll","map_Object","array_r","getAllProps","order","newOrderArr","changeOrder","Container","containerName","pathToContainer","isRunonCreatedContainer","newProps","pathToCоmponent","name","thisCont","i2","htmlLinkToProp","querySelector","constructorProps","string","onCreatedContainer","bind","groupId","groupParent","removeFromGroup","renderParent","renderChild","properties","setProp","properties_r","getProp","component","state","HTMLixRouter","routes","namePathInRoutes","findComponent","urlPath","window","location","pathname","pathArray","split","isCountSerchСoincide","pathArrayFind","word","paramWord","pop","word2","searchInword","searchInwordCount","isParam","y","count","search","templatePath","stateSettings","key2","toCare","first","stateWithRoutes","HTMLixState","routerObj","matchRout","countError","findRouters","nameArrComp","routComponent","messPart","document","keyRouter","setHtml","innerHTML","appendChild","setRout","url","newComponent","history","pushState","router","EventEmiter","eventName","listeners","listenersEventMethods","behavior","event","Event","addListener","htmlLinkToListener","eventMethod","nameListener","addEventListener","removeListener","removeEventListener","emit","isEmit","dispatchEvent","setEventProp","getEventProp","keyData1","keyData2","parentContainer","propType","PropCommon","dataset","capitalizeFirstLetter","mess","PropVariant","PropGroup","PropGroupMix","isEmiter","PropEventEmiter","isEvent","PropStandartEvent","parentComponent","propName","parent","PropSubtype","removeAllChild","children","p","value","textContent","checked","Array","isArray","classLength","classList","k","isAttr","setAttribute","clasArr","getAttribute","removeProp","removeAttribute","emiterName","rootLink_p","key123","eventProps","isEv","call","groupChild","groupArray","componentName","initGroup","Object","create","defineProperty","enumerable","writable","group","obj_r","reuseGroup","createNewGroup","createInGroup","clearGroup","groupID","splice","indexes","getGroupsArray","h","groupArray_r","addToGroup","groupArr","loc","insertBefore","newData","groupItems","countItems","objToFind","nameVirtualArray","nameContainer","key5","key57","item","vArr","emiterKey","emiter","Math","floor","random","disableEvent","enableEvent","events","emitEvent","initRenderVariant","return_obg","render","renderByContainer","setOrCreateAndRender","isRemove","nameComponent","containerLink","objWidthProps","objIs","firstElementChild","arrayInit","containerInit","key4","StateMap","stateMethods","stateProperties","eventEmiters","context","StateMap1","fetchTemplates","divEl","key10","verifyFetchComponents","initStandartComponents","lengthChildren","querySelectorAll","array_selector","j","container23","onLoadAll","stateNameProp","stateArray","isNaN","Link","desc","clearContainerProps","removeByIndex","r","filter","some","numb","key1","getDifrentFilds","array","fild","newArr","compareItem","JSON","stringify","newItem","compareItem_2","callb","fetch","then","response","ok","text","Error","div","createElement","error","charAt","toUpperCase"],"mappings":"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","file":"htmlix.js","sourcesContent":["function HTMLixArray(node, containerHTML, rootLink, pathToComponent, selector){\r\n\r\n\r\n\t\t    this.htmlLink = node, \r\n\t\t\tthis.data = [],\r\n\t\t\tthis.rootLink = rootLink,\r\n\t\t\tthis.pathToComponent = pathToComponent,\r\n\t\t\tthis.type = \"array\",\r\n\t\t\tthis.templateData = containerHTML.cloneNode(true),\r\n\t\t\t/*this.id = null, */\r\n\t\t\tthis.index = null,\r\n\t\t\tthis.renderType = \"array\",\r\n\t\t\tthis.selector = selector\r\n\t\t\t\r\n\t\t\tif(node == \"virtual-array\")this.renderType = \"virtual-array\";\r\n\t\t\t\r\n  ///container_extend\r\n \r\n\tif(this.renderType == \"virtual-array\"){\r\n\t\t var thisArrDesc = this.rootLink.description.virtualArrayComponents[this.pathToComponent];\r\n\t\t var parentContainerName = thisArrDesc.container_extend;\r\n\t}else{\r\n\t\tvar thisArrDesc = this.rootLink.description[this.pathToComponent];\r\n\t\tif(thisArrDesc == undefined)thisArrDesc = this.rootLink.description.fetchComponents[this.pathToComponent];\r\n\t\tvar parentContainerName = thisArrDesc.container_extend;\r\n\t}\r\n\t\t  \r\n\t  if(parentContainerName != undefined){\r\n           \r\n          ///описание наследуемого компонента\t\t   \r\n\t\t  var parCont = this.rootLink.description[parentContainerName];\r\n\t\t   if(parCont == undefined &&  this.rootLink.description.virtualArrayComponents != undefined){\r\n\t\t\t   \r\n\t\t\t   parCont = this.rootLink.description.virtualArrayComponents[parentContainerName];\r\n\t\t\t   \r\n\t\t   }else if(parCont == undefined &&  this.rootLink.description.fetchComponents != undefined){\r\n\t\t\t   \r\n\t\t\t   parCont = this.rootLink.description.fetchComponents[parentContainerName];\r\n\t\t   }\r\n\t\t   if(parCont == undefined)console.log(\"error неправильно указано имя компонента наследуемого контейнера в container_extend\");\r\n\t\t\t \r\n\t\t   var shareProps = parCont.props;\r\n\t\t\r\n\t\t\r\n\t\t  if(parCont.share_props != undefined){\r\n\t\t\t  \t\t  \r\n\t\t\t  shareProps = shareProps.slice(0, parCont.share_props);\r\n\t\t  }\r\n\t\t  for(var u =0; u < shareProps.length; u++){\r\n\t\t\t  \r\n\t\t\t  var keyProp = shareProps[u];\r\n\t\t\t  if(typeof keyProp == \"object\")keyProp = shareProps[u][0];\r\n\t\t\t  \r\n\t\t\t  var isPersist = false;\r\n\t\t\t  \r\n\t\t\t  thisArrDesc.props.forEach((prop)=>{ \t\t\t  \r\n\t\t\t             var findProp = prop;\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(typeof findProp == \"object\")findProp = findProp[0];\r\n\t\t\t\t\t\tif(findProp == keyProp)isPersist = true;\t\t\t\t\t\t\r\n\t\t\t  });\r\n\t\t\t  \r\n\t\t\t  if(isPersist)continue\r\n\t\t\t  \r\n\t\t\t  thisArrDesc.props.push(shareProps[u]);\r\n\t\t\t  \r\n\t\t\t  if(parCont.methods[keyProp] != undefined){\r\n\t\t\t\t  \r\n\t\t\t\t thisArrDesc.methods[keyProp] = parCont.methods[keyProp];\r\n\t\t\t  }\r\n\t\t  }\t\t  \r\n\t\t  //thisArrDesc.props = shareProps.concat(thisArrDesc.props);\r\n\t  }\r\n}\r\nHTMLixArray.prototype.add = function(props, insertLocation){\r\n\t\t\r\n\t\tvar container = this.rootLink.addContainer(this.pathToComponent, props, insertLocation);\r\n\t\treturn  container;\r\n\r\n\t}\r\n\r\nHTMLixArray.prototype.removeIndex = function(indexArray, widthChild){\r\n\r\n\t\tif(typeof indexArray != \"object\")indexArray = [indexArray];\r\n\r\n\t\tthis.rootLink.removeByIndexes(this.pathToComponent, indexArray, widthChild)\r\n\r\n\t}\r\n\r\nHTMLixArray.prototype.removeAll = function( widthChild){\r\n\r\n\t\tthis.rootLink.removeAll(this.pathToComponent, widthChild)\r\n\r\n\t}\r\n\t\r\nHTMLixArray.prototype.reuseAll = function(arrayWithObjects){\r\n\t\r\n\tvar newArrLength = arrayWithObjects.length;\r\n\tvar oldArrLength = this.data.length;\r\n\t\r\n\tvar add = 0;\r\n\tvar remove =0;\r\n\t\r\n\tif(newArrLength > oldArrLength) add = newArrLength - oldArrLength;\r\n\tif(newArrLength < oldArrLength) remove =  oldArrLength - newArrLength;\r\n\t\r\n\tfor(var i=0; i<this.data.length; i++){\r\n\t\t\r\n\t\tthis.data[i].setAllProps(arrayWithObjects[i]);\r\n\t\t\r\n\t\t\tfor(var key in this.data[i].props){\r\n\t\t\t\r\n\t\t\tif(this.data[i].props[key].prop != undefined)this.data[i].props[key].prop = null;\r\n\t\t\t\r\n\t\t}\t\r\n\t}\r\n\tif(add > 0){\r\n\t\tfor (var t=0; t<add; t++){\r\n\t\t\t\r\n\t\t\tthis.add(arrayWithObjects[oldArrLength + t]);\r\n\t\t}\t\r\n\t}\r\n    if(remove > 0){\r\n\t\tfor (var f=0; f<remove; f++){\r\n\t\t\t\r\n\t\t\tthis.removeIndex([this.data.length - 1], true);\r\n\t\t}\t\r\n\t}\t\r\n}\r\nHTMLixArray.prototype.getAll = function(map_Object){\r\n\t\t\r\n\t\tvar array_r = [];\t\t\r\n\t\t\r\n     if(map_Object != undefined){\r\n\t\t \r\n\t\t for (var f=0; f<this.data.length; f++){\r\n\t\t\t\r\n\t\t\tarray_r.push(  this.data[f].getAllProps(map_Object) );\r\n\t\t}\r\n\t\t \r\n\t }else{\r\n\t\t \r\n\t\t for (var f=0; f<this.data.length; f++){\r\n\t\t\t\r\n\t\t\tarray_r.push(  this.data[f].getAllProps() );\r\n\t\t}\r\n\t\t \r\n\t }\t\r\n\r\n\t\treturn array_r;\r\n}\r\n\r\nHTMLixArray.prototype.order = function(newOrderArr){\r\n\t\r\n\t\r\n\tthis.rootLink.changeOrder(this.pathToComponent, newOrderArr);\r\n\t\r\n}\r\n","function Container(htmlLink, containerName,  props, methods, index, pathToContainer, rootLink, isRunonCreatedContainer, newProps) {\r\n  this.htmlLink = htmlLink;\r\n  this.rootLink = rootLink;\r\n  this.props = {};\r\n  this.index = index; \r\n  this.pathToCоmponent = pathToContainer; \r\n  this.name = containerName;\r\n  this.type =  \"container\";\r\n  this.renderType =  \"container-outer\";\r\n  if(pathToContainer != containerName)this.renderType = \"container-inner\";\r\n  \r\n  ///container_extend\r\n  if(this.renderType ==  \"container-outer\"){ \r\n\r\n     var thisCont =  this.rootLink.description[this.pathToCоmponent];\r\n     if(thisCont == undefined)thisCont = this.rootLink.description.fetchComponents[this.pathToCоmponent];\t \r\n\t // console.log(\"1\");\r\n\t var parentContainerName = thisCont.container_extend;\r\n\t  \r\n\t  \t  if(parentContainerName != undefined){\r\n           \r\n          ///описание наследуемого компонента\t\t   \r\n\t\t  var parCont = this.rootLink.description[parentContainerName];\r\n\t\t   if(parCont == undefined &&  this.rootLink.description.virtualArrayComponents != undefined){\r\n\t\t\t   \r\n\t\t\t   parCont = this.rootLink.description.virtualArrayComponents[parentContainerName];\r\n\t\t\t   \r\n\t\t   }else if(parCont == undefined &&  this.rootLink.description.fetchComponents != undefined){\r\n\t\t\t   \r\n\t\t\t   parCont = this.rootLink.description.fetchComponents[parentContainerName];\r\n\t\t   }\r\n\t\t   if(parCont == undefined)console.log(\"error неправильно указано имя компонента наследуемого контейнера в container_extend\");\r\n\t\t   \t\t \r\n\t\t   var shareProps = parCont.props;\r\n\t\t\r\n\t\t\r\n\t\t  if(parCont.share_props != undefined){\r\n\t\t\t  \t\t  \r\n\t\t\t  shareProps = shareProps.slice(0, parCont.share_props);\r\n\t\t  }\r\n\t\t  for(var u =0; u < shareProps.length; u++){\r\n\t\t\t  \r\n\t\t\t  var keyProp = shareProps[u];\r\n\t\t\t  if(typeof keyProp == \"object\")keyProp = shareProps[u][0];\r\n\t\t\t  \r\n\t\t\t  var isPersist = false;\r\n\t\t\t  \r\n\t\t\t  props.forEach((prop)=>{ \t\t\t  \r\n\t\t\t             var findProp = prop;\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(typeof findProp == \"object\")findProp = prop[0];\r\n\t\t\t\t\t\tif(findProp == keyProp)isPersist = true;\r\n                        \t\t\t\t\t\r\n\t\t\t  });\r\n\t\t\t  if(isPersist)continue\r\n\t\t\t  \r\n\t\t\t  props.push(shareProps[u]);\r\n\t\t\t  \t\t\t  \r\n\t\t\t  if(parCont.methods[keyProp] != undefined){\t\t\t\r\n\t\t\t\t  \r\n\t\t\t\t\tmethods[keyProp] = parCont.methods[keyProp]; \r\n\t\t\t\t\t\t\r\n\t\t\t  }\r\n\t\t  }\t\t  \r\n\t\t  //props = shareProps.concat(props);\r\n\t  }\r\n  }\r\n  \r\n\r\n  if(props == undefined)props = [];\r\n  for(var i2 = 0; i2 < props.length; i2++){\r\n\r\n         if(methods == undefined)methods = {};\r\n\r\n\t\t \t\t if(typeof props[i2] == \"string\"){\r\n\r\n\t\t\t \t\t\t \t    var htmlLinkToProp = this.htmlLink.querySelector('[data-'+containerName+'-'+props[i2]+']');\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(htmlLinkToProp == undefined)htmlLinkToProp = this.htmlLink;\t\t\t\r\n\r\n\t\t\t\t\t\t\tthis.props[ props[i2] ] = constructorProps(htmlLinkToProp, containerName,\tprops[i2], methods[ props[i2] ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pathToCоmponent,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewProps\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\r\n\t\t }else{\r\n\r\n\t\t\t     \t\t\t\t var string =  props[i2][0];\r\n\r\n\t\t\t\t \t\t\t\t var selector = props[i2][2];\r\n\r\n\t\t\t\t \t\t\t\t var  htmlLinkToProp = this.htmlLink;\r\n\r\n\t\t\t\t \t\t\t\t if(selector != \"\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t  htmlLinkToProp = this.htmlLink.querySelector(selector);\r\n\r\n\t\t\t\t\t  \t\t\t\t\t\t  if(htmlLinkToProp == undefined){\r\n\t\t\t\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t\t\t\t  console.log(\"error - не возможно найти селектор для свойства \"+selector+\" контейнера \"+containerName+\" проверьте правильность селектора или наличие тега в html разметке\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t  continue;\r\n\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t                 }\r\n\r\n\t\t\t     \t\t \t\t\t\t      this.props[ string ] = constructorProps(htmlLinkToProp, \r\n\t\t\t\t                                   containerName,\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t   props[i2], \r\n\t\t\t\t\t\t\t\t\t\t\t\t   methods[ string ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pathToCоmponent,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t\t\t\t\t   this.rootLink,\r\n\t\t\t\t\t\t\t\t\t\t\t\t   newProps\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\r\n\r\n\t\t }\r\n\r\n\r\n\t\t \t\t\t\t\t\t\t\t}\r\n       if(methods.onCreatedContainer != undefined ){ \r\n\r\n\t\t\t\tthis.onCreatedContainer = methods.onCreatedContainer.bind(this)\r\n\r\n\t\tif(isRunonCreatedContainer==undefined || isRunonCreatedContainer!=false){\r\n\t\t\t\r\n\t\t\tthis.onCreatedContainer();\r\n\t\t\t//console.log(this);\r\n\t\t}\r\n\t}\r\n\r\n\t}\r\nContainer.prototype.remove = function(widthChild){\r\n\tif(this.index == null){\r\n\r\n\t\t\t\tconsole.log(\"conteiner without array not removing, to remove its first add container to array\");\r\n\t\treturn null;\r\n\t}\r\n\tif(this.groupId != undefined && this.groupParent !=undefined){\r\n\t\t\r\n\t\tthis.groupParent.removeFromGroup(this.groupId);\r\n\t\treturn;\r\n\t}\r\n\tif(this.renderParent !=undefined && this.renderParent.renderChild != undefined && this.renderParent.renderChild != null){ \r\n\t\r\n\t\tthis.renderParent.renderChild = null;\r\n\t\r\n\t}\r\n\tif(widthChild != undefined && widthChild == true){\r\n\r\n\t\t\t\tthis.rootLink.removeByIndexes(this.pathToCоmponent, [this.index], true);\r\n\r\n\t\t\t}else{\r\n\t\tthis.rootLink.removeByIndexes(this.pathToCоmponent, [this.index]);\r\n\t}\r\n      return true;\r\n}\r\n\r\nContainer.prototype.setAllProps = function(properties){\r\n\t\r\n\t\tfor(key in properties){\r\n\r\n\t\t\t\tif(this.props[key]!= undefined){\r\n\r\n\t\t\t\t\t\tthis.props[key].setProp(properties[key]);\r\n\t\t\t\t\t\t\r\n\t\t\t\t}else if(key != \"componentName\"){\r\n\t\t\t\t\t//console.log(this);\r\n\t\t\t\t\tconsole.log(\"warn не найден ключь \"+key+\" в контейнере \"+this.name+\" index \"+this.index+\" массива \"+this.pathToCоmponent+\" проверте правильность названия ключей в объекте properties\");\r\n\t\t\t\t}\r\n\t}\r\n\t\r\n}\r\nContainer.prototype.getAllProps = function(properties){\r\n\t\r\n\tvar properties_r = {};\r\n\t\r\n\tif(properties != undefined){\r\n\t\t\r\n\t\tfor(key in properties){\r\n\r\n\t\t\t\tif(this.props[key]!= undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tproperties_r[key] = this.props[key].getProp(properties[key]);\r\n\t\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\t\r\n\t\tfor(key in this.props){\r\n\r\n\t\t\tproperties_r[key] = this.props[key].getProp();\r\n\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t//console.log( properties_r);\r\n\treturn properties_r;\r\n}\t\r\n\t\r\n\r\nContainer.prototype.component = function(){\r\n\t\r\n\t\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}","function HTMLixRouter(state, routes){\r\n\r\n\t\tvar namePathInRoutes = findComponent(routes); \r\n\r\n\r\n\r\n//поиск соответствующего роута\r\n\t\t\t\t\tfunction findComponent(routes){\r\n\r\n\t\t\t\tvar urlPath = window.location.pathname;\r\n\r\n\t\t\t\t//console.log(urlPath);\r\n\r\n\t\t\t\tif(urlPath == \"/\" && routes[\"/\"] != undefined){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\treturn urlPath;\r\n\t\t}\r\n\r\n\r\n\t\t\t\t\tvar pathArray = urlPath.split(\"/\");\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\tfor(var key in routes){\r\n                    \r\n\t\t\t\t\tvar isCountSerchСoincide = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar pathArrayFind = key.split(\"/\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar word = pathArrayFind.slice(-1)[0];  //поиск последнего слова в маршруте чтобы проверить есть ли у него в конце знак *\r\n\t\t\t\t\t\tvar paramWord = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif( pathArrayFind.length>2 && word == \"\"){\r\n\t\t\t\t\t\t\t word = pathArrayFind.slice(-2)[0];\r\n\t\t\t\t\t\t\t pathArrayFind.pop();\r\n\t\t\t\t\t\t}else if(pathArrayFind.length>2 && word == \"*\"){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tword = pathArrayFind.slice(-2)[0];\r\n\t\t\t\t\t\t\t pathArrayFind.pop();\r\n\t\t\t\t\t\t\tisCountSerchСoincide = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar word2 = pathArray.slice(-1)[0];  //поиск последнего слова в маршруте чтобы убрать пустую строку\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif( pathArray.length>2 && word2 == \"\"){\r\n\t\t\t\t\t\t\t //word2 = pathArrayFind.slice(-2)[0];\r\n\t\t\t\t\t\t\t pathArray.pop();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//console.log(pathArrayFind);\r\n\t\t\t\t\t\tvar searchInword = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar searchInwordCount = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar isParam = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (var y=0; y < pathArrayFind.length; y++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(pathArrayFind[y][pathArrayFind[y].length -1] == \"*\" ){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tsearchInword = true;\r\n\t\t\t\t\t\t\t\tword = pathArrayFind[y];\r\n\t\t\t\t\t\t\t\tsearchInwordCount[y] = y;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(pathArrayFind[y][0] == \":\" ){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tisParam = true;\r\n\t\t\t\t\t\t\t\tparamWord[y] = y;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t//console.log(paramWord+\" param word \"+ pathArrayFind[y]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/*\r\n\r\n\t\t\t\t\t\tif(word[word.length-1] == \"*\"){\r\n\r\n\t\t\t\t\t\t\t\tsearchInword = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\tvar count = 0;\r\n\r\n\t\t\t\t\tfor(var i=0; i< pathArrayFind.length; i++ ){\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(pathArrayFind[i] == pathArray[i]){\r\n\r\n\t\t\t\t\t\t\t\t\t\tcount++;\r\n\r\n\t\t\t\t\t\t\t\t\t}else if(searchInword == true && searchInwordCount[i] != undefined){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar search = pathArray[i].search(word);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\tif( word  != \"\" && search == 0 ){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t//\tconsole.log(search + \" search  \" +  word);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}else if(isParam == true && paramWord[i] != undefined ){ \r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//console.log(count+\" - \"+pathArrayFind.length);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(pathArrayFind); console.log(pathArray);\r\n\t\t\t\t\t\t\r\n\t\t\tif(isCountSerchСoincide == false){\r\n\t\t\t\tif(pathArrayFind.length == count){\r\n\t\t\t\t\t\r\n\t\t\t\t\tnamePathInRoutes = key;\r\n\t\t\t\t\treturn key;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\t\t\t\t\t\t\t\t\r\n\t\t\tif(pathArrayFind.length == count && pathArrayFind.length == pathArray.length){\r\n\r\n\t\t\t\t\t\t\tnamePathInRoutes = key;\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\treturn key;\r\n\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n\r\n//поиск шаблона\r\n\tif(routes[namePathInRoutes] != undefined && routes[namePathInRoutes].templatePath != undefined){\r\n\r\n\t\t\t\tif(state.stateSettings == undefined)state.stateSettings = {};\r\n\r\n\r\n\t\t\t\t\t\tstate.stateSettings.templatePath = routes[namePathInRoutes].templatePath;\r\n\r\n\t\t\t}else{\r\n\r\n\r\n\t\t\t\t\t\tconsole.log(\"router error- маршрут не найден убедитесь в правильности запроса\");\r\n\t             }\r\n///изменение структуры state для загрузки шаблонов для других страниц в fetch запросе\r\n\tfor (var key2 in state){\r\n\r\n\t\t\t\tvar toCare = true;\r\n\r\n\t\t\t\tfor(var t = 0; t< routes[namePathInRoutes].first.length; t++){\r\n\r\n\t\t\t\t\tif(key2 == routes[namePathInRoutes].first[t] || key2 == \"stateSettings\" || key2 ==  \"stateMethods\" ||\r\n\r\n\t\t\t\t\tkey2 == 'stateProperties' || key2 ==  \"eventEmiters\" ||  key2 ==  'virtualArrayComponents' || key2 ==  \"fetchComponents\"\r\n\r\n\t\t\t\t\t\t\t/* ||  key2 ==  'firstInitComponents' */ ){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoCare = false;\r\n\r\n\t\t\t\t\t}\r\n\t\t}\r\n\t\t      if(toCare){\r\n\r\n\t\t\t\t  \t\t\t\t if( state['fetchComponents'] == undefined)state['fetchComponents']  = {};\r\n\r\n\t\t\t\t\t\t\t\tstate['fetchComponents'][key2] = state[key2];\r\n\r\n\t\t\t\tdelete state[key2]\t\t\t\t  \r\n\r\n\t\t\t\t  \t\t\t  }\r\n\r\n\t}\r\n\tvar stateWithRoutes = new HTMLixState(state);\r\n\t\r\n\t\r\n\r\n\t\tvar routerObj = {\r\n\t\t\t\troutes:  routes,\r\n\r\n\t\t\t\thtmlLink: {}, \r\n\r\n\t\t\t\tcomponent: {},\r\n\r\n\t\t\t\tmatchRout: findComponent,\r\n\t\t\t\t\r\n\t\t\t\tcountError: 0,\r\n\t\t\t\t\r\n\t\t\t\tfindRouters: function(nameArrComp){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(nameArrComp == undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t   nameArrComp = this.matchRout(this.routes);\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(nameArrComp == null){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"router error - не удается найти совпадающий rout для маршрута \"+window.location.pathname)\r\n\t\t\t\t                        }\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(var key in this.routes[nameArrComp].routComponent){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(key);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar key2 = this.routes[nameArrComp].routComponent[key];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(key2);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.component[key2] == undefined){\r\n\t\t\t\t\t\t\tvar component = this.rootLink.state[key2];\r\n\t\t\t\t\t\t\tthis.component[key2] = component;\r\n\t\t\t\t\t\t\tif(component == undefined){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar messPart = \"warn не удалось найти компонент \"+key2+\" в описании приложения;\";\r\n\t\t\t\t\t\t\t\tif(this.countError > 0)messPart = \"router error - не удается найти компонент \"+key2+\" в описании приложения, проверьте правильность написания ключей в параметре routes для HTMLixRouter\";\r\n\t\t\t\t\t\t\t    console.log(messPart);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.countError = this.countError+1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//console.log(key);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.htmlLink[key] == undefined || this.htmlLink[key] == null)this.htmlLink[key]= document.querySelector(\"[data-\"+key+\"]\");\r\n\t\t\t\t\t\t//console.log(this.htmlLink[key]);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(var key in this.routes[nameArrComp].routComponent){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.htmlLink[key] == undefined || this.htmlLink[key] == null){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor(var keyRouter in this.routes[nameArrComp].routComponent){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.htmlLink[key]= this.component[ this.routes[nameArrComp].routComponent[keyRouter] ].htmlLink.querySelector(\"[data-\"+key+\"]\");\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(this.htmlLink[key] != undefined || this.htmlLink[key] != null) continue;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.htmlLink[key] == undefined || this.htmlLink[key] == null) console.log(\"error в html коде не найден роутер data-\"+key);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tsetHtml: function (nameArrComp){\r\n\t\t\t\t\r\n\r\n\t\t\t\tfor(var key in this.routes[nameArrComp].routComponent){ \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar key2 = this.routes[nameArrComp].routComponent[key];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t        this.htmlLink[key].innerHTML = \"\";\r\n\t\t\t\t\t\tthis.htmlLink[key].appendChild(\r\n\t\t\t\t\t\tthis.component[key2].htmlLink);\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tsetRout: function(url, newComponent){\r\n\t\t\t\t\r\n\t\t\t\t//console.log(url);\r\n\r\n\t\t\t\t\t\twindow.history.pushState( \r\n\t\t\t\t\tnull,\r\n\t\t\t\t\turl,\r\n\t\t\t\t\turl\r\n\t\t\t);\r\n\r\n\r\n\t\t\t\tvar nameArrComp = this.matchRout(this.routes);\r\n\r\n\r\n\t\t\t\t\tif(nameArrComp == null){\r\n\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"router error - не удается найти совпадающий rout для маршрута \"+window.location.pathname)\r\n\t\t\t\t}\t\r\n\t\t\t\tthis.findRouters(nameArrComp);\r\n\t\t\t\tthis.setHtml(nameArrComp);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t\t\r\n\t    stateWithRoutes.router = routerObj;\r\n\r\n\t\tstateWithRoutes.router.rootLink = stateWithRoutes;\r\n\t\trouterObj.findRouters();\r\n\t// stateWithRoutes.router.component = stateWithRoutes.state[routes[namePathInRoutes].routComponent];  \r\n\r\n\t\treturn stateWithRoutes;\t\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction EventEmiter(eventName, prop, listeners, listenersEventMethods, behavior, rootLink){\r\n\r\n\t\tthis.listeners = listeners;\r\n\tthis.listenersEventMethods =  listenersEventMethods;\r\n\r\n\t\tthis.event  = new Event(eventName);\r\n\tthis.type = eventName;\r\n\tthis.prop = prop;\r\n\tthis.behavior = null;\r\n\tthis.rootLink = null;\r\n\tif(behavior != undefined){\r\n\t\tthis.behavior = behavior.bind(this);\r\n\t\tthis.rootLink = rootLink;\r\n\t}\r\n\r\n\r\n}\r\n\r\nEventEmiter.prototype.addListener = function(htmlLinkToListener, eventMethod, eventName, nameListener){\r\n\r\n\r\n\t\t\thtmlLinkToListener.addEventListener(eventName, eventMethod);\r\n\r\n\t\tthis.listeners[nameListener]= htmlLinkToListener;\r\n\r\n\t\tthis.listenersEventMethods[nameListener] = eventMethod;\r\n}\r\n\r\nEventEmiter.prototype.removeListener = function(htmlLinkToListener){\r\n\r\n\t\t\tvar index = null;\r\n\r\n\t\t\t\tfor (key in this.listeners){\r\n\r\n\t\t\t\t\t\tif(htmlLinkToListener == this.listeners[key])index = key;\r\n\r\n\t\t\t\t\t}\r\n\t\tif(index == null)return;\r\n\t\tthis.listeners[index].removeEventListener(this.type, this.listenersEventMethods[index]);\r\n\r\n\t\t\t\tdelete this.listenersEventMethods[index];\r\n\t\tdelete this.listeners[index];\r\n}\r\n\r\nEventEmiter.prototype.emit = function(){\r\n\t\r\n\t    if(this.behavior != null){\r\n\t\t\t\r\n\t\t\tvar isEmit = this.behavior();\r\n\t\t\t\r\n\t\t\tif(isEmit == false)return;\r\n\t\t}\r\n\r\n\t\tfor(key in  this.listeners){\r\n\r\n\t\t\t\tthis.listeners[key].dispatchEvent(this.event);\r\n\r\n\t\t\t}\r\n\r\n\t}\r\n\r\nEventEmiter.prototype.setEventProp = function(prop){ \r\n\r\n\tthis.prop = prop;\r\n\r\n\t\tthis.emit();\r\n\r\n}\r\n\r\nEventEmiter.prototype.getEventProp = function(){ \r\n\r\n\t\treturn this.prop;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","\r\nfunction constructorProps(htmlLink, keyData1, keyData2, eventMethod, pathToContainer, parentContainer, rootLink, newProps) {\r\n\tvar propType = null;\r\n\r\n\t\tif(typeof keyData2 == \"object\"){\r\n          \r\n\t  \t  propType = keyData2[1];\r\n\t\t  \r\n\t\t  if(keyData2[0].search(\"data\") == 0){\r\n\t\t\t  \r\n\t\t\t  propType = \"data\";\r\n\t\t\t  \r\n\t\t\t  return new PropCommon(htmlLink, propType,  parentContainer, keyData2[0]);\r\n\t\t  }\r\n\r\n\t    }else if(keyData2.search(\"data\") == 0){\r\n\t\t\t\r\n\t\t\tpropType = \"data\";\r\n\t\t\t\r\n\t\t\treturn new PropCommon(htmlLink, propType,  parentContainer, keyData2);\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\tpropType = htmlLink.dataset[ keyData1 + rootLink.capitalizeFirstLetter(keyData2) ];\r\n\t\t}\r\n  if(propType == null){\r\n\t\t\r\n           var mess = \"error не определен тип свойства для data-\"+keyData1+\"-\"+keyData2+\" в html коде не найдено для компонента \"+pathToContainer+\", index= \"+parentContainer.index+\" !, проверьте правильность названия свойств\";\r\n\t\t\tconsole.log(mess);\r\n           throw mess;\r\n\t }\r\n\tif(propType == \"render-variant\" ){\r\n\t\t\r\n       return new PropVariant(htmlLink, propType,  keyData2, pathToContainer, parentContainer, rootLink, newProps);\r\n\t\t  \t\t  \r\n\t}else  if(propType == \"group\"){\r\n\t\t\r\n\t\treturn new PropGroup(htmlLink, propType, keyData1, keyData2, pathToContainer, parentContainer, rootLink, newProps);\r\n\t\t\t\t\r\n\t}else if(propType == \"group-mix\"){\r\n\t\t\r\n\t\treturn new PropGroupMix(htmlLink, propType, keyData1, keyData2, pathToContainer, parentContainer, rootLink, newProps);\r\n\t\t\t\t\r\n\t}else  if(eventMethod != undefined && isEmiter(propType, rootLink) != false  ){\r\n\t  \r\n\t\treturn new PropEventEmiter(htmlLink, propType, keyData2, eventMethod, pathToContainer, parentContainer, rootLink);\r\n\t \r\n\t}else if( eventMethod != undefined && isEvent(propType) != false ){\r\n\r\n        return new PropStandartEvent(htmlLink, propType, keyData2, eventMethod, pathToContainer, parentContainer, rootLink);\r\n\t\r\n  }else {\r\n\t\t\r\n\t\treturn new PropCommon(htmlLink, propType);\r\n\t\t\r\n\t}\r\n}\r\n\r\nfunction PropCommon(htmlLink, propType, parentComponent, propName){\r\n\t\r\n\t\r\n\t this.htmlLink = htmlLink;\r\n\t this.type = propType;\r\n\t \r\n\t if(this.type == \"data\"){\r\n\t\t \r\n\t\t this.parent = parentComponent;\r\n\t\t this.propName = propName;\r\n\t }\r\n\r\n}\r\nfunction PropSubtype(htmlLink, propType, propName,  pathToComponent, parentComponent, rootLink){\r\n\t\r\n\t  //PropCommon.call(this, htmlLink, propType, parentComponent);\r\n\t\tthis.htmlLink = htmlLink;\r\n\t\tthis.type = propType;\r\n\t  \tthis.pathToCоmponent = pathToComponent; \r\n\t\tthis.parent = parentComponent; \r\n\t\tthis.rootLink = rootLink;\r\n\t\tthis.prop = null;\r\n\t\tthis.propName = propName;\t\r\n\r\n}\r\nPropSubtype.prototype.component = function(){\r\n\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}\r\nPropSubtype.prototype.removeAllChild = function(){\t\r\n\t\r\n\tvar children = this.htmlLink.children;\r\n\t\r\n\tvar count = children.length;\r\n\t\r\n\tfor(var p=0; p< count ; p++ ){\r\n\t\r\n\t\tchildren[0].remove();\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nPropCommon.prototype.setProp = function(value) {\r\n\t\r\n\t\t\tif(this.type == \"text\"){\r\n\r\n\t\t\t\tthis.htmlLink.textContent = value;\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}else if(this.type == \"inputvalue\" || this.type == \"select\"){\r\n\r\n\t\t\tthis.htmlLink.value = value;\r\n\t\t\treturn\r\n\r\n\t\t\t}else if(this.type == \"checkbox\" || this.type == \"radio\"){\r\n\r\n\t\t \t\t if(value != true && value != false)value = true;\r\n\r\n\t\t \t\t this.htmlLink.checked = value;\r\n\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse if(this.type == \"html\"){\r\n\r\n\t\t\t\t  this.htmlLink.innerHTML = value;\r\n\t\t\t\t  return;\r\n\r\n\t\t\t   }else if(this.type == \"class\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(Array.isArray(value)){\r\n                         var classLength = this.htmlLink.classList.length;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var u=0; u < classLength; u++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.htmlLink.classList.remove(this.htmlLink.classList[0]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var k=0; k < value.length; k++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.htmlLink.classList.add(value[k]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.htmlLink.classList.add(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t}else if(this.isAttr(this.type) != false){\r\n\r\n\t\t\t\tthis.htmlLink.setAttribute(this.isAttr(this.type), value);\r\n\t\t\t\treturn;\r\n\r\n\t\t}else  if(this.type == \"data\"){ \r\n\t\t\t\r\n\t\t\tthis.htmlLink.dataset[ this.parent.name + this.parent.rootLink.capitalizeFirstLetter(this.propName) ] = value;\r\n\t\t\treturn;\r\n\t\r\n\t}\r\n}\r\n\r\nPropCommon.prototype.getProp = function() {\r\n\t\r\n\tif(this.type == \"text\"){\r\n\r\n\t\t\t\treturn this.htmlLink.textContent;\r\n\r\n\t}else if(this.type == \"inputvalue\" || this.type == \"select\"){\r\n\r\n\t\t\treturn this.htmlLink.value;\r\n\r\n\t}else if(this.type == \"checkbox\" || this.type == \"radio\"){\r\n\r\n\t\t\t\treturn this.htmlLink.checked;\r\n\r\n\t\t\t}else if(this.type == \"class\"){\r\n\t\t\t\t\r\n\t\t\t\tvar classList = this.htmlLink.classList;\r\n\t\t\t\tvar clasArr = [];\r\n\t\t\t\tfor(var i=0; i< classList.length; i++){\r\n\t\t\t\t\t\r\n\t\t\t\t\tclasArr.push(classList[i]);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\treturn clasArr;\r\n\r\n\r\n\t}else if(this.type == \"html\"){\r\n\r\n\t\t\t\t  return this.htmlLink.innerHTML;\r\n\r\n    }else  if(this.isAttr(this.type) != false){\r\n\r\n\r\n\t\t\t\t\t\treturn this.htmlLink.getAttribute(this.isAttr(this.type));\r\n\r\n\t}\r\n\telse if(this.type == \"data\"){ \r\n\t\t\t\r\n\t\t\treturn this.htmlLink.dataset[ this.parent.name + this.parent.rootLink.capitalizeFirstLetter(this.propName) ];\r\n\t\r\n\t}\r\n}\r\nPropCommon.prototype.removeProp = function(value) {\r\n\t\r\n\t\t\tif(this.type == \"text\"){\r\n\r\n\t\t\t\treturn\tthis.htmlLink.textContent = \"\";\r\n\r\n\t\t\t}else if(this.type == \"class\"){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tif(Array.isArray(value)){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(var u=0; u < this.htmlLink.classList.length; u++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.htmlLink.classList.remove(this.htmlLink.classList[u]);\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.htmlLink.classList.remove(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t}else if(this.type == \"html\"){\r\n\r\n\t\t\t\t  this.htmlLink.innerHTML = \"\";\r\n\t\t\t\t  return;\r\n\r\n    }else if(this.type == \"checkbox\" || this.type == \"radio\"){\r\n\r\n\t\t\t\t this.htmlLink.checked = false;\r\n\t\t\t\t return;\r\n\r\n\t\t\t}else if(this.type == \"inputvalue\" || this.type == \"select\"){\r\n\r\n\t\t\t\tthis.htmlLink.value = \"\";\r\n\t\t\t\treturn;\r\n\r\n\t}else  if(this.type == \"data\"){ \r\n\t\t\t\r\n\t\t\tthis.htmlLink.dataset[ this.parent.name + this.rootLink.parent.capitalizeFirstLetter(this.propName) ] = \"\";\r\n\t\t\treturn;\r\n\t\r\n\t}else if(this.isAttr(this.type) != false){\r\n\r\n\t\t\t\tthis.htmlLink.removeAttribute(this.isAttr(this.type));\r\n\t\t\t\treturn;\r\n\r\n\t}\t\r\n}\r\n\r\nPropCommon.prototype.isAttr = function (type){\r\n\r\n\t\tvar isAttr = false;\r\n\r\n\t\tswitch(type){\r\n\r\n\t\t\t\tcase 'alt':\r\n\t\tisAttr = 'alt';\r\n\t\tbreak;\r\n\r\n\t\tcase 'disabled':\r\n\t\tisAttr = 'disabled';\r\n\t\tbreak;\r\n\r\n\t\tcase 'href':\r\n\t\tisAttr = 'href';\r\n\t\tbreak;\r\n\r\n\t\tcase 'id':\r\n\t\tisAttr = 'id';\r\n\t\tbreak;\t\r\n\r\n\t\tcase 'src':\r\n\t\tisAttr = 'src';\r\n\t\tbreak;\t\t\r\n\r\n\t\tcase 'style':\r\n\t\tisAttr = 'style';\r\n\t\tbreak;\r\n\r\n\t\tcase 'title':\r\n\t\tisAttr = 'title';\r\n\t\tbreak;\t\t\r\n\t}\r\n\r\n\treturn isAttr;\r\n}\r\nfunction isEmiter(emiterName, rootLink_p){\r\n\r\n\t\tvar isEmiter = false;\r\n\r\n\t\t\tfor(var key123 in rootLink_p.eventProps){\t\t\r\n\t\tif(key123 == emiterName){\r\n\t\t\tisEmiter = key123;\r\n\t\t}\r\n\t}\r\n\r\n\t\t\treturn  isEmiter;\r\n}\r\nfunction isEvent (type){\r\n\r\n\t\tvar isEv = false;\r\n\r\n\tswitch(type){\r\n\r\n\t\t\t\tcase'click':\r\n\t\tisEv = 'click';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'keydown':\r\n\t\tisEv = 'keydown';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'dblclick':\r\n\t\tisEv = 'dblclick';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'contextmenu':\r\n\t\tisEv = 'contextmenu';\r\n\t\tbreak;\t\r\n\r\n\t\tcase'selectstart':\r\n\t\tisEv = 'selectstart';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'mousewheel':\r\n\t\tisEv = 'mousewheel';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'mousemove':\r\n\t\tisEv = 'mousemove';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'mouseout':\r\n\t\tisEv = 'mouseout';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'mouseover':\r\n\t\tisEv = 'mouseover';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'mouseup':\r\n\t\tisEv = 'mouseup';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'mousedown':\r\n\t\tisEv = 'mousedown';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'keypress':\r\n\t\tisEv = 'keypress';\r\n\t\tbreak;\t\r\n\r\n\t\tcase'keyup':\r\n\t\tisEv = 'keyup';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'focus':\r\n\t\tisEv = 'focus';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase'blur':\r\n\t\tisEv = 'blur';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'change':\r\n\t\tisEv = 'change';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase 'reset':\r\n\t\tisEv = 'reset';\r\n\t\tbreak;\t\r\n\r\n\t\tcase'select':\r\n\t\tisEv = 'select';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'submit':\r\n\t\tisEv = 'submit';\r\n\t\tbreak;\t\r\n\r\n\t\t\t\tcase 'abort':\r\n\t\tisEv = 'abort';\r\n\t\tbreak;\r\n\r\n\t\t\t\tcase 'change':\r\n\t\tisEv = 'change';\r\n\t\tbreak;\t\t\t\r\n\t}\r\n\r\n\treturn isEv;\r\n}\r\n","function PropGroup(htmlLink, propType, keyData1,  propName,  pathToComponent, parentComponent, rootLink, newProps){\r\n\t\r\n\r\n\t\r\n\t PropSubtype.call(this, htmlLink,  propType, propName,  pathToComponent, parentComponent, rootLink);\r\n\t \r\n\t \tthis.groupChild = [];\r\n\tthis.groupArray = null;\r\n\t \r\n\t \t\t\tif(newProps == undefined || newProps[propName] == undefined \r\n\t\t\t\t|| typeof newProps[propName] != \"object\" ||  newProps[propName].componentName == undefined ){\r\n\t\t\t\t\tthis.initGroup(keyData1, propName);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.removeAllChild();\r\n\t\t\t\t}\t\r\n\r\n}\r\nPropGroup.prototype = Object.create(PropSubtype.prototype);\r\n\r\nObject.defineProperty(PropGroup.prototype, 'constructor', { \r\n    value: PropGroup, \r\n    enumerable: false, // false, чтобы данное свойство не появлялось в цикле for in\r\n    writable: true });\r\n/*\r\nPropGroup.prototype.component = function(){\r\n\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}\r\nPropGroup.prototype.removeAllChild = function(){\t\r\n\t\r\n\tvar children = this.htmlLink.children;\r\n\t\r\n\tvar count = children.length;\r\n\t\r\n\tfor(var p=0; p< count ; p++ ){\r\n\t\r\n\t\tchildren[0].remove();\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n*/\r\nPropGroup.prototype.getProp= function(value){\r\n\t\t\t\tif(value == undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar array_r = [];\r\n\t\t\t\t\t\t\r\n                         for(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t array_r.push(this.groupChild[i].getAllProps());\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t var componentName = \"\";\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t if(this.groupArray != undefined)componentName = this.groupArray.pathToComponent;\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\treturn {group: array_r, componentName: componentName};\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(typeof value == \"number\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn this.groupChild[value];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tvar array_r = [];\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t if(value.componentName == undefined && value.group == undefined){\r\n\t\t\t\t\t\t\t    for(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\tarray_r.push(this.groupChild[i].getAllProps(value));\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t return array_r;\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }else{\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t \tfor(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\tarray_r.push(this.groupChild[i].getAllProps(value));\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar obj_r = {group: array_r};\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(value.componentName != undefined)obj_r.componentName = this.groupArray.pathToComponent;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn obj_r;\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\r\n}\r\nPropGroup.prototype.setProp= function(value){\r\n\t\r\n\t\t\t    if(Array.isArray(value) ){\r\n\t\t\t\t\r\n\t\t\t\t\tthis.reuseGroup(value);\r\n\t\t\t\t\r\n\r\n\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\r\n\t\t\t\tif(value.componentName != undefined && value.group != undefined){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.createNewGroup(value.group, value.componentName);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(value.location != undefined){\r\n\t\t\t\t\t\tvar location = value.location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdelete value.location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.createInGroup(value, location);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t}else {\r\n\t\t\t\r\n\t\t\tconsole.log(\"не получается создать \"+value+\"в группе компонента\"+this.pathToComponent);\r\n\t\t}\r\n\t\treturn;\r\n\t\r\n}\r\nPropGroup.prototype.removeProp= function(value){\r\n\t\r\n\t\t\t    if(value == undefined ){\r\n\r\n\t\t\t\t\t\tthis.clearGroup();\r\n\r\n\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\tthis.removeFromGroup(value);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\r\n}\r\nPropGroup.prototype.removeFromGroup = function(groupID){\r\n\tif(this.groupChild[groupID] == undefined){\r\n\r\n\t\t\t\tconsole.log(\"error- элемента с id = \"+groupID+\" в группе не существует\");\r\n\t\treturn;\r\n\t}\r\n\tdelete this.groupChild[groupID].groupId;\r\n\tdelete this.groupChild[groupID].groupParent;\r\n\r\n\t\tthis.groupChild[groupID].remove(true);\r\n\tthis.groupChild.splice(groupID, 1);\r\n\tfor(var t=0; t< this.groupChild.length; t++){\r\n\r\n\t\t\t\tthis.groupChild[t].groupId = t;\r\n\t}\r\n\r\n}\r\nPropGroup.prototype.clearGroup = function(){\r\n\t\r\n\t   var count = this.groupChild.length;\r\n\r\n\t\tif(count <= 0)return;\r\n\r\n\t\tvar indexes = [];\r\n\r\n\t\tfor(var i=0; i< count; i++){\r\n\r\n\t\t\t\tindexes.push(this.groupChild[i].index);\r\n\t}\r\n\r\n\tthis.rootLink.removeByIndexes(this.groupChild[0].pathToCоmponent, indexes, true);\r\n\r\n\tthis.groupChild.length = 0;\r\n}\r\nPropGroup.prototype.getGroupsArray = function(){\r\n\t\r\n\t\t\tif(this.groupArray == null || this.groupArray == undefined){\r\n\t\t\t\r\n\t\t\t      if(this.component().type==\"array\"){\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  for(var h=0; h<this.component().data.length; h++){\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  var groupArray_r = this.component().data[h].props[this.propName].groupArray;\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  if(groupArray_r != null && groupArray_r != undefined){\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t  this.groupArray = groupArray_r;\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t  return this.groupArray;\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  \r\n\t\t\t\t  }\t\t\t\t\t  \t\r\n\t\t}\r\n\treturn null;\t\r\n}\r\n\r\nPropGroup.prototype.reuseGroup = function(arrayWithObjects){\r\n\t\r\n\t\r\n\t\tif(this.groupArray == null && this.getGroupsArray() == null){\r\n\t\t\t\t\r\n\t\t\t\t\tconsole.log(\"error для использования метода .reuseGroup свойство должно иметь поле this.groupArray !=null\");\r\n\t\t\t\t\treturn\t\t\r\n\t\t}\r\n\t\r\n\t\tvar newArrLength = arrayWithObjects.length;\r\n\t\tvar oldArrLength = this.groupChild.length;\r\n\t\r\n\tvar add = 0;\r\n\tvar remove =0;\r\n\t\r\n\tif(newArrLength > oldArrLength) add = newArrLength - oldArrLength;\r\n\tif(newArrLength < oldArrLength) remove =  oldArrLength - newArrLength;\r\n\t\r\n\tfor(var i=0; i<this.groupChild.length; i++){\r\n\t\t\r\n\t\tthis.groupChild[i].setAllProps(arrayWithObjects[i]);\r\n\t\t\r\n\t\t\tfor(var key in this.groupChild[i].props){\r\n\t\t\t\r\n\t\t\tif(this.groupChild[i].props[key].prop != undefined)this.groupChild[i].props[key].prop = null;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\t\r\n\tif(add > 0){\r\n\t\tfor (var t=0; t<add; t++){\r\n\t\t\t\r\n\r\n\t\t\t\r\n\t\t\tthis.createInGroup(arrayWithObjects[oldArrLength + t]);\r\n\t\t}\t\r\n\t}\r\n    if(remove > 0){\r\n\t\tfor (var f=0; f<remove; f++){\r\n\t\t\t\r\n\t\t\tthis.removeFromGroup( this.groupChild.length - 1 );\r\n\t\t}\t\r\n\t}\r\n\t\t\r\n}\r\nPropGroup.prototype.createInGroup = function(props, insertLocation){\r\n\t\r\n\tif(this.groupArray == null && this.getGroupsArray() == null && props.componentName == undefined){\r\n\t\t\r\n\t\tconsole.log(\"error для использования метода createInGroup свойство должно иметь поле this.groupArray !=null\");\r\n\t\treturn\t\t\r\n\t}\r\n\tif(this.groupArray == null || this.groupArray == undefined)this.groupArray = this.rootLink.state[props.componentName];\r\n\t\t\r\n\tvar container =  this.groupArray.add(props);\r\n\t\r\n\tthis.addToGroup(container, insertLocation);\t\r\n}\r\nPropGroup.prototype.createNewGroup = function(groupArr, componentName){\r\n\t\r\n\r\n\t\r\n\tif(this.groupArray != null && this.groupArray.pathToComponent != undefined && this.groupArray.pathToComponent == componentName){\r\n\t\t\r\n\t\tthis.reuseGroup(groupArr);\r\n\t\t\r\n\t}else{\t\t\r\n\t\tif(this.groupChild != undefined && this.groupChild.length != 0){\r\n\t\t\tthis.clearGroup();\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\tthis.groupChild = [];\r\n\t\t}\t\r\n\t\t\r\n\t\tthis.groupArray = this.rootLink.state[componentName];\r\n\t\tif(!this.groupArray)console.log(\"error не создан компонент \"+componentName);\r\n\t\t\r\n\t\tfor(var i=0; i<groupArr.length; i++){\r\n\t\t\t\r\n\t\t\tthis.createInGroup(groupArr[i]);\r\n\t}\t\t\r\n\t}\t\r\n}\r\nPropGroup.prototype.addToGroup = function(container, insertLocation){ \r\n\r\n          \t\t var loc = \"and\";       \r\n          if(insertLocation == \"front\")loc = 0;\r\n          if(insertLocation != undefined && typeof insertLocation == 'number'  )loc = insertLocation;  \t\t  \r\n                        \r\n\t\t\t\t\t\tthis.groupArray = this.rootLink.state[container.pathToCоmponent];\r\n\t\t\t\t\t\tcontainer.groupParent = this;\r\n\r\n\t\t\t\tif( loc == \"and\"){\r\n\r\n\t\t\t\t\t\tthis.htmlLink.appendChild(container.htmlLink);\r\n\r\n\t\t\t\t\t\t this.groupChild.push(container);\r\n\t\t\t container.groupId = this.groupChild.length-1;\r\n\r\n\t\t\t\t\t}else if(typeof loc == 'number'){\r\n\r\n\t\t\t\t\t\tthis.htmlLink.insertBefore(container.htmlLink, this.htmlLink.children[loc]);\r\n\r\n\t\t\t\t\t\tthis.groupChild.splice(insertLocation, 0, container);\r\n\r\n\t\t\t\t\t\t\tfor(var i=insertLocation ; i < this.groupChild.length; i++){\t\t\r\n\r\n\t\t\t\t\t\t\t\t\tthis.groupChild[i].groupId = i;\r\n\t\t\t\t}\t\t\t\r\n\t\t}\r\n}\r\nPropGroup.prototype.order= function(newOrderArr){ \r\n\r\n\tvar htmlLink = this.htmlLink;\r\n\t\r\n\r\n\tif(newOrderArr.length != this.groupChild.length){\r\n\t\t\r\n\t\tconsole.log(\"в массиве newOrderArr, должно быть столько же элементов сколько и в массиве this.groupChild\");\r\n\t\treturn;\r\n\t\t\r\n\t}\t\r\n\tvar newData = [];\r\n\t\r\n\tfor(var i=0; i<newOrderArr.length; i++){\r\n\t\t\r\n\t\tnewData.push(this.groupChild[newOrderArr[i]]);\r\n\t}\r\n\tthis.groupChild = newData;\r\n\thtmlLink.innerHTML = \"\";\r\n\t\r\n\tfor(var k=0; k< this.groupChild.length; k++){\r\n\t\t\r\n\t\thtmlLink.appendChild(this.groupChild[k].htmlLink);\r\n\t\t\r\n\t\tthis.groupChild[k].groupId = k;\r\n\t}\r\n}\r\n\r\nPropGroup.prototype.initGroup = function(containerName, propName){\r\n\r\n\t\t\tvar groupItems = this.htmlLink.children;\r\n\t\t\tvar countItems = 0;\r\n\r\n\t\t\t\tif(groupItems.length != 0){\r\n\r\n\t\t\t\t\t\tfor(var i=0; i< groupItems.length; i++ ){\r\n\r\n\t\t\t\t\t\t  var objToFind  = groupItems[i].dataset;\r\n\r\n\t\t\t\t                \tvar nameVirtualArray = null;\r\n                    var nameContainer = null;\t\t\t\t\t\r\n\r\n\t\t\t\t   \t\t\t\t   for (var key5 in objToFind){\r\n\r\n\t\t\t\t\t   \t\t\t\t\t  if(objToFind[key5] == \"container\" || objToFind[key5] == \"template\"){\r\n\r\n\t\t\t\t\t\t  \t\t\t\t\t\t  for(var key57 in this.rootLink.description.virtualArrayComponents){\r\n\r\n\t\t\t\t\t\t\t  \t\t\t\t\t\t\t  if(this.rootLink.description.virtualArrayComponents[key57].container == [key5] ){\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t\t  nameVirtualArray = key57;\r\n\t\t\t\t\t\t\t\t  nameContainer = key5;\r\n\t\t\t\t\t\t\t\t  countItems ++\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t  }\t\t\t\t\t\t  \r\n\r\n\t\t\t\t\t  \t\t\t   \t\t\t\t\tif(nameContainer == null)console.log(\"error- контейнера \"+key5+\" не найдено в нутри контейнера \"+containerName+\" index - \"+this.parentContainer.index+\" проверьте правельность названия ключей в html коде\");\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t   \tif(nameVirtualArray != null && this.rootLink.state[nameVirtualArray] ==  undefined){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray] = new HTMLixArray(\"virtual-array\", groupItems[i], this.rootLink, nameVirtualArray, undefined);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\tif(nameVirtualArray != null && nameContainer != null && objToFind[key5] == \"container\"){\r\n\t\t\t\t\t\tvar container = new Container(groupItems[i], \r\n\t\t\t\t\t                                 nameContainer, \r\n\t\t\t\t\t\t                          this.rootLink.description.virtualArrayComponents[nameVirtualArray].props, \r\n\t\t\t\t\t\t                           this.rootLink.description.virtualArrayComponents[nameVirtualArray].methods, \r\n\t\t\t\t\t\t                          this.rootLink.state[nameVirtualArray].data.length , \r\n\t\t\t\t\t\t                          nameVirtualArray, \r\n\t\t\t\t\t\t\t\t\t\t\t\t  this.rootLink,\r\n\t\t\t\t\t\t\t\t\t\t\t\t  false\r\n\t\t\t\t\t                               );\r\n\r\n\t\t\t\t\t    //container.renderType = \"container-inner\";\r\n\t\t\t\t\t\tcontainer.groupParent\t= this;\r\n\r\n\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray].data.push( container );\t\r\n\t\t\t\t\t\tthis.groupChild.push(container);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.groupArray = this.rootLink.state[nameVirtualArray];\r\n\t\t\t\t\t\t//console.log(this);\r\n\t\t\t\t\t\t//console.log('/////////////////');\r\n\t\t\t\t\t\tcontainer.groupId  = this.groupChild.length - 1; \r\n\t\t\t\t\t\tif(container.onCreatedContainer != undefined)container.onCreatedContainer();\r\n\r\n\t\t\t\t }else if(objToFind[key5] == \"template\"){\r\n\t\t\t\t\t \r\n\t\t\t\t\t this.groupArray = this.rootLink.state[nameVirtualArray];\r\n\t\t\t\t\t \r\n\t\t\t\t\t groupItems[i].setAttribute('style', \"\");\r\n\t\t\t\t\t groupItems[i].dataset[key5] = \"container\";\r\n\r\n\r\n\t\t\t\t\tthis.rootLink.state[nameVirtualArray].templateData = groupItems[i].cloneNode(true);\r\n\r\n\t\t\t\t\tgroupItems[i].remove();\r\n\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t\t\t }else{\r\n\t\t\t\t\t\t if(typeof propName != \"string\"){ \r\n\r\n\t\t\t\t\t\t \t\t\t\t\t\t     console.log(\"error- проверьте правельность селектора для ключа \"+propName[0]+\" в контейнере \"+containerName);\r\n\r\n\t\t\t\t\t\t \t\t\t\t\t\t }else{\r\n\r\n\t\t\t\t\t\t\t \t\t\t\t\t\t\t console.log(\"error- контейнера с ключем \"+key5+\" не найдено проверьте правельность названия ключей после data- в html коде\")\r\n\t\t\t\t\t\t }\r\n\r\n\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t   }\t\r\n\t\t    }\r\n\t\t\tif(groupItems.length > countItems )console.log(\"warn - элементов в свойстве \"+propName+\" контейнера \"+containerName+\" index - \"+this.parentContainer.index+\" создано меньше чем обьявлено в теге, проверьте корректность написания ключей \");\r\n\t\t}\r\n\r\n}","function PropGroupMix(htmlLink, propType, keyData1,  propName,  pathToComponent, parentComponent, rootLink, newProps){\r\n\t\r\n\t\r\n\t PropSubtype.call(this, htmlLink,  propType, propName,  pathToComponent, parentComponent, rootLink);\r\n\t \r\n\t \tthis.groupChild = [];\t\r\n\t \r\n\t \t\t\tif(newProps == undefined || newProps[propName] == undefined \r\n\t\t\t\t|| typeof newProps[propName] != \"object\" ||  newProps[propName].componentName == undefined ){\r\n\t\t\t\t\tthis.initGroup(keyData1, propName);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.removeAllChild();\r\n\t\t\t\t}\t\r\n\r\n}\r\n\r\nPropGroupMix.prototype = Object.create(PropSubtype.prototype);\r\n\r\nObject.defineProperty(PropGroup.prototype, 'constructor', { \r\n    value: PropGroupMix, \r\n    enumerable: false, // false, чтобы данное свойство не появлялось в цикле for in\r\n    writable: true });\r\n\r\n\r\nPropGroupMix.prototype.getProp= function(value){\r\n\t\t\t\tif(value == undefined){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar array_r = [];\r\n\t\t\t\t\t\t\r\n                         for(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t var item = this.groupChild[i].getAllProps();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t item.componentName = this.groupChild[i].pathToCоmponent;\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t array_r.push(item);\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\treturn array_r;\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(typeof value == \"number\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn this.groupChild[value];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tvar array_r = [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t \tfor(var i=0; i<this.groupChild.length; i++){\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t var item = this.groupChild[i].getAllProps(value);\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\tif(value.componentName != undefined)item.componentName = this.groupChild[i].pathToCоmponent;\r\n\t\t\t\t\t\t\t\t\tarray_r.push(item);\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn array_r;\t\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\r\n}\r\nPropGroupMix.prototype.setProp= function(value){\r\n\t\r\n\t\t\tif(Array.isArray(value) ){\r\n\t\t\t\t\r\n\t\t\t\tthis.clearGroup();\r\n\t\t\t\tfor(var i=0; i< value.length; i++){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(value[i].location != undefined ){\r\n\t\t\t\t\t\tvar location = value[i].location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdelete value[i].location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.createInGroup(value[i], location);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\r\n\r\n\t\t\t\t\tif(value.location != undefined ){\r\n\t\t\t\t\t\tvar location = value.location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdelete value.location;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.createInGroup(value, location);\t\t\t\r\n\t\t\t\t\r\n\t\t}else {\r\n\t\t\t\r\n\t\t\tconsole.log(\"не получается создать \"+value+\"в группе компонента\"+this.pathToCоmponent);\r\n\t\t}\r\n\t\treturn;\t\r\n}\r\nPropGroupMix.prototype.order= function(newOrderArr){ \r\n\r\n\tPropGroup.prototype.order.call(this, newOrderArr);\r\n\t\r\n}\r\nPropGroupMix.prototype.removeProp= function(value){\r\n\t\r\n\tPropGroup.prototype.removeProp.call(this, value);\r\n\t\r\n\t\r\n}\r\nPropGroupMix.prototype.initGroup = function(containerName, propName){\r\n\t\t\r\n\tPropGroup.prototype.initGroup.call(this, containerName, propName);\r\n\tif(this.groupArray != undefined)delete this.groupArray;\r\n\t\r\n}\t\r\n\r\nPropGroupMix.prototype.addToGroup = function(container, insertLocation){ \r\n\r\n\t\tPropGroup.prototype.addToGroup.call(this, container, insertLocation);\r\n\t\tif(this.groupArray != undefined)delete this.groupArray;\r\n}\r\nPropGroupMix.prototype.removeFromGroup = function(groupID){\r\n\t\tPropGroup.prototype.removeFromGroup.call(this, groupID);\r\n}\r\n\r\nPropGroupMix.prototype.createInGroup = function(props, insertLocation){\r\n\t\r\n\tif(props.componentName == undefined){\r\n\t\t\r\n\t\tconsole.log(\"error для использования метода createInGroup в параметре должно присутствовать поле props.componentName\");\r\n\t\treturn\t\t\r\n\t}\r\n\tvar vArr = this.rootLink.state[props.componentName];\r\n\tif(vArr == undefined)console.log(\"error не создан виртуальный массив \"+props.componentName);\r\n\t\r\n\tvar container =  vArr.add(props);\t\r\n\tthis.addToGroup(container, insertLocation);\t\r\n}\r\nPropGroupMix.prototype.clearGroup = function(){\r\n\t\r\n\t   var count = this.groupChild.length;\r\n\r\n\t\tif(count <= 0)return;\r\n\r\n\t\tfor(var i=0; i< count; i++){\r\n\t\t\t\r\n\t\t\tthis.groupChild[0].remove(true);\r\n\r\n\t}\r\n\t\tthis.groupChild.length = 0;\r\n}\r\n\r\n\r\n","function PropEventEmiter(htmlLink, propType, propName, eventMethod, pathToComponent, parentComponent, rootLink){\r\n\t\r\n\r\n\t\r\n\t PropSubtype.call(this, htmlLink, propType, propName,  pathToComponent, parentComponent, rootLink)\r\n\t// console.log(this);\r\n\t\r\n\t this.emiterKey = \"\";\r\n\t this.emiter = \"\";\r\n\t this.eventMethod = eventMethod.bind(this);\r\n\t\r\n\t\r\n\t  this.emiterKey = \"key\"+Math.floor(Math.random()*89999+10000);\r\n\t  this.emiter = this.rootLink.eventProps[this.type];\r\n\t  this.rootLink.eventProps[this.type].addListener(htmlLink, this.eventMethod, this.type, this.emiterKey);\r\n}\r\nPropEventEmiter.prototype = Object.create(PropSubtype.prototype);\r\n\r\nObject.defineProperty(PropEventEmiter.prototype, 'constructor', { \r\n    value: PropEventEmiter, \r\n    enumerable: false, // false, чтобы данное свойство не появлялось в цикле for in\r\n    writable: true });\r\n\r\nPropEventEmiter.prototype.getProp = function(){\r\n\t\r\n\treturn this.type;\r\n}\r\nPropEventEmiter.prototype.setProp= function(){\r\n\t\r\n\treturn false;\r\n}\r\nPropEventEmiter.prototype.removeProp= function(){\r\n\t\r\n\treturn false;\r\n}\r\nPropEventEmiter.prototype.disableEvent= function(){\r\n\t\r\n\r\n\t\tif(this[this.type+'-disable'] != undefined){\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis[this.type+'-disable'] = true;\r\n\r\n\t\t\t\tthis.emiter.removeListener(this.htmlLink);\r\n\r\n}\r\nPropEventEmiter.prototype.enableEvent = function(){\r\n\r\n\t\tif(this[this.type+'-disable'] == undefined){\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdelete this[this.type+'-disable'];\r\n\r\n\t\tthis.emiter.addListener(this.htmlLink, this.eventMethod, this.type, this.emiterKey);\r\n}\r\n\r\n/*PropEventEmiter.prototype.component = function(){\r\n\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}*/\r\n/////////////////////////////////////////////\r\n\r\n\r\n\r\n\r\n\r\nfunction PropStandartEvent(htmlLink, propType, propName, eventMethod, pathToComponent, parentComponent, rootLink){\r\n\t\r\n\t\r\n\t\r\n\t PropSubtype.call(this, htmlLink, propType, propName,  pathToComponent, parentComponent, rootLink);\r\n\t //console.log(this);\r\n\t \r\n\t this.events = {};\r\n\t \r\n\t this.events[this.type] = eventMethod.bind(this);\t\r\n\t this.htmlLink.addEventListener(this.type, this.events[this.type]);\r\n\t \r\n\r\n\r\n}\r\nPropStandartEvent.prototype = Object.create(PropSubtype.prototype);\r\n\r\nObject.defineProperty(PropStandartEvent.prototype, 'constructor', { \r\n    value: PropStandartEvent, \r\n    enumerable: false, // false, чтобы данное свойство не появлялось в цикле for in\r\n    writable: true });\r\n/*\t\r\nPropStandartEvent.prototype.component = function(){\r\n\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}*/\r\nPropStandartEvent.prototype.getProp= function(){\r\n\t\r\n\treturn this.type;\r\n}\r\nPropStandartEvent.prototype.setProp= function(value, eventMethod){\r\n\t\r\n\t\r\n\t\t\tif(eventMethod == undefined){\t\t\t\r\n\t\t\t\tconsole.log(\"не определен обработчик для события-\"+value);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t\tthis.events[value] = eventMethod.bind(this);\t\t\r\n\t\t\t\tthis.htmlLink.addEventListener(value , this.events[value]);\t\r\n\t\t\t\treturn;\r\n\t\r\n}\r\nPropStandartEvent.prototype.removeProp= function(value){\r\n\r\n\t\tthis.htmlLink.removeEventListener(value, this.events[value]);\t\t\r\n\t\tdelete this.events[value];\r\n\t\treturn;\r\n}\t\t\r\n\r\nPropStandartEvent.prototype.disableEvent = function(value){\r\n\r\n\t\tif(this.events[value] != undefined){\r\n\r\n\t\t\t\tif(this[value+'disable'] != undefined){\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t\t\t\tthis[value+'disable'] = value;\r\n\r\n\t\t\t\tthis.htmlLink.removeEventListener(value, this.events[value]);\r\n\r\n\t\t\t}else{\r\n\r\n\t\t\t\tconsole.log(\"обработчика с таким событием не найдено\");\r\n\t}\r\n\r\n\t}\r\nPropStandartEvent.prototype.enableEvent = function(value){\r\n\r\n\t\tif(this.events[value] != undefined){\r\n\r\n\t\t\t\tif(this[value+'disable'] == undefined){\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t\t\tdelete this[value+'disable'];\r\n\r\n\t\t\t\tthis.htmlLink.addEventListener(value, this.events[value]);\r\n\r\n\t\t\t}else{\r\n\r\n\t\t\t\tconsole.log(\"обработчика с таким событием не найдено\");\r\n\t}\r\n}\r\nPropStandartEvent.prototype.emitEvent = function(eventName){\r\n\t\r\n\tthis.events[eventName]()\r\n\t\r\n}","function PropVariant(htmlLink, propType,   propName,  pathToComponent, parentComponent, rootLink, newProps){\r\n\t\r\n\t\r\n\t\r\n\t PropSubtype.call(this, htmlLink,  propType, propName,  pathToComponent, parentComponent, rootLink);\r\n\t \r\n\t this.renderChild = null;\r\n\t \r\n\t \t\t\t\tif(newProps == undefined || newProps[propName] == undefined \r\n\t\t\t\t|| typeof newProps[propName] != \"object\" ||  newProps[propName].componentName == undefined){\r\n\r\n\t\t\t\t\tthis.initRenderVariant();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.removeAllChild();\r\n\t\t\t\t}\r\n\r\n\r\n}\r\nPropVariant.prototype = Object.create(PropSubtype.prototype);\r\n\r\nObject.defineProperty(PropVariant.prototype, 'constructor', { \r\n    value: PropVariant, \r\n    enumerable: false, // false, чтобы данное свойство не появлялось в цикле for in\r\n    writable: true });\r\n/*\r\nPropVariant.prototype.component = function(){\r\n\r\n\treturn this.rootLink.state[this.pathToCоmponent];\r\n}\r\nPropVariant.prototype.removeAllChild = function(){\t\r\n\t\r\n\tvar children = this.htmlLink.children;\r\n\t\r\n\tvar count = children.length;\r\n\t\r\n\tfor(var p=0; p< count ; p++ ){\r\n\t\r\n\t\tchildren[0].remove();\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n*/\r\nPropVariant.prototype.getProp= function(value){\r\n\t\r\n\t\t\t\tvar return_obg = {};\r\n\t\t\t\r\n\t\t    if(value == undefined){\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\tif(this.renderChild.type == \"container\"){\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAllProps();\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(this.renderChild.type == \"array\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAll();\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\treturn_obg[\"componentName\"] = this.renderChild.pathToCоmponent;\r\n\t\t\t\treturn return_obg;\r\n\r\n\t\t\t}else if(typeof value == \"object\"){\r\n\t\t\t\t\r\n\t\t\t\tif(this.renderChild.type == \"container\"){\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAllProps(value);\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(this.renderChild.type == \"array\"){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn_obg = this.renderChild.getAll(value);\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\tif(value.componentName != undefined){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn_obg[\"componentName\"] = this.renderChild.pathToCоmponent;\r\n\t\t\t\t}\r\n\t\t\t\treturn return_obg;\r\n\r\n\t\t\t}\r\n\t\r\n}\r\nPropVariant.prototype.setProp= function(value){\r\n\t\r\n\t\t\t\tif(typeof value == \"string\" ){\r\n\r\n\t\t\t\t\t\t\t\tthis.render(value);\t\r\n\r\n\t\t\t}else if(typeof value == \"object\" &&  value.renderType != undefined  && value.renderType == \"container-inner\"){\r\n\r\n\t\t\t\t\t\t\t\tthis.renderByContainer(value);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t}else if(typeof value == \"object\" && value.componentName != undefined){\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.setOrCreateAndRender(value);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\r\n\t\t\t\tconsole.log(\"не удается отрисовать контейнер в render-variant если вы хотите отрисовать компонент то используйте текстовый параметр\")\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\r\n}\r\nPropVariant.prototype.removeProp= function(value){\r\n\t\r\n\t\t\tvar isRemove = null;\r\n\r\n          if(this.renderChild != null && this.renderChild.renderType == \"container-inner\"){\r\n\t\t\t  \r\n\t\t\t    isRemove = this.renderChild.remove(true);\r\n\t\t  }\r\n\t\t\t\t\r\n\t\t if(isRemove == null){\r\n\r\n\t\t\t \t\t\t this.renderChild.renderParent = null;\t\r\n\t\t }\r\n\t     this.renderChild = null;\r\n\r\n\t     \t\t this.htmlLink.innerHTML = \"\";\r\n\t\t\t\t return;\r\n\t\r\n}\r\nPropVariant.prototype.render = function(nameComponent){\r\n\r\n\tif(this.renderChild == null && nameComponent == undefined ){\r\n\r\n\t\t\t    console.log(\"не известен компонент для рендера\");\r\n\t\treturn  \"undefinit render-variant\";\r\n\t}\r\n\tif(nameComponent != undefined && this.rootLink.state[nameComponent] != undefined){\r\n\t\t\r\n\t\tif(this.renderChild != null && this.renderChild.renderParent != undefined && this.renderChild.renderParent != null)this.renderChild.renderParent = null;\r\n\t\t\r\n\t\tthis.renderChild = this.rootLink.state[nameComponent];\r\n\t\t\r\n\t\tthis.rootLink.state[nameComponent].renderParent = this;\t\t\r\n\r\n\t\tthis.htmlLink.innerHTML = \"\";\r\n\r\n\t\tthis.htmlLink.appendChild(this.renderChild.htmlLink);\r\n\t\t\r\n\t}else{\r\n\t\t\t\t\r\n          console.log(\"не найден компонент \"+nameComponent+\" для рендера\");\r\n\t\treturn  \"undefinit render-variant\";\r\n\t}\r\n\r\n}\r\nPropVariant.prototype.renderByContainer = function(containerLink){\r\n\r\n\t\tif(containerLink != undefined && containerLink.renderType == \"container-inner\"){\r\n\t\tif(this.renderChild != null && this.renderChild.renderType != undefined && this.renderChild.renderType == \"container-inner\")this.renderChild.remove(true);\r\n\r\n\t\tthis.renderChild = containerLink;\r\n\t\tthis.renderChild.renderParent = this;\r\n\r\n\t\t\t}else{\r\n\t\tconsole.log(\" для метода renderByContainer необходимо прередать container с renderType='container-inner'\");\r\n\t\treturn \"undefined render-variant-htmlLink\"\r\n\t}\r\n\tthis.htmlLink.innerHTML = \"\";\r\n\tthis.htmlLink.appendChild(this.renderChild.htmlLink);\r\n}\r\n\r\nPropVariant.prototype.setOrCreateAndRender = function(objWidthProps){\r\n\r\n        if(objWidthProps.componentName == undefined){\r\n\t\t\t\r\n\t\t\tconsole.log(\"забыли указать имя компонента  .componentName в обьекте-параметре objWidthProps\");\r\n\t\t\t\r\n\t\t\treturn;\r\n\t\t}\t\r\n    var component = this.rootLink.state[objWidthProps.componentName];\r\n\r\n    if(component.renderType == \"virtual-array\"){\r\n\t\t\r\n\t\t if(this.renderChild != null && this.renderChild.pathToCоmponent != undefined &&  this.renderChild.pathToCоmponent == objWidthProps.componentName){\r\n\r\n\t\t\t this.renderChild.setAllProps(objWidthProps);\r\n\t\t\t \r\n\t\t }else{\r\n\t\t\t\t\r\n\t\t\t \tvar container = component.add(objWidthProps);\r\n\r\n\t\t\t\tthis.renderByContainer(container);\r\n\t\t\t\t\t \r\n\t\t }\t\t\r\n\t}else if(component.renderType == \"container-outer\"){\r\n\t\t\r\n\t\t\r\n\t\tcomponent.setAllProps(objWidthProps);\r\n\t\t\r\n\t\tthis.render(objWidthProps.componentName);\r\n\t\t\t\t\r\n\t\t\r\n\t}else if(component.renderType == \"array\"){\r\n\t\t\r\n\t\tif(objWidthProps.data == undefined){\r\n\t\t\t\r\n\t\t\tconsole.log(\"для отображения массива с новыми данными, в параметре objWidthProps.data должен содержаться массив с объектами\");\r\n\t\t\t\r\n\t\t\treturn;\r\n\t\t}\t\r\n\t\t\tthis.render(objWidthProps.componentName);\r\n\t\t\t\r\n\t\t\tcomponent.reuseAll(objWidthProps.data);\r\n\t}\r\n}\r\nPropVariant.prototype.initRenderVariant = function(){\r\n\r\n\t\t\tvar objIs = this.htmlLink.firstElementChild;\r\n\t\r\n\t\tif(objIs != undefined){\r\n\r\n\t\t\t\t\tvar objToFind = objIs.dataset;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tfor (var key5 in objToFind){\r\n\t\t\t\tif(objToFind[key5] == \"array\" ){\r\n\r\n\t\t\t\t\tif(this.rootLink.state[key5] == undefined && this.rootLink.description[key5] != undefined)this.rootLink.arrayInit(objIs, this.rootLink.description, key5);\r\n\t\t\t\t\tif(this.rootLink.state[key5] == undefined && this.rootLink.description[key5] == undefined && this.rootLink.description.fetchComponents != undefined && this.rootLink.description.fetchComponents[key5] != undefined)this.rootLink.arrayInit(objIs, this.rootLink.description.fetchComponents, key5);\r\n\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t                this.renderChild.renderParent = this;\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif(objToFind[key5] == \"container\" ){\r\n\r\n\t\t\t\t\t\tif(this.rootLink.description[key5] != undefined &&  this.rootLink.state[key5] == undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.containerInit(objIs, this.rootLink.description, key5);\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.rootLink.state[key5] != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild.renderParent = this;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (this.rootLink.description[key5] != undefined &&  this.rootLink.state[key5] != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild.renderParent = this;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else if (this.rootLink.description[key5] == undefined &&  this.rootLink.state[key5] == undefined && this.rootLink.description.fetchComponents != undefined && this.rootLink.description.fetchComponents[key5] != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.containerInit(objIs, this.rootLink.description.fetchComponents, key5);\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild = this.rootLink.state[key5];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.renderChild.renderParent = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar nameVirtualArray = null;\r\n\t\t\t\t\t\t\t                             var  nameContainer = null;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor(var key4 in this.rootLink.description.virtualArrayComponents){\r\n\r\n\t\t\t\t\t\t\t  \t\t\t\t\t\t\t  if(this.rootLink.description.virtualArrayComponents[key4].container == [key5] ){\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t\t  nameVirtualArray = key4;\r\n\t\t\t\t\t\t\t\t  nameContainer = key5;\r\n\r\n\t\t\t\t\t\t\t\t  \t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(nameVirtualArray == null || nameContainer == null){\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"error- компонента \"+key5+\"  не найдено  убедитесь в коректности названия ключей после data\");\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(nameVirtualArray != null && this.rootLink.state[nameVirtualArray] ==  undefined){\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tvar selector = undefined;\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\tif(this.rootLink.description.virtualArrayComponents[nameVirtualArray].selector != undefined) selector = this.rootLink.description.virtualArrayComponents[nameVirtualArray].selector;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray] = new HTMLixArray(\"virtual-array\", objIs, this.rootLink, nameVirtualArray, selector);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(nameVirtualArray != null && nameContainer != null){\r\n\t\t\t\t\t\t\t\t\t\tvar container = new Container(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobjIs, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnameContainer, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.description.virtualArrayComponents[nameVirtualArray].props, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.description.virtualArrayComponents[nameVirtualArray].methods, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray].data.length , \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnameVirtualArray, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.rootLink);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t//container.renderType = \"container-inner\";\r\n\t\t\t\t\t\t\t\t\t\t\tcontainer.renderParent = this;\r\n\t\t\t\t\t\t\t\t\t\t\tthis.rootLink.state[nameVirtualArray].data.push( container );\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tthis.renderChild =  container;\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t\t}\t\r\n\r\n\t}","function HTMLixState(StateMap){\r\n\tthis.description = StateMap;\r\n\r\n\r\n\tthis.state = {};\r\n\tthis.eventProps = {};\r\n\tthis.stateMethods = {};\r\n\tthis.stateProperties = {};\r\n\r\n\t\tif(StateMap.eventEmiters != undefined){\r\n\r\n\t\t\t     for (var key in StateMap.eventEmiters){ \r\n             if(StateMap.eventEmiters[key].behavior != undefined){\r\n\t\t\t\t \r\n\t\t\t\t this.eventProps[key] = new EventEmiter(key, StateMap.eventEmiters[key].prop, {}, {}, StateMap.eventEmiters[key].behavior, this);\r\n\t\t\t\t \r\n\t\t\t }else{\r\n\t\t\t\t \r\n\t\t\t\t this.eventProps[key] = new EventEmiter(key, StateMap.eventEmiters[key].prop, {}, {} );\r\n\t\t\t\t \r\n\t\t\t }\r\n   \t\t    \r\n\r\n\t\t }\r\n\t}\t\t\r\n\tfor (var key in StateMap){\r\n\r\n\t\t\t\t\t\tif(key == \"stateSettings\"){ \r\n\r\n\t\t\t\t\t\tthis.stateSettings = StateMap[key];\r\n\t\t\tcontinue;\r\n\t\t}\t\t\r\n\t\tif(key == \"stateMethods\"){ \r\n\r\n\t\t\t\t\t\tthis.stateMethods = StateMap[key];\r\n\t\t\tcontinue;\r\n\t\t}\t\t\r\n\t\tif(key == 'stateProperties'){\r\n\r\n\t\t\tthis.stateProperties = StateMap[key];\r\n\t\t\tcontinue;\t\t\t\t\r\n\t\t}\t\t\r\n\t\tif(key == 'eventEmiters' || key ==  'virtualArrayComponents'){\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t}\r\n\t\tif(key == \"fetchComponents\"){\r\n\r\n\t\t\t\t\t\tvar context = this;\r\n\t\t\t  var StateMap1 = StateMap.fetchComponents;\r\n\t\t\t \r\n\t\t\t if(StateMap.stateSettings == undefined)StateMap.stateSettings = {};\r\n              if (StateMap.stateSettings.templatePath == undefined) StateMap.stateSettings.templatePath = \"/template/template.html\";\r\n                \t\t\t \r\n\r\n\t\t\t\t\t\tthis.fetchTemplates(function(divEl){\r\n\t\t\t\tfor(var key10 in StateMap1){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar node = divEl.querySelector('[data-'+key10+']');\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(node == undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Error - в Html коде нет атрибута data-\"+key10+\" для компонента из объекта fetchComponents\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar type = node.dataset[key10];\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(type==\"array\"){\r\n\r\n\t\t\t\t\t\t\t\t\tcontext.arrayInit(node, StateMap1, key10);\r\n\r\n\t\t\t\t\t\t\t}else if(type==\"container\"){\r\n\r\n\t\t\t\t\t\tcontext.containerInit(node, StateMap1, key10);\r\n\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcontext.verifyFetchComponents(divEl);\r\n\r\n\t\t\t\t\t\t\t},  StateMap.stateSettings.templatePath);\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\t\t\tinitStandartComponents(this, StateMap, key);\r\n\t}\r\n\r\n\t\t\t\tfunction initStandartComponents(context, StateMap, key){\r\n\r\n\t\t\t\tvar node = document.querySelector('[data-'+key+']');\r\n\r\n\t\t\t\t\tif(node == undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Error - в Html коде нет атрибута data-\"+key+\" проверьте корректность названия ключей в html\");\r\n\t\t\t\t}\r\n\t\t\t\tvar type = node.dataset[key];\t\t\r\n\t\t\t\tif(type==\"array\"){\r\n\r\n\t\t\t\t\t\t\t\tcontext.arrayInit(node, StateMap, key);\t\t\t\r\n\r\n\t\t\t\t\t\t}else if(type==\"container\"){\r\n\r\n\t\t\t\t\tcontext.containerInit(node, StateMap, key);\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"erorr - неправильно указан тип для контейнера либо массива \"+key);\r\n\t\t\t\t}\t\r\n\t    }\r\n\r\n  // console.log(\"source-map\");\t\t\r\n}\r\n\r\nHTMLixState.prototype.containerInit = function(node, StateMap, key){\r\n\r\n\t\tif(this.state[key] != undefined)return;\r\n\tif(node == null)node = document.querySelector('[data-'+key+']');\r\n    if(node == null || node == undefined)console.log(\"error в html разметке не найден контейнер \"+key);\t\r\n\tif(StateMap[key]== undefined)console.log(\"error- проверьте корректность parent ключей в html - коде\");\r\n\tthis.state[key] = new Container(node, key,  StateMap[key].props, StateMap[key].methods, null, key, this);\r\n\r\n\t}\r\nHTMLixState.prototype.arrayInit = function(node, StateMap, key){\r\n\r\n\t       \t\t\tif(this.state[key] != undefined)return;\r\n\t\t\tif(node == null)node = document.querySelector('[data-'+key+']');\r\n            if(node == null || node == undefined)console.log(\"error в html разметке не найден массив \"+key);\t\r\n\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\tvar lengthChildren = node.children.length; \r\n\t\t\tif(StateMap[key].container == undefined)console.log(\"error- забыли указать контейнер для массива \" +key);\r\n\t\t\tvar containerHTML = node.querySelectorAll('[data-'+StateMap[key].container+']');\r\n\t\t\t\r\n\t\t\tvar array_selector = undefined;\r\n\t\t\t\r\n\t\t\tif(StateMap[key].selector != undefined) array_selector = StateMap[key].selector;\r\n\r\n\r\n\t\t\t\t\t\t\t\t\tif(containerHTML.length == 0)console.log(\"error - в html коде нет атрибута data-\"+StateMap[key].container+\" либо не создан шаблон для массива \"+key);\r\n\t\t\tthis.state[key] = new HTMLixArray(node, containerHTML[0], this, key, array_selector);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t\tif(StateMap[key][\"arrayProps\"] !=undefined ){\r\n\r\n\t\t\t\t\t\t\t\tthis.state[key][\"props\"] = {};\r\n\r\n\t\t\t\t\t\t\t\tfor (var t=0; t < StateMap[key][\"arrayProps\"].length; t++){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(typeof StateMap[key][\"arrayProps\"][t] == \"string\"){\r\n\t\t\t\t\t\t\tvar htmlLink = this.state[key].htmlLink.querySelectorAll('[data-'+key+'-'+StateMap[key][\"arrayProps\"][t]+']')[0];\r\n\t\t\t\t\t\t\tif(htmlLink == undefined)htmlLink  = this.state[key].htmlLink;\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state[key][\"props\"][ StateMap[key][\"arrayProps\"][t] ] \t= constructorProps( htmlLink, key, StateMap[key][\"arrayProps\"][t], StateMap[key][\"arrayMethods\"][ StateMap[key][\"arrayProps\"][t] ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state[key],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\t\t\t\t\t\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar string =  StateMap[key][\"arrayProps\"][t][0];\r\n\r\n\t\t\t\t \t\t\t\t\t\t\tvar selector = StateMap[key][\"arrayProps\"][t][2];\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar htmlLinkToProp  = this.state[key].htmlLink;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selector != \"\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlLinkToProp = this.state[key].htmlLink.querySelector(selector);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(htmlLinkToProp == undefined)console.log(\"error не возможно найти селектор для свойства \"+selector+\" массива \"+key+\" проверьте правильность селектора\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t \r\n\t\t\t\t\t\t\tthis.state[key][\"props\"][ string ] = constructorProps(htmlLinkToProp, key,\tStateMap[key][\"arrayProps\"][t], \r\n\t\t\t\t\t\t\t                                                        StateMap[key][\"arrayMethods\"][  string ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state[key],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\t\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tvar i = 0;\r\n\t\t\tif(containerHTML[0].dataset[StateMap[key].container] == \"template\"){\r\n\t\t\t\t                 \r\n\t\t\t\t\t\t\t\t containerHTML[0].dataset[StateMap[key].container] = \"container\";\r\n\r\n\t\t\t\t\t\t\t\tcontainerHTML[0].setAttribute('style', \"\");\r\n\r\n\t\t\t\t\t\t\t\tthis.state[key].templateData = containerHTML[0].cloneNode(true);\r\n\r\n\t\t\t\t\t\t\t\tcontainerHTML[0].remove();\r\n\r\n\t\t\t\tif (containerHTML.length == 1 )return;\r\n\t\t\t\ti = 1;\r\n\r\n\t\t\t}\t\t\r\n\r\n\r\n\t\t\t\tfor( var j=0, i; i < containerHTML.length; j++, i++){\r\n\r\n\t\t\t\t\t\tif(containerHTML[i].dataset[StateMap[key].container] != \"container\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"erorr - неправильно указан тип для контейнера \"+StateMap[key].container+\" index - \"+i+ \" массива \"+key);\r\n\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\t\tvar container23 = new Container(containerHTML[i], StateMap[key].container,  StateMap[key].props, StateMap[key].methods, j, key, this);\r\n\t\t\t\t\t\t// container23.renderType = \"container-inner\";\r\n\t\t\t\t\t\tthis.state[key].data[j] = container23 ;\r\n\r\n                        \t\t\t\t}\r\n\t\t\t\tif(this.state[key].data.length < lengthChildren ){\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"warn - контейнеров в массиве \"+key+\" создано меньше чем обьявлено в html, проверьте корректность написания всех ключей в html коде либо удалите лишние элементы не соответствующие контейнеру - \"+StateMap[key].container);\t\r\n\t\t\t\t}\r\n             \tif(this.state[key].data.length > lengthChildren){\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"warn - контейнеров \"+StateMap[key].container+\" в массиве \"+key+\" создано больше чем обьявлено в html, проверьте что контейнеры распологаются в массиве непосредственно, старайтесь избегать создания порежуточных тегов\");\r\n\t\t\t\t}\t\r\n}\r\n\r\nHTMLixState.prototype.verifyFetchComponents = function(divEl){\r\n\t\r\n\tif(this.description.virtualArrayComponents != undefined){\r\n\t\t\r\n\t\tfor(var key in this.description.virtualArrayComponents){\r\n\t\t\t\r\n\t\t\tif(this.state[ key ] == undefined){\r\n\t\t\t\t\r\n\t\t\t\tvar containerHTML = divEl.querySelector('[data-'+this.description.virtualArrayComponents[key].container+']');\r\n\r\n\t\t\t      if(containerHTML == null ){\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  console.log(\"Error в шаблоне \"+ this.stateSettings.templatePath+\" не найдено компонента \"+key+\" - виртуального массива,  проверьте его наличие и правильность ключей в шаблоне\");\r\n\t\t\t\t\t  return;\r\n\t\t\t\t\t  \r\n\t\t\t\t  }\r\n\t\t\t\t  this.state[ key ] = new HTMLixArray(\"virtual-array\", containerHTML, this, key, undefined);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\r\n       \t\tif(this.stateMethods != undefined && this.stateMethods.onLoadAll != undefined)this.stateMethods.onLoadAll.bind(this)();\r\n\t}\r\n}\r\nHTMLixState.prototype.addContainer=  function (stateNameProp, properties, insertLocation){\r\n\r\n\r\n\t\tif(this.state[stateNameProp] == undefined)console.log(\"не получается найти компонент\"+stateNameProp+\"в this.state\");\r\n\r\n\t\tvar stateArray = this.state[stateNameProp];\r\n\t\t\r\n\t\t//console.log(stateArray);\r\n\r\n\t\tif(stateArray.type != \"array\"){\r\n\r\n\t\t\t\tconsole.log(\"создать контейнер можно только в массиве array\");\r\n\t\treturn;\t\t\r\n\t}\r\n\tif( insertLocation != undefined  && insertLocation != \"and\" && isNaN(insertLocation)){\r\n\r\n\t\t\t\tconsole.log(\"Введите корректную позицию для вставки контейнера в массив \"+stateNameProp);\r\n\t\treturn;\r\n\t}\r\n\tvar index = 0;\r\n\r\n\t\tif(insertLocation == undefined || insertLocation == \"and\"  ){ \r\n\r\n\t\t\tindex = stateArray.data.length;\r\n\r\n\t\t\t}else if(typeof insertLocation == 'number' ){\r\n\r\n\t\t\t\tif(insertLocation > stateArray.data.length) insertLocation = stateArray.data.length;\r\n\r\n\t\t\t\tindex = insertLocation;\r\n\r\n\t\t\t}\r\n\tvar Link = stateArray.templateData.cloneNode(true);\t\r\n\r\n\t\t\t\t\t\t\t\t\t       var desc =this.description[stateNameProp];\r\n\t\t\t\t\t\t\t\t\t\t   \r\n\t\t\t\t\t\t\t\t\t\t   //console.log(this.description);\r\n\r\n\t   \t   if(desc == undefined){ \r\n\r\n\t\t    if(this.description.virtualArrayComponents != undefined && this.description.virtualArrayComponents[stateNameProp] != undefined){ \r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\tdesc = this.description.virtualArrayComponents[stateNameProp];\r\n\t\t\t\t\t\t\t   \r\n\t\t   }else {\r\n\r\n\t\t\t   \t\t   if(this.description.fetchComponents !=undefined && this.description.fetchComponents[stateNameProp] != undefined){\r\n\r\n\t\t\t   \t\t\t\t\t\t desc = this.description.fetchComponents[stateNameProp];\r\n\t\t\t   }else{\r\n\r\n\t\t\t\t   \t\t\t\t   console.log(\"eror- не получается найти описание для компонета \"+stateNameProp+\" проверьте существуют ли обьекты fetchComponents, virtualArrayComponents в описании, параметре StateMap\");\r\n\t\t\t   }\t\t\t  \r\n\t\t   }\r\n\t   }\r\n\r\n\r\n\t\t\t\tvar container = new Container(Link, desc.container,  desc.props,\r\n\t\t\t\t\t\t\t\t\tdesc.methods, index, stateNameProp, this, true, properties);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t//container.renderType = \"container-inner\";\r\n\r\n\t\t\t\tvar htmlLink = stateArray.htmlLink;\r\n\t\t\t\t\r\n\t\t\t\tif(stateArray.selector != undefined ){\r\n\t\t\t\t\t\r\n\t\t\t\t\thtmlLink = htmlLink.querySelector(stateArray.selector);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(htmlLink == null || htmlLink == undefined)console.log(\"error - не удается найти селектор \"+stateArray.selector+\" для массива \"+stateNameProp);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\tif(insertLocation == undefined || insertLocation == \"and\" ){ \r\n\r\n\t\t\t\tif(this.description.virtualArrayComponents == undefined){ \r\n\r\n\t\t\t\t\t\thtmlLink.appendChild(Link);\r\n\r\n\t\t\t\t\t}else{\t\r\n\r\n\t\t\t\t\tif(this.description.virtualArrayComponents[stateNameProp] == undefined)htmlLink.appendChild(Link);\r\n\t\t}\t\r\n\t\tstateArray.data.push(container);\r\n\t}else if(typeof insertLocation == 'number'){\r\n\r\n\t\t\t\tif(this.description.virtualArrayComponents == undefined ){\r\n\r\n\t\t\t\t            htmlLink.insertBefore(Link, htmlLink.children[insertLocation]);\r\n\t\t}else{\r\n\r\n\r\n\t\t\t\t\t\t\t\t\tif(this.description.virtualArrayComponents[stateNameProp] == undefined)htmlLink.insertBefore(Link, htmlLink.children[insertLocation]);\r\n\t\t}\r\n\t\tstateArray.data.splice(insertLocation, 0, container);\r\n\r\n\t\tfor(var i=insertLocation ; i < stateArray.data.length; i++){\r\n\r\n\t\t\tstateArray.data[i].index = i;\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tif(properties != undefined)container.setAllProps(properties);\r\n\r\n\treturn container;\r\n}\r\nHTMLixState.prototype.changeOrder = function(stateNameProp, newOrderArr){\r\n\t\r\n\tvar stateArray = this.state[stateNameProp];\r\n\t\r\n\tvar htmlLink = stateArray.htmlLink;\r\n\t\r\n\tif(stateArray.selector != undefined ){\r\n\t\t\t\t\t\r\n\t\t\t\t\thtmlLink = htmlLink.querySelector(stateArray.selector);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(htmlLink == null || htmlLink == undefined)console.log(\"error - не удается найти селектор \"+stateArray.selector+\" для массива \"+stateNameProp);\r\n\t\t\t\t\t\r\n\t}\t\r\n\tif(newOrderArr.length != stateArray.data.length){\r\n\t\t\r\n\t\tconsole.log(\"в массиве newOrderArr, должно быть столько же элементов скольео и в массиве stateNameProp.data\");\r\n\t\treturn;\r\n\t\t\r\n\t}\t\r\n\tvar newData = [];\r\n\t\r\n\tfor(var i=0; i<newOrderArr.length; i++){\r\n\t\t\r\n\t\tnewData.push(stateArray.data[newOrderArr[i]]);\r\n\t}\r\n\tstateArray.data = newData;\r\n\tstateArray.htmlLink.innerHTML = \"\";\r\n\t\r\n\tfor(var k=0; k<stateArray.data.length; k++){\r\n\t\t\r\n\t\tstateArray.htmlLink.appendChild(stateArray.data[k].htmlLink);\r\n\t\t\r\n\t\tstateArray.data[k].index = k;\r\n\t}\r\n}\r\n\r\n\r\nHTMLixState.prototype.removeAll = function(stateNameProp, widthChild){\t\r\n\r\n\t\tif(this.state[stateNameProp].type != \"array\")return;\r\n\r\n\t\tfor (var index =0; index < this.state[stateNameProp].data.length; index++){\r\n\t\t\t\r\n\t\t\t     this.clearContainerProps(stateNameProp, index, widthChild);\r\n\r\n\t\t\tthis.state[stateNameProp].data[index].htmlLink.remove();\r\n\t}\r\n\tthis.state[stateNameProp].data.length = 0;\r\n\tthis.state[stateNameProp].data = [];\r\n\r\n}\r\n\r\nHTMLixState.prototype.removeByIndex = function(stateNameProp, index, widthChild){\r\n\r\n\tthis.removeByIndexes(stateNameProp, [index], widthChild);\r\n}\r\n\r\n\r\nHTMLixState.prototype.removeByIndexes = function(stateNameProp, indexArray, widthChild ){\r\n\r\n\t\tif(this.state[stateNameProp].type != \"array\")return;\r\n\tif(indexArray.length == undefined){\r\n\r\n\t\t\t\tconsole.log(\"error - некорректно задан второй аргумент для функции removeByIndexes, проверьте что это не пустой массив, а также номер эелемента для удаления\" );\r\n\t\treturn;\r\n\t}\r\n\r\n\tfor(var r = 0; r < indexArray.length; r++){\r\n\r\n\t\t\t\tif(indexArray[r] > this.state[stateNameProp].data.length-1){\r\n\r\n\t\t\t\t\t\tconsole.log(\"error - индекс для удаления \"+indexArray[r]+\" больше количества элементов в массиве \"+stateNameProp);\r\n\t\t\treturn;\r\n\t\t}\t\t\r\n\t\t           this.clearContainerProps(stateNameProp, indexArray[r], widthChild);\r\n\r\n\t\t          this.state[stateNameProp].data[indexArray[r]].htmlLink.remove();\r\n\r\n\t\t\t}\r\n\t\tvar newData = this.state[stateNameProp].data.filter(  function(container, i) {\r\n\r\n\t\t\t\t\t\t\t\t\treturn ! indexArray.some(function(numb){ return numb == i });\r\n\t\t});\t\r\n\t\tthis.state[stateNameProp].data = newData;\r\n\tfor(var i=0 ; i < this.state[stateNameProp].data.length; i++){\r\n\r\n\t\t\tthis.state[stateNameProp].data[i].index = i;\r\n\t}\r\n\r\n\t}\r\n\t\r\nHTMLixState.prototype.clearContainerProps = function(stateNameProp, index, widthChild){\r\n\t\r\n\t                var container = this.state[stateNameProp].data[index];\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (key in  container.props){\r\n\r\n\t\t\t\t\t\t\tif(container.props[key].emiterKey != undefined){\r\n\t\t\t\t\t\t\tthis.eventProps[container.props[key].type].removeListener(container.props[key].htmlLink);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(container.props[key].events != undefined){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor(key1 in container.props[key].events){\r\n\t\t\t\t\t\t\tcontainer.props[key].htmlLink.removeEventListener(key1, container.props[key].events[key1]);\t\t\r\n\t\t\t\t\t\t\tdelete container.props[key].events[key1]\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(widthChild != undefined && widthChild == true && container.props[key].renderChild  != undefined && container.props[key].renderChild.renderType == \"container-inner\"){\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontainer.props[key].renderChild.remove(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(widthChild != undefined && widthChild == true && container.props[key].groupChild != undefined && container.props[key].groupChild.length > 0){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcontainer.props[key].clearGroup();\r\n\t\t\t\t\r\n                    /*\r\n\t\t\t\t\t\t                    var indexesArr = [];\t\t\t\t\t\t\r\n\t\t\t\t\tfor(var it =0; it < container.props[key].groupChild.length; it++){\r\n\t\t\t\t\t\tindexesArr.push(container.props[key].groupChild[it].index);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.removeByIndexes(container.props[key].groupChild[0].pathToCоmponent,  indexesArr, true);\r\n\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t}\r\n\t\t\t}\r\n}\t\r\n\r\nHTMLixState.prototype.getDifrentFilds = function(array, fild){\r\n\t\r\n\tvar newArr = [];\r\n\tfor(var i=0; i<array.length; i++){   \r\n\t\t\t\r\n\t\t\tvar compareItem = array[i];\r\n\t\t\tif(fild){\r\n\t\t\t\tcompareItem = array[i][fild];\r\n\t\t\t\tif(typeof compareItem == \"object\")compareItem = JSON.stringify(array[i][fild]);\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(typeof array[i] == \"object\")compareItem = JSON.stringify(array[i]);\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\tvar isPersist = false;\r\n\t\t\tnewArr.forEach(newItem=>{    \r\n\t\t\t\t\tvar compareItem_2 = newItem;\r\n\t\t\t\t\tif(fild){\r\n\t\t\t\t\t\t\tcompareItem_2 = newItem[fild];\r\n\t\t\t\t\t\t\tif(typeof compareItem_2 == \"object\")compareItem_2 = JSON.stringify(newItem[fild]);\r\n\t\t\t\t\t}else{\t\t\r\n\t\t\t\t\t\tif(typeof newItem == \"object\")compareItem_2 = JSON.stringify(newItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(compareItem_2 == compareItem)isPersist = true;\r\n\t\t\t});\r\n\t\t\tif(!isPersist){\r\n\t\t\t\t\r\n\t\t\t\tnewArr.push(array[i]);\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t}\r\n\treturn newArr;\t\r\n\r\n}\r\n\r\nHTMLixState.prototype.fetchTemplates = function(callb, templatePath){\r\n\r\n\t\t\t\r\n\t\tif(templatePath == undefined)console.log(\"error не указана дериктория для поиска шаблона в настройках .stateSettings.templatePath\");\r\n\r\n\t\t\t\t\t\t\t\tfetch(templatePath)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tif(response.ok) {\r\n\t\t\t\t\t\t\treturn response.text();\r\n\t\t\t\t\t\t}\t\r\n\r\n            \t\t\t\t\t\tthrow new Error('Network response was not ok');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((text) => {\r\n\r\n\r\n\t\t\t\t\t\tvar div = document.createElement('div');\r\n\t\t\t\t\t\tdiv.innerHTML = text;\r\n\t\t\t\t\t\tcallb(div);\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\r\n\t\t}\r\n\r\n\r\nHTMLixState.prototype.capitalizeFirstLetter = function(string){\r\n\r\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\r\n\r\n\t}\r\n\r\n\r\n"]}